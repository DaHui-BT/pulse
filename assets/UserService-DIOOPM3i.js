var or=Object.defineProperty;var fr=(M,F,U)=>F in M?or(M,F,{enumerable:!0,configurable:!0,writable:!0,value:U}):M[F]=U;var Te=(M,F,U)=>fr(M,typeof F!="symbol"?F+"":F,U);import{R as cr}from"./request-bqFMHjJ2.js";import{I as ur}from"./index-SOpI9FpR.js";function lr(M,F){return F.forEach(function(U){U&&typeof U!="string"&&!Array.isArray(U)&&Object.keys(U).forEach(function(i){if(i!=="default"&&!(i in M)){var e=Object.getOwnPropertyDescriptor(U,i);Object.defineProperty(M,i,e.get?e:{enumerable:!0,get:function(){return U[i]}})}})}),Object.freeze(M)}function Ke(M,F){return new Promise(function(U,i){let e;return hr(M).then(function(r){try{return e=r,U(new Blob([F.slice(0,2),e,F.slice(2)],{type:"image/jpeg"}))}catch(h){return i(h)}},i)})}const hr=M=>new Promise((F,U)=>{const i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{const r=new DataView(e);let h=0;if(r.getUint16(h)!==65496)return U("not a valid JPEG");for(h+=2;;){const f=r.getUint16(h);if(f===65498)break;const p=r.getUint16(h+2);if(f===65505&&r.getUint32(h+4)===1165519206){const A=h+10;let n;switch(r.getUint16(A)){case 18761:n=!0;break;case 19789:n=!1;break;default:return U("TIFF header contains invalid endian")}if(r.getUint16(A+2,n)!==42)return U("TIFF header contains invalid version");const s=r.getUint32(A+4,n),t=A+s+2+12*r.getUint16(A+s,n);for(let o=A+s+2;o<t;o+=12)if(r.getUint16(o,n)==274){if(r.getUint16(o+2,n)!==3)return U("Orientation data type is invalid");if(r.getUint32(o+4,n)!==1)return U("Orientation data count is invalid");r.setUint16(o+8,1,n);break}return F(e.slice(h,h+2+p))}h+=2+p}return F(new Blob)}),i.readAsArrayBuffer(M)});var ke={},dr={get exports(){return ke},set exports(M){ke=M}};(function(M){var F,U,i={};dr.exports=i,i.parse=function(e,r){for(var h=i.bin.readUshort,f=i.bin.readUint,p=0,A={},n=new Uint8Array(e),s=n.length-4;f(n,s)!=101010256;)s--;p=s,p+=4;var t=h(n,p+=4);h(n,p+=2);var o=f(n,p+=2),d=f(n,p+=4);p+=4,p=d;for(var I=0;I<t;I++){f(n,p),p+=4,p+=4,p+=4,f(n,p+=4),o=f(n,p+=4);var R=f(n,p+=4),v=h(n,p+=4),D=h(n,p+2),P=h(n,p+4);p+=6;var x=f(n,p+=8);p+=4,p+=v+D+P,i._readLocal(n,x,A,o,R,r)}return A},i._readLocal=function(e,r,h,f,p,A){var n=i.bin.readUshort,s=i.bin.readUint;s(e,r),n(e,r+=4),n(e,r+=2);var t=n(e,r+=2);s(e,r+=2),s(e,r+=4),r+=4;var o=n(e,r+=8),d=n(e,r+=2);r+=2;var I=i.bin.readUTF8(e,r,o);if(r+=o,r+=d,A)h[I]={size:p,csize:f};else{var R=new Uint8Array(e.buffer,r);if(t==0)h[I]=new Uint8Array(R.buffer.slice(r,r+f));else{if(t!=8)throw"unknown compression method: "+t;var v=new Uint8Array(p);i.inflateRaw(R,v),h[I]=v}}},i.inflateRaw=function(e,r){return i.F.inflate(e,r)},i.inflate=function(e,r){return e[0],e[1],i.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},i.deflate=function(e,r){r==null&&(r={level:6});var h=0,f=new Uint8Array(50+Math.floor(1.1*e.length));f[h]=120,f[h+1]=156,h+=2,h=i.F.deflateRaw(e,f,h,r.level);var p=i.adler(e,0,e.length);return f[h+0]=p>>>24&255,f[h+1]=p>>>16&255,f[h+2]=p>>>8&255,f[h+3]=p>>>0&255,new Uint8Array(f.buffer,0,h+4)},i.deflateRaw=function(e,r){r==null&&(r={level:6});var h=new Uint8Array(50+Math.floor(1.1*e.length)),f=i.F.deflateRaw(e,h,f,r.level);return new Uint8Array(h.buffer,0,f)},i.encode=function(e,r){r==null&&(r=!1);var h=0,f=i.bin.writeUint,p=i.bin.writeUshort,A={};for(var n in e){var s=!i._noNeed(n)&&!r,t=e[n],o=i.crc.crc(t,0,t.length);A[n]={cpr:s,usize:t.length,crc:o,file:s?i.deflateRaw(t):t}}for(var n in A)h+=A[n].file.length+30+46+2*i.bin.sizeUTF8(n);h+=22;var d=new Uint8Array(h),I=0,R=[];for(var n in A){var v=A[n];R.push(I),I=i._writeHeader(d,I,n,v,0)}var D=0,P=I;for(var n in A)v=A[n],R.push(I),I=i._writeHeader(d,I,n,v,1,R[D++]);var x=I-P;return f(d,I,101010256),I+=4,p(d,I+=4,D),p(d,I+=2,D),f(d,I+=2,x),f(d,I+=4,P),I+=4,I+=2,d.buffer},i._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(r)!=-1},i._writeHeader=function(e,r,h,f,p,A){var n=i.bin.writeUint,s=i.bin.writeUshort,t=f.file;return n(e,r,p==0?67324752:33639248),r+=4,p==1&&(r+=2),s(e,r,20),s(e,r+=2,0),s(e,r+=2,f.cpr?8:0),n(e,r+=2,0),n(e,r+=4,f.crc),n(e,r+=4,t.length),n(e,r+=4,f.usize),s(e,r+=4,i.bin.sizeUTF8(h)),s(e,r+=2,0),r+=2,p==1&&(r+=2,r+=2,n(e,r+=6,A),r+=4),r+=i.bin.writeUTF8(e,r,h),p==0&&(e.set(t,r),r+=t.length),r},i.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var h=r,f=0;f<8;f++)1&h?h=3988292384^h>>>1:h>>>=1;e[r]=h}return e}(),update:function(e,r,h,f){for(var p=0;p<f;p++)e=i.crc.table[255&(e^r[h+p])]^e>>>8;return e},crc:function(e,r,h){return 4294967295^i.crc.update(4294967295,e,r,h)}},i.adler=function(e,r,h){for(var f=1,p=0,A=r,n=r+h;A<n;){for(var s=Math.min(A+5552,n);A<s;)p+=f+=e[A++];f%=65521,p%=65521}return p<<16|f},i.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,h){e[r]=255&h,e[r+1]=h>>8&255},readUint:function(e,r){return 16777216*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,h){e[r]=255&h,e[r+1]=h>>8&255,e[r+2]=h>>16&255,e[r+3]=h>>24&255},readASCII:function(e,r,h){for(var f="",p=0;p<h;p++)f+=String.fromCharCode(e[r+p]);return f},writeASCII:function(e,r,h){for(var f=0;f<h.length;f++)e[r+f]=h.charCodeAt(f)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,h){for(var f,p="",A=0;A<h;A++)p+="%"+i.bin.pad(e[r+A].toString(16));try{f=decodeURIComponent(p)}catch{return i.bin.readASCII(e,r,h)}return f},writeUTF8:function(e,r,h){for(var f=h.length,p=0,A=0;A<f;A++){var n=h.charCodeAt(A);if(!(4294967168&n))e[r+p]=n,p++;else if(!(4294965248&n))e[r+p]=192|n>>6,e[r+p+1]=128|n>>0&63,p+=2;else if(!(4294901760&n))e[r+p]=224|n>>12,e[r+p+1]=128|n>>6&63,e[r+p+2]=128|n>>0&63,p+=3;else{if(4292870144&n)throw"e";e[r+p]=240|n>>18,e[r+p+1]=128|n>>12&63,e[r+p+2]=128|n>>6&63,e[r+p+3]=128|n>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var r=e.length,h=0,f=0;f<r;f++){var p=e.charCodeAt(f);if(!(4294967168&p))h++;else if(!(4294965248&p))h+=2;else if(!(4294901760&p))h+=3;else{if(4292870144&p)throw"e";h+=4}}return h}},i.F={},i.F.deflateRaw=function(e,r,h,f){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],A=i.F.U,n=i.F._goodIndex;i.F._hash;var s=i.F._putsE,t=0,o=h<<3,d=0,I=e.length;if(f==0){for(;t<I;)s(r,o,t+(b=Math.min(65535,I-t))==I?1:0),o=i.F._copyExact(e,t,b,r,o+8),t+=b;return o>>>3}var R=A.lits,v=A.strt,D=A.prev,P=0,x=0,H=0,g=0,T=0,u=0;for(I>2&&(v[u=i.F._hash(e,0)]=0),t=0;t<I;t++){if(T=u,t+1<I-2){u=i.F._hash(e,t+1);var c=t+1&32767;D[c]=v[u],v[u]=c}if(d<=t){(P>14e3||x>26697)&&I-t>100&&(d<t&&(R[P]=t-d,P+=2,d=t),o=i.F._writeBlock(t==I-1||d==I?1:0,R,P,g,e,H,t-H,r,o),P=x=g=0,H=t);var y=0;t<I-2&&(y=i.F._bestMatch(e,t,D,T,Math.min(p[2],I-t),p[3]));var b=y>>>16,w=65535&y;if(y!=0){w=65535&y;var E=n(b=y>>>16,A.of0);A.lhst[257+E]++;var m=n(w,A.df0);A.dhst[m]++,g+=A.exb[E]+A.dxb[m],R[P]=b<<23|t-d,R[P+1]=w<<16|E<<8|m,P+=2,d=t+b}else A.lhst[e[t]]++;x++}}for(H==t&&e.length!=0||(d<t&&(R[P]=t-d,P+=2,d=t),o=i.F._writeBlock(1,R,P,g,e,H,t-H,r,o),P=0,x=0,P=x=g=0,H=t);7&o;)o++;return o>>>3},i.F._bestMatch=function(e,r,h,f,p,A){var n=32767&r,s=h[n],t=n-s+32768&32767;if(s==n||f!=i.F._hash(e,r-t))return 0;for(var o=0,d=0,I=Math.min(32767,r);t<=I&&--A!=0&&s!=n;){if(o==0||e[r+o]==e[r+o-t]){var R=i.F._howLong(e,r,t);if(R>o){if(d=t,(o=R)>=p)break;t+2<R&&(R=t+2);for(var v=0,D=0;D<R-2;D++){var P=r-t+D+32768&32767,x=P-h[P]+32768&32767;x>v&&(v=x,s=P)}}}t+=(n=s)-(s=h[n])+32768&32767}return o<<16|d},i.F._howLong=function(e,r,h){if(e[r]!=e[r-h]||e[r+1]!=e[r+1-h]||e[r+2]!=e[r+2-h])return 0;var f=r,p=Math.min(e.length,r+258);for(r+=3;r<p&&e[r]==e[r-h];)r++;return r-f},i.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(e,r,h,f,p,A,n,s,t){var o,d,I,R,v,D,P,x,H,g=i.F.U,T=i.F._putsF,u=i.F._putsE;g.lhst[256]++,d=(o=i.F.getTrees())[0],I=o[1],R=o[2],v=o[3],D=o[4],P=o[5],x=o[6],H=o[7];var c=32+(t+3&7?8-(t+3&7):0)+(n<<3),y=f+i.F.contSize(g.fltree,g.lhst)+i.F.contSize(g.fdtree,g.dhst),b=f+i.F.contSize(g.ltree,g.lhst)+i.F.contSize(g.dtree,g.dhst);b+=14+3*P+i.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var E=c<y&&c<b?0:y<b?1:2;if(T(s,t,e),T(s,t+1,E),t+=3,E==0){for(;7&t;)t++;t=i.F._copyExact(p,A,n,s,t)}else{var m,C;if(E==1&&(m=g.fltree,C=g.fdtree),E==2){i.F.makeCodes(g.ltree,d),i.F.revCodes(g.ltree,d),i.F.makeCodes(g.dtree,I),i.F.revCodes(g.dtree,I),i.F.makeCodes(g.itree,R),i.F.revCodes(g.itree,R),m=g.ltree,C=g.dtree,u(s,t,v-257),u(s,t+=5,D-1),u(s,t+=5,P-4),t+=4;for(var l=0;l<P;l++)u(s,t+3*l,g.itree[1+(g.ordr[l]<<1)]);t+=3*P,t=i.F._codeTiny(x,g.itree,s,t),t=i.F._codeTiny(H,g.itree,s,t)}for(var a=A,k=0;k<h;k+=2){for(var _=r[k],O=_>>>23,q=a+(8388607&_);a<q;)t=i.F._writeLit(p[a++],m,s,t);if(O!=0){var B=r[k+1],z=B>>16,L=B>>8&255,S=255&B;u(s,t=i.F._writeLit(257+L,m,s,t),O-g.of0[L]),t+=g.exb[L],T(s,t=i.F._writeLit(S,C,s,t),z-g.df0[S]),t+=g.dxb[S],a+=O}}t=i.F._writeLit(256,m,s,t)}return t},i.F._copyExact=function(e,r,h,f,p){var A=p>>>3;return f[A]=h,f[A+1]=h>>>8,f[A+2]=255-f[A],f[A+3]=255-f[A+1],A+=4,f.set(new Uint8Array(e.buffer,r,h),A),p+(h+4<<3)},i.F.getTrees=function(){for(var e=i.F.U,r=i.F._hufTree(e.lhst,e.ltree,15),h=i.F._hufTree(e.dhst,e.dtree,15),f=[],p=i.F._lenCodes(e.ltree,f),A=[],n=i.F._lenCodes(e.dtree,A),s=0;s<f.length;s+=2)e.ihst[f[s]]++;for(s=0;s<A.length;s+=2)e.ihst[A[s]]++;for(var t=i.F._hufTree(e.ihst,e.itree,7),o=19;o>4&&e.itree[1+(e.ordr[o-1]<<1)]==0;)o--;return[r,h,t,p,n,o,f,A]},i.F.getSecond=function(e){for(var r=[],h=0;h<e.length;h+=2)r.push(e[h+1]);return r},i.F.nonZero=function(e){for(var r="",h=0;h<e.length;h+=2)e[h+1]!=0&&(r+=(h>>1)+",");return r},i.F.contSize=function(e,r){for(var h=0,f=0;f<r.length;f++)h+=r[f]*e[1+(f<<1)];return h},i.F._codeTiny=function(e,r,h,f){for(var p=0;p<e.length;p+=2){var A=e[p],n=e[p+1];f=i.F._writeLit(A,r,h,f);var s=A==16?2:A==17?3:7;A>15&&(i.F._putsE(h,f,n,s),f+=s)}return f},i.F._lenCodes=function(e,r){for(var h=e.length;h!=2&&e[h-1]==0;)h-=2;for(var f=0;f<h;f+=2){var p=e[f+1],A=f+3<h?e[f+3]:-1,n=f+5<h?e[f+5]:-1,s=f==0?-1:e[f-1];if(p==0&&A==p&&n==p){for(var t=f+5;t+2<h&&e[t+2]==p;)t+=2;(o=Math.min(t+1-f>>>1,138))<11?r.push(17,o-3):r.push(18,o-11),f+=2*o-2}else if(p==s&&A==p&&n==p){for(t=f+5;t+2<h&&e[t+2]==p;)t+=2;var o=Math.min(t+1-f>>>1,6);r.push(16,o-3),f+=2*o-2}else r.push(p,0)}return h>>>1},i.F._hufTree=function(e,r,h){var f=[],p=e.length,A=r.length,n=0;for(n=0;n<A;n+=2)r[n]=0,r[n+1]=0;for(n=0;n<p;n++)e[n]!=0&&f.push({lit:n,f:e[n]});var s=f.length,t=f.slice(0);if(s==0)return 0;if(s==1){var o=f[0].lit;return t=o==0?1:0,r[1+(o<<1)]=1,r[1+(t<<1)]=1,1}f.sort(function(x,H){return x.f-H.f});var d=f[0],I=f[1],R=0,v=1,D=2;for(f[0]={lit:-1,f:d.f+I.f,l:d,r:I,d:0};v!=s-1;)d=R!=v&&(D==s||f[R].f<f[D].f)?f[R++]:f[D++],I=R!=v&&(D==s||f[R].f<f[D].f)?f[R++]:f[D++],f[v++]={lit:-1,f:d.f+I.f,l:d,r:I};var P=i.F.setDepth(f[v-1],0);for(P>h&&(i.F.restrictDepth(t,h,P),P=h),n=0;n<s;n++)r[1+(t[n].lit<<1)]=t[n].d;return P},i.F.setDepth=function(e,r){return e.lit!=-1?(e.d=r,r):Math.max(i.F.setDepth(e.l,r+1),i.F.setDepth(e.r,r+1))},i.F.restrictDepth=function(e,r,h){var f=0,p=1<<h-r,A=0;for(e.sort(function(s,t){return t.d==s.d?s.f-t.f:t.d-s.d}),f=0;f<e.length&&e[f].d>r;f++){var n=e[f].d;e[f].d=r,A+=p-(1<<h-n)}for(A>>>=h-r;A>0;)(n=e[f].d)<r?(e[f].d++,A-=1<<r-n-1):f++;for(;f>=0;f--)e[f].d==r&&A<0&&(e[f].d--,A++);A!=0&&console.log("debt left")},i.F._goodIndex=function(e,r){var h=0;return r[16|h]<=e&&(h|=16),r[8|h]<=e&&(h|=8),r[4|h]<=e&&(h|=4),r[2|h]<=e&&(h|=2),r[1|h]<=e&&(h|=1),h},i.F._writeLit=function(e,r,h,f){return i.F._putsF(h,f,r[e<<1]),f+r[1+(e<<1)]},i.F.inflate=function(e,r){var h=Uint8Array;if(e[0]==3&&e[1]==0)return r||new h(0);var f=i.F,p=f._bitsF,A=f._bitsE,n=f._decodeTiny,s=f.makeCodes,t=f.codes2map,o=f._get17,d=f.U,I=r==null;I&&(r=new h(e.length>>>2<<3));for(var R,v,D=0,P=0,x=0,H=0,g=0,T=0,u=0,c=0,y=0;D==0;)if(D=p(e,y,1),P=p(e,y+1,2),y+=3,P!=0){if(I&&(r=i.F._check(r,c+(1<<17))),P==1&&(R=d.flmap,v=d.fdmap,T=511,u=31),P==2){x=A(e,y,5)+257,H=A(e,y+5,5)+1,g=A(e,y+10,4)+4,y+=14;for(var b=0;b<38;b+=2)d.itree[b]=0,d.itree[b+1]=0;var w=1;for(b=0;b<g;b++){var E=A(e,y+3*b,3);d.itree[1+(d.ordr[b]<<1)]=E,E>w&&(w=E)}y+=3*g,s(d.itree,w),t(d.itree,w,d.imap),R=d.lmap,v=d.dmap,y=n(d.imap,(1<<w)-1,x+H,e,y,d.ttree);var m=f._copyOut(d.ttree,0,x,d.ltree);T=(1<<m)-1;var C=f._copyOut(d.ttree,x,H,d.dtree);u=(1<<C)-1,s(d.ltree,m),t(d.ltree,m,R),s(d.dtree,C),t(d.dtree,C,v)}for(;;){var l=R[o(e,y)&T];y+=15&l;var a=l>>>4;if(!(a>>>8))r[c++]=a;else{if(a==256)break;var k=c+a-254;if(a>264){var _=d.ldef[a-257];k=c+(_>>>3)+A(e,y,7&_),y+=7&_}var O=v[o(e,y)&u];y+=15&O;var q=O>>>4,B=d.ddef[q],z=(B>>>4)+p(e,y,15&B);for(y+=15&B,I&&(r=i.F._check(r,c+(1<<17)));c<k;)r[c]=r[c++-z],r[c]=r[c++-z],r[c]=r[c++-z],r[c]=r[c++-z];c=k}}}else{7&y&&(y+=8-(7&y));var L=4+(y>>>3),S=e[L-4]|e[L-3]<<8;I&&(r=i.F._check(r,c+S)),r.set(new h(e.buffer,e.byteOffset+L,S),c),y=L+S<<3,c+=S}return r.length==c?r:r.slice(0,c)},i.F._check=function(e,r){var h=e.length;if(r<=h)return e;var f=new Uint8Array(Math.max(h<<1,r));return f.set(e,0),f},i.F._decodeTiny=function(e,r,h,f,p,A){for(var n=i.F._bitsE,s=i.F._get17,t=0;t<h;){var o=e[s(f,p)&r];p+=15&o;var d=o>>>4;if(d<=15)A[t]=d,t++;else{var I=0,R=0;d==16?(R=3+n(f,p,2),p+=2,I=A[t-1]):d==17?(R=3+n(f,p,3),p+=3):d==18&&(R=11+n(f,p,7),p+=7);for(var v=t+R;t<v;)A[t]=I,t++}}return p},i.F._copyOut=function(e,r,h,f){for(var p=0,A=0,n=f.length>>>1;A<h;){var s=e[A+r];f[A<<1]=0,f[1+(A<<1)]=s,s>p&&(p=s),A++}for(;A<n;)f[A<<1]=0,f[1+(A<<1)]=0,A++;return p},i.F.makeCodes=function(e,r){for(var h,f,p,A,n=i.F.U,s=e.length,t=n.bl_count,o=0;o<=r;o++)t[o]=0;for(o=1;o<s;o+=2)t[e[o]]++;var d=n.next_code;for(h=0,t[0]=0,f=1;f<=r;f++)h=h+t[f-1]<<1,d[f]=h;for(p=0;p<s;p+=2)(A=e[p+1])!=0&&(e[p]=d[A],d[A]++)},i.F.codes2map=function(e,r,h){for(var f=e.length,p=i.F.U.rev15,A=0;A<f;A+=2)if(e[A+1]!=0)for(var n=A>>1,s=e[A+1],t=n<<4|s,o=r-s,d=e[A]<<o,I=d+(1<<o);d!=I;)h[p[d]>>>15-r]=t,d++},i.F.revCodes=function(e,r){for(var h=i.F.U.rev15,f=15-r,p=0;p<e.length;p+=2){var A=e[p]<<r-e[p+1];e[p]=h[A]>>>f}},i.F._putsE=function(e,r,h){h<<=7&r;var f=r>>>3;e[f]|=h,e[f+1]|=h>>>8},i.F._putsF=function(e,r,h){h<<=7&r;var f=r>>>3;e[f]|=h,e[f+1]|=h>>>8,e[f+2]|=h>>>16},i.F._bitsE=function(e,r,h){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<h)-1},i.F._bitsF=function(e,r,h){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<h)-1},i.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},i.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},i.F.U=(F=Uint16Array,U=Uint32Array,{next_code:new F(16),bl_count:new F(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new F(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new U(32),flmap:new F(512),fltree:[],fdmap:new F(32),fdtree:[],lmap:new F(32768),ltree:[],ttree:[],dmap:new F(32768),dtree:[],imap:new F(512),itree:[],rev15:new F(32768),lhst:new U(286),dhst:new U(30),ihst:new U(19),lits:new U(15e3),strt:new F(65536),prev:new F(32768)}),function(){for(var e=i.F.U,r=0;r<32768;r++){var h=r;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,e.rev15[r]=(h>>>16|h<<16)>>>17}function f(p,A,n){for(;A--!=0;)p.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];f(e.fltree,144,8),f(e.fltree,112,9),f(e.fltree,24,7),f(e.fltree,8,8),i.F.makeCodes(e.fltree,9),i.F.codes2map(e.fltree,9,e.flmap),i.F.revCodes(e.fltree,9),f(e.fdtree,32,5),i.F.makeCodes(e.fdtree,5),i.F.codes2map(e.fdtree,5,e.fdmap),i.F.revCodes(e.fdtree,5),f(e.itree,19,0),f(e.ltree,286,0),f(e.dtree,30,0),f(e.ttree,320,0)}()})();var gr=lr({__proto__:null,default:ke},[ke]);const he=function(){var M={nextZero(n,s){for(;n[s]!=0;)s++;return s},readUshort:(n,s)=>n[s]<<8|n[s+1],writeUshort(n,s,t){n[s]=t>>8&255,n[s+1]=255&t},readUint:(n,s)=>16777216*n[s]+(n[s+1]<<16|n[s+2]<<8|n[s+3]),writeUint(n,s,t){n[s]=t>>24&255,n[s+1]=t>>16&255,n[s+2]=t>>8&255,n[s+3]=255&t},readASCII(n,s,t){let o="";for(let d=0;d<t;d++)o+=String.fromCharCode(n[s+d]);return o},writeASCII(n,s,t){for(let o=0;o<t.length;o++)n[s+o]=t.charCodeAt(o)},readBytes(n,s,t){const o=[];for(let d=0;d<t;d++)o.push(n[s+d]);return o},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,s,t){let o,d="";for(let I=0;I<t;I++)d+=`%${M.pad(n[s+I].toString(16))}`;try{o=decodeURIComponent(d)}catch{return M.readASCII(n,s,t)}return o}};function F(n,s,t,o){const d=s*t,I=r(o),R=Math.ceil(s*I/8),v=new Uint8Array(4*d),D=new Uint32Array(v.buffer),{ctype:P}=o,{depth:x}=o,H=M.readUshort;if(P==6){const _=d<<2;if(x==8)for(var g=0;g<_;g+=4)v[g]=n[g],v[g+1]=n[g+1],v[g+2]=n[g+2],v[g+3]=n[g+3];if(x==16)for(g=0;g<_;g++)v[g]=n[g<<1]}else if(P==2){const _=o.tabs.tRNS;if(_==null){if(x==8)for(g=0;g<d;g++){var T=3*g;D[g]=255<<24|n[T+2]<<16|n[T+1]<<8|n[T]}if(x==16)for(g=0;g<d;g++)T=6*g,D[g]=255<<24|n[T+4]<<16|n[T+2]<<8|n[T]}else{var u=_[0];const O=_[1],q=_[2];if(x==8)for(g=0;g<d;g++){var c=g<<2;T=3*g,D[g]=255<<24|n[T+2]<<16|n[T+1]<<8|n[T],n[T]==u&&n[T+1]==O&&n[T+2]==q&&(v[c+3]=0)}if(x==16)for(g=0;g<d;g++)c=g<<2,T=6*g,D[g]=255<<24|n[T+4]<<16|n[T+2]<<8|n[T],H(n,T)==u&&H(n,T+2)==O&&H(n,T+4)==q&&(v[c+3]=0)}}else if(P==3){const _=o.tabs.PLTE,O=o.tabs.tRNS,q=O?O.length:0;if(x==1)for(var y=0;y<t;y++){var b=y*R,w=y*s;for(g=0;g<s;g++){c=w+g<<2;var E=3*(m=n[b+(g>>3)]>>7-((7&g)<<0)&1);v[c]=_[E],v[c+1]=_[E+1],v[c+2]=_[E+2],v[c+3]=m<q?O[m]:255}}if(x==2)for(y=0;y<t;y++)for(b=y*R,w=y*s,g=0;g<s;g++)c=w+g<<2,E=3*(m=n[b+(g>>2)]>>6-((3&g)<<1)&3),v[c]=_[E],v[c+1]=_[E+1],v[c+2]=_[E+2],v[c+3]=m<q?O[m]:255;if(x==4)for(y=0;y<t;y++)for(b=y*R,w=y*s,g=0;g<s;g++)c=w+g<<2,E=3*(m=n[b+(g>>1)]>>4-((1&g)<<2)&15),v[c]=_[E],v[c+1]=_[E+1],v[c+2]=_[E+2],v[c+3]=m<q?O[m]:255;if(x==8)for(g=0;g<d;g++){var m;c=g<<2,E=3*(m=n[g]),v[c]=_[E],v[c+1]=_[E+1],v[c+2]=_[E+2],v[c+3]=m<q?O[m]:255}}else if(P==4){if(x==8)for(g=0;g<d;g++){c=g<<2;var C=n[l=g<<1];v[c]=C,v[c+1]=C,v[c+2]=C,v[c+3]=n[l+1]}if(x==16)for(g=0;g<d;g++){var l;c=g<<2,C=n[l=g<<2],v[c]=C,v[c+1]=C,v[c+2]=C,v[c+3]=n[l+2]}}else if(P==0)for(u=o.tabs.tRNS?o.tabs.tRNS:-1,y=0;y<t;y++){const _=y*R,O=y*s;if(x==1)for(var a=0;a<s;a++){var k=(C=255*(n[_+(a>>>3)]>>>7-(7&a)&1))==255*u?0:255;D[O+a]=k<<24|C<<16|C<<8|C}else if(x==2)for(a=0;a<s;a++)k=(C=85*(n[_+(a>>>2)]>>>6-((3&a)<<1)&3))==85*u?0:255,D[O+a]=k<<24|C<<16|C<<8|C;else if(x==4)for(a=0;a<s;a++)k=(C=17*(n[_+(a>>>1)]>>>4-((1&a)<<2)&15))==17*u?0:255,D[O+a]=k<<24|C<<16|C<<8|C;else if(x==8)for(a=0;a<s;a++)k=(C=n[_+a])==u?0:255,D[O+a]=k<<24|C<<16|C<<8|C;else if(x==16)for(a=0;a<s;a++)C=n[_+(a<<1)],k=H(n,_+(a<<1))==u?0:255,D[O+a]=k<<24|C<<16|C<<8|C}return v}function U(n,s,t,o){const d=r(n),I=Math.ceil(t*d/8),R=new Uint8Array((I+1+n.interlace)*o);return s=n.tabs.CgBI?e(s,R):i(s,R),n.interlace==0?s=h(s,n,0,t,o):n.interlace==1&&(s=function(D,P){const x=P.width,H=P.height,g=r(P),T=g>>3,u=Math.ceil(x*g/8),c=new Uint8Array(H*u);let y=0;const b=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],E=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const a=E[C],k=m[C];let _=0,O=0,q=b[C];for(;q<H;)q+=a,O++;let B=w[C];for(;B<x;)B+=k,_++;const z=Math.ceil(_*g/8);h(D,P,y,_,O);let L=0,S=b[C];for(;S<H;){let N=w[C],K=y+L*z<<3;for(;N<x;){var l;if(g==1&&(l=(l=D[K>>3])>>7-(7&K)&1,c[S*u+(N>>3)]|=l<<7-((7&N)<<0)),g==2&&(l=(l=D[K>>3])>>6-(7&K)&3,c[S*u+(N>>2)]|=l<<6-((3&N)<<1)),g==4&&(l=(l=D[K>>3])>>4-(7&K)&15,c[S*u+(N>>1)]|=l<<4-((1&N)<<2)),g>=8){const W=S*u+N*T;for(let Q=0;Q<T;Q++)c[W+Q]=D[(K>>3)+Q]}K+=g,N+=k}L++,S+=a}_*O!=0&&(y+=O*(1+z)),C+=1}return c}(s,n)),s}function i(n,s){return e(new Uint8Array(n.buffer,2,n.length-6),s)}var e=function(){const n={H:{}};return n.H.N=function(s,t){const o=Uint8Array;let d,I,R=0,v=0,D=0,P=0,x=0,H=0,g=0,T=0,u=0;if(s[0]==3&&s[1]==0)return t||new o(0);const c=n.H,y=c.b,b=c.e,w=c.R,E=c.n,m=c.A,C=c.Z,l=c.m,a=t==null;for(a&&(t=new o(s.length>>>2<<5));R==0;)if(R=y(s,u,1),v=y(s,u+1,2),u+=3,v!=0){if(a&&(t=n.H.W(t,T+(1<<17))),v==1&&(d=l.J,I=l.h,H=511,g=31),v==2){D=b(s,u,5)+257,P=b(s,u+5,5)+1,x=b(s,u+10,4)+4,u+=14;let _=1;for(var k=0;k<38;k+=2)l.Q[k]=0,l.Q[k+1]=0;for(k=0;k<x;k++){const B=b(s,u+3*k,3);l.Q[1+(l.X[k]<<1)]=B,B>_&&(_=B)}u+=3*x,E(l.Q,_),m(l.Q,_,l.u),d=l.w,I=l.d,u=w(l.u,(1<<_)-1,D+P,s,u,l.v);const O=c.V(l.v,0,D,l.C);H=(1<<O)-1;const q=c.V(l.v,D,P,l.D);g=(1<<q)-1,E(l.C,O),m(l.C,O,d),E(l.D,q),m(l.D,q,I)}for(;;){const _=d[C(s,u)&H];u+=15&_;const O=_>>>4;if(!(O>>>8))t[T++]=O;else{if(O==256)break;{let q=T+O-254;if(O>264){const N=l.q[O-257];q=T+(N>>>3)+b(s,u,7&N),u+=7&N}const B=I[C(s,u)&g];u+=15&B;const z=B>>>4,L=l.c[z],S=(L>>>4)+y(s,u,15&L);for(u+=15&L;T<q;)t[T]=t[T++-S],t[T]=t[T++-S],t[T]=t[T++-S],t[T]=t[T++-S];T=q}}}}else{7&u&&(u+=8-(7&u));const _=4+(u>>>3),O=s[_-4]|s[_-3]<<8;a&&(t=n.H.W(t,T+O)),t.set(new o(s.buffer,s.byteOffset+_,O),T),u=_+O<<3,T+=O}return t.length==T?t:t.slice(0,T)},n.H.W=function(s,t){const o=s.length;if(t<=o)return s;const d=new Uint8Array(o<<1);return d.set(s,0),d},n.H.R=function(s,t,o,d,I,R){const v=n.H.e,D=n.H.Z;let P=0;for(;P<o;){const x=s[D(d,I)&t];I+=15&x;const H=x>>>4;if(H<=15)R[P]=H,P++;else{let g=0,T=0;H==16?(T=3+v(d,I,2),I+=2,g=R[P-1]):H==17?(T=3+v(d,I,3),I+=3):H==18&&(T=11+v(d,I,7),I+=7);const u=P+T;for(;P<u;)R[P]=g,P++}}return I},n.H.V=function(s,t,o,d){let I=0,R=0;const v=d.length>>>1;for(;R<o;){const D=s[R+t];d[R<<1]=0,d[1+(R<<1)]=D,D>I&&(I=D),R++}for(;R<v;)d[R<<1]=0,d[1+(R<<1)]=0,R++;return I},n.H.n=function(s,t){const o=n.H.m,d=s.length;let I,R,v,D;const P=o.j;for(var x=0;x<=t;x++)P[x]=0;for(x=1;x<d;x+=2)P[s[x]]++;const H=o.K;for(I=0,P[0]=0,R=1;R<=t;R++)I=I+P[R-1]<<1,H[R]=I;for(v=0;v<d;v+=2)D=s[v+1],D!=0&&(s[v]=H[D],H[D]++)},n.H.A=function(s,t,o){const d=s.length,I=n.H.m.r;for(let R=0;R<d;R+=2)if(s[R+1]!=0){const v=R>>1,D=s[R+1],P=v<<4|D,x=t-D;let H=s[R]<<x;const g=H+(1<<x);for(;H!=g;)o[I[H]>>>15-t]=P,H++}},n.H.l=function(s,t){const o=n.H.m.r,d=15-t;for(let I=0;I<s.length;I+=2){const R=s[I]<<t-s[I+1];s[I]=o[R]>>>d}},n.H.M=function(s,t,o){o<<=7&t;const d=t>>>3;s[d]|=o,s[d+1]|=o>>>8},n.H.I=function(s,t,o){o<<=7&t;const d=t>>>3;s[d]|=o,s[d+1]|=o>>>8,s[d+2]|=o>>>16},n.H.e=function(s,t,o){return(s[t>>>3]|s[1+(t>>>3)]<<8)>>>(7&t)&(1<<o)-1},n.H.b=function(s,t,o){return(s[t>>>3]|s[1+(t>>>3)]<<8|s[2+(t>>>3)]<<16)>>>(7&t)&(1<<o)-1},n.H.Z=function(s,t){return(s[t>>>3]|s[1+(t>>>3)]<<8|s[2+(t>>>3)]<<16)>>>(7&t)},n.H.i=function(s,t){return(s[t>>>3]|s[1+(t>>>3)]<<8|s[2+(t>>>3)]<<16|s[3+(t>>>3)]<<24)>>>(7&t)},n.H.m=function(){const s=Uint16Array,t=Uint32Array;return{K:new s(16),j:new s(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new s(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new t(32),J:new s(512),_:[],h:new s(32),$:[],w:new s(32768),C:[],v:[],d:new s(32768),D:[],u:new s(512),Q:[],r:new s(32768),s:new t(286),Y:new t(30),a:new t(19),t:new t(15e3),k:new s(65536),g:new s(32768)}}(),function(){const s=n.H.m;for(var t=0;t<32768;t++){let d=t;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,s.r[t]=(d>>>16|d<<16)>>>17}function o(d,I,R){for(;I--!=0;)d.push(0,R)}for(t=0;t<32;t++)s.q[t]=s.S[t]<<3|s.T[t],s.c[t]=s.p[t]<<4|s.z[t];o(s._,144,8),o(s._,112,9),o(s._,24,7),o(s._,8,8),n.H.n(s._,9),n.H.A(s._,9,s.J),n.H.l(s._,9),o(s.$,32,5),n.H.n(s.$,5),n.H.A(s.$,5,s.h),n.H.l(s.$,5),o(s.Q,19,0),o(s.C,286,0),o(s.D,30,0),o(s.v,320,0)}(),n.H.N}();function r(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function h(n,s,t,o,d){let I=r(s);const R=Math.ceil(o*I/8);let v,D;I=Math.ceil(I/8);let P=n[t],x=0;if(P>1&&(n[t]=[0,0,1][P-2]),P==3)for(x=I;x<R;x++)n[x+1]=n[x+1]+(n[x+1-I]>>>1)&255;for(let H=0;H<d;H++)if(v=t+H*R,D=v+H+1,P=n[D-1],x=0,P==0)for(;x<R;x++)n[v+x]=n[D+x];else if(P==1){for(;x<I;x++)n[v+x]=n[D+x];for(;x<R;x++)n[v+x]=n[D+x]+n[v+x-I]}else if(P==2)for(;x<R;x++)n[v+x]=n[D+x]+n[v+x-R];else if(P==3){for(;x<I;x++)n[v+x]=n[D+x]+(n[v+x-R]>>>1);for(;x<R;x++)n[v+x]=n[D+x]+(n[v+x-R]+n[v+x-I]>>>1)}else{for(;x<I;x++)n[v+x]=n[D+x]+f(0,n[v+x-R],0);for(;x<R;x++)n[v+x]=n[D+x]+f(n[v+x-I],n[v+x-R],n[v+x-I-R])}return n}function f(n,s,t){const o=n+s-t,d=o-n,I=o-s,R=o-t;return d*d<=I*I&&d*d<=R*R?n:I*I<=R*R?s:t}function p(n,s,t){t.width=M.readUint(n,s),s+=4,t.height=M.readUint(n,s),s+=4,t.depth=n[s],s++,t.ctype=n[s],s++,t.compress=n[s],s++,t.filter=n[s],s++,t.interlace=n[s],s++}function A(n,s,t,o,d,I,R,v,D){const P=Math.min(s,d),x=Math.min(t,I);let H=0,g=0;for(let C=0;C<x;C++)for(let l=0;l<P;l++)if(R>=0&&v>=0?(H=C*s+l<<2,g=(v+C)*d+R+l<<2):(H=(-v+C)*s-R+l<<2,g=C*d+l<<2),D==0)o[g]=n[H],o[g+1]=n[H+1],o[g+2]=n[H+2],o[g+3]=n[H+3];else if(D==1){var T=n[H+3]*.00392156862745098,u=n[H]*T,c=n[H+1]*T,y=n[H+2]*T,b=o[g+3]*(1/255),w=o[g]*b,E=o[g+1]*b,m=o[g+2]*b;const a=1-T,k=T+b*a,_=k==0?0:1/k;o[g+3]=255*k,o[g+0]=(u+w*a)*_,o[g+1]=(c+E*a)*_,o[g+2]=(y+m*a)*_}else if(D==2)T=n[H+3],u=n[H],c=n[H+1],y=n[H+2],b=o[g+3],w=o[g],E=o[g+1],m=o[g+2],T==b&&u==w&&c==E&&y==m?(o[g]=0,o[g+1]=0,o[g+2]=0,o[g+3]=0):(o[g]=u,o[g+1]=c,o[g+2]=y,o[g+3]=T);else if(D==3){if(T=n[H+3],u=n[H],c=n[H+1],y=n[H+2],b=o[g+3],w=o[g],E=o[g+1],m=o[g+2],T==b&&u==w&&c==E&&y==m)continue;if(T<220&&b>20)return!1}return!0}return{decode:function(s){const t=new Uint8Array(s);let o=8;const d=M,I=d.readUshort,R=d.readUint,v={tabs:{},frames:[]},D=new Uint8Array(t.length);let P,x=0,H=0;const g=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(t[T]!=g[T])throw"The input is not a PNG file!";for(;o<t.length;){const C=d.readUint(t,o);o+=4;const l=d.readASCII(t,o,4);if(o+=4,l=="IHDR")p(t,o,v);else if(l=="iCCP"){for(var u=o;t[u]!=0;)u++;d.readASCII(t,o,u-o),t[u+1];const a=t.slice(u+2,o+C);let k=null;try{k=i(a)}catch{k=e(a)}v.tabs[l]=k}else if(l=="CgBI")v.tabs[l]=t.slice(o,o+4);else if(l=="IDAT"){for(T=0;T<C;T++)D[x+T]=t[o+T];x+=C}else if(l=="acTL")v.tabs[l]={num_frames:R(t,o),num_plays:R(t,o+4)},P=new Uint8Array(t.length);else if(l=="fcTL"){H!=0&&((m=v.frames[v.frames.length-1]).data=U(v,P.slice(0,H),m.rect.width,m.rect.height),H=0);const a={x:R(t,o+12),y:R(t,o+16),width:R(t,o+4),height:R(t,o+8)};let k=I(t,o+22);k=I(t,o+20)/(k==0?100:k);const _={rect:a,delay:Math.round(1e3*k),dispose:t[o+24],blend:t[o+25]};v.frames.push(_)}else if(l=="fdAT"){for(T=0;T<C-4;T++)P[H+T]=t[o+T+4];H+=C-4}else if(l=="pHYs")v.tabs[l]=[d.readUint(t,o),d.readUint(t,o+4),t[o+8]];else if(l=="cHRM")for(v.tabs[l]=[],T=0;T<8;T++)v.tabs[l].push(d.readUint(t,o+4*T));else if(l=="tEXt"||l=="zTXt"){v.tabs[l]==null&&(v.tabs[l]={});var c=d.nextZero(t,o),y=d.readASCII(t,o,c-o),b=o+C-c-1;if(l=="tEXt")E=d.readASCII(t,c+1,b);else{var w=i(t.slice(c+2,c+2+b));E=d.readUTF8(w,0,w.length)}v.tabs[l][y]=E}else if(l=="iTXt"){v.tabs[l]==null&&(v.tabs[l]={}),c=0,u=o,c=d.nextZero(t,u),y=d.readASCII(t,u,c-u);const a=t[u=c+1];var E;t[u+1],u+=2,c=d.nextZero(t,u),d.readASCII(t,u,c-u),u=c+1,c=d.nextZero(t,u),d.readUTF8(t,u,c-u),b=C-((u=c+1)-o),a==0?E=d.readUTF8(t,u,b):(w=i(t.slice(u,u+b)),E=d.readUTF8(w,0,w.length)),v.tabs[l][y]=E}else if(l=="PLTE")v.tabs[l]=d.readBytes(t,o,C);else if(l=="hIST"){const a=v.tabs.PLTE.length/3;for(v.tabs[l]=[],T=0;T<a;T++)v.tabs[l].push(I(t,o+2*T))}else if(l=="tRNS")v.ctype==3?v.tabs[l]=d.readBytes(t,o,C):v.ctype==0?v.tabs[l]=I(t,o):v.ctype==2&&(v.tabs[l]=[I(t,o),I(t,o+2),I(t,o+4)]);else if(l=="gAMA")v.tabs[l]=d.readUint(t,o)/1e5;else if(l=="sRGB")v.tabs[l]=t[o];else if(l=="bKGD")v.ctype==0||v.ctype==4?v.tabs[l]=[I(t,o)]:v.ctype==2||v.ctype==6?v.tabs[l]=[I(t,o),I(t,o+2),I(t,o+4)]:v.ctype==3&&(v.tabs[l]=t[o]);else if(l=="IEND")break;o+=C,d.readUint(t,o),o+=4}var m;return H!=0&&((m=v.frames[v.frames.length-1]).data=U(v,P.slice(0,H),m.rect.width,m.rect.height)),v.data=U(v,D,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(s){const t=s.width,o=s.height;if(s.tabs.acTL==null)return[F(s.data,t,o,s).buffer];const d=[];s.frames[0].data==null&&(s.frames[0].data=s.data);const I=t*o*4,R=new Uint8Array(I),v=new Uint8Array(I),D=new Uint8Array(I);for(let x=0;x<s.frames.length;x++){const H=s.frames[x],g=H.rect.x,T=H.rect.y,u=H.rect.width,c=H.rect.height,y=F(H.data,u,c,s);if(x!=0)for(var P=0;P<I;P++)D[P]=R[P];if(H.blend==0?A(y,u,c,R,t,o,g,T,0):H.blend==1&&A(y,u,c,R,t,o,g,T,1),d.push(R.buffer.slice(0)),H.dispose!=0){if(H.dispose==1)A(v,u,c,R,t,o,g,T,0);else if(H.dispose==2)for(P=0;P<I;P++)R[P]=D[P]}}return d},_paeth:f,_copyTile:A,_bin:M}}();(function(){const{_copyTile:M}=he,{_bin:F}=he,U=he._paeth;var i={table:function(){const u=new Uint32Array(256);for(let c=0;c<256;c++){let y=c;for(let b=0;b<8;b++)1&y?y=3988292384^y>>>1:y>>>=1;u[c]=y}return u}(),update(u,c,y,b){for(let w=0;w<b;w++)u=i.table[255&(u^c[y+w])]^u>>>8;return u},crc:(u,c,y)=>4294967295^i.update(4294967295,u,c,y)};function e(u,c,y,b){c[y]+=u[0]*b>>4,c[y+1]+=u[1]*b>>4,c[y+2]+=u[2]*b>>4,c[y+3]+=u[3]*b>>4}function r(u){return Math.max(0,Math.min(255,u))}function h(u,c){const y=u[0]-c[0],b=u[1]-c[1],w=u[2]-c[2],E=u[3]-c[3];return y*y+b*b+w*w+E*E}function f(u,c,y,b,w,E,m){m==null&&(m=1);const C=b.length,l=[];for(var a=0;a<C;a++){const S=b[a];l.push([S>>>0&255,S>>>8&255,S>>>16&255,S>>>24&255])}for(a=0;a<C;a++){let S=4294967295;for(var k=0,_=0;_<C;_++){var O=h(l[a],l[_]);_!=a&&O<S&&(S=O,k=_)}}const q=new Uint32Array(w.buffer),B=new Int16Array(c*y*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(a=0;a<z.length;a++)z[a]=255*((z[a]+.5)/16-.5);for(let S=0;S<y;S++)for(let N=0;N<c;N++){var L;a=4*(S*c+N),m!=2?L=[r(u[a]+B[a]),r(u[a+1]+B[a+1]),r(u[a+2]+B[a+2]),r(u[a+3]+B[a+3])]:(O=z[4*(3&S)+(3&N)],L=[r(u[a]+O),r(u[a+1]+O),r(u[a+2]+O),r(u[a+3]+O)]),k=0;let K=16777215;for(_=0;_<C;_++){const $=h(L,l[_]);$<K&&(K=$,k=_)}const W=l[k],Q=[L[0]-W[0],L[1]-W[1],L[2]-W[2],L[3]-W[3]];m==1&&(N!=c-1&&e(Q,B,a+4,7),S!=y-1&&(N!=0&&e(Q,B,a+4*c-4,3),e(Q,B,a+4*c,5),N!=c-1&&e(Q,B,a+4*c+4,1))),E[a>>2]=k,q[a>>2]=b[k]}}function p(u,c,y,b,w){w==null&&(w={});const{crc:E}=i,m=F.writeUint,C=F.writeUshort,l=F.writeASCII;let a=8;const k=u.frames.length>1;let _,O=!1,q=33+(k?20:0);if(w.sRGB!=null&&(q+=13),w.pHYs!=null&&(q+=21),w.iCCP!=null&&(_=pako.deflate(w.iCCP),q+=21+_.length+4),u.ctype==3){for(var B=u.plte.length,z=0;z<B;z++)u.plte[z]>>>24!=255&&(O=!0);q+=8+3*B+4+(O?8+1*B+4:0)}for(var L=0;L<u.frames.length;L++)k&&(q+=38),q+=(W=u.frames[L]).cimg.length+12,L!=0&&(q+=4);q+=12;const S=new Uint8Array(q),N=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)S[z]=N[z];if(m(S,a,13),a+=4,l(S,a,"IHDR"),a+=4,m(S,a,c),a+=4,m(S,a,y),a+=4,S[a]=u.depth,a++,S[a]=u.ctype,a++,S[a]=0,a++,S[a]=0,a++,S[a]=0,a++,m(S,a,E(S,a-17,17)),a+=4,w.sRGB!=null&&(m(S,a,1),a+=4,l(S,a,"sRGB"),a+=4,S[a]=w.sRGB,a++,m(S,a,E(S,a-5,5)),a+=4),w.iCCP!=null){const Q=13+_.length;m(S,a,Q),a+=4,l(S,a,"iCCP"),a+=4,l(S,a,"ICC profile"),a+=11,a+=2,S.set(_,a),a+=_.length,m(S,a,E(S,a-(Q+4),Q+4)),a+=4}if(w.pHYs!=null&&(m(S,a,9),a+=4,l(S,a,"pHYs"),a+=4,m(S,a,w.pHYs[0]),a+=4,m(S,a,w.pHYs[1]),a+=4,S[a]=w.pHYs[2],a++,m(S,a,E(S,a-13,13)),a+=4),k&&(m(S,a,8),a+=4,l(S,a,"acTL"),a+=4,m(S,a,u.frames.length),a+=4,m(S,a,w.loop!=null?w.loop:0),a+=4,m(S,a,E(S,a-12,12)),a+=4),u.ctype==3){for(m(S,a,3*(B=u.plte.length)),a+=4,l(S,a,"PLTE"),a+=4,z=0;z<B;z++){const Q=3*z,$=u.plte[z],V=255&$,ee=$>>>8&255,Ae=$>>>16&255;S[a+Q+0]=V,S[a+Q+1]=ee,S[a+Q+2]=Ae}if(a+=3*B,m(S,a,E(S,a-3*B-4,3*B+4)),a+=4,O){for(m(S,a,B),a+=4,l(S,a,"tRNS"),a+=4,z=0;z<B;z++)S[a+z]=u.plte[z]>>>24&255;a+=B,m(S,a,E(S,a-B-4,B+4)),a+=4}}let K=0;for(L=0;L<u.frames.length;L++){var W=u.frames[L];k&&(m(S,a,26),a+=4,l(S,a,"fcTL"),a+=4,m(S,a,K++),a+=4,m(S,a,W.rect.width),a+=4,m(S,a,W.rect.height),a+=4,m(S,a,W.rect.x),a+=4,m(S,a,W.rect.y),a+=4,C(S,a,b[L]),a+=2,C(S,a,1e3),a+=2,S[a]=W.dispose,a++,S[a]=W.blend,a++,m(S,a,E(S,a-30,30)),a+=4);const Q=W.cimg;m(S,a,(B=Q.length)+(L==0?0:4)),a+=4;const $=a;l(S,a,L==0?"IDAT":"fdAT"),a+=4,L!=0&&(m(S,a,K++),a+=4),S.set(Q,a),a+=B,m(S,a,E(S,$,a-$)),a+=4}return m(S,a,0),a+=4,l(S,a,"IEND"),a+=4,m(S,a,E(S,a-4,4)),a+=4,S.buffer}function A(u,c,y){for(let b=0;b<u.frames.length;b++){const w=u.frames[b];w.rect.width;const E=w.rect.height,m=new Uint8Array(E*w.bpl+E);w.cimg=o(w.img,E,w.bpp,w.bpl,m,c,y)}}function n(u,c,y,b,w){const E=w[0],m=w[1],C=w[2],l=w[3],a=w[4],k=w[5];let _=6,O=8,q=255;for(var B=0;B<u.length;B++){const te=new Uint8Array(u[B]);for(var z=te.length,L=0;L<z;L+=4)q&=te[L+3]}const S=q!=255,N=function(Z,G,re,ie,Y,fe){const J=[];for(var j=0;j<Z.length;j++){const ae=new Uint8Array(Z[j]),le=new Uint32Array(ae.buffer);var ce;let ue=0,me=0,ge=G,Ue=re,Be=ie?1:0;if(j!=0){const ir=fe||ie||j==1||J[j-2].dispose!=0?1:2;let ze=0,We=1e9;for(let Re=0;Re<ir;Re++){var ye=new Uint8Array(Z[j-1-Re]);const ar=new Uint32Array(Z[j-1-Re]);let ve=G,we=re,Ce=-1,Me=-1;for(let Fe=0;Fe<re;Fe++)for(let Ee=0;Ee<G;Ee++)le[ne=Fe*G+Ee]!=ar[ne]&&(Ee<ve&&(ve=Ee),Ee>Ce&&(Ce=Ee),Fe<we&&(we=Fe),Fe>Me&&(Me=Fe));Ce==-1&&(ve=we=Ce=Me=0),Y&&((1&ve)==1&&ve--,(1&we)==1&&we--);const $e=(Ce-ve+1)*(Me-we+1);$e<We&&(We=$e,ze=Re,ue=ve,me=we,ge=Ce-ve+1,Ue=Me-we+1)}ye=new Uint8Array(Z[j-1-ze]),ze==1&&(J[j-1].dispose=2),ce=new Uint8Array(ge*Ue*4),M(ye,G,re,ce,ge,Ue,-ue,-me,0),Be=M(ae,G,re,ce,ge,Ue,-ue,-me,3)?1:0,Be==1?t(ae,G,re,ce,{x:ue,y:me,width:ge,height:Ue}):M(ae,G,re,ce,ge,Ue,-ue,-me,0)}else ce=ae.slice(0);J.push({rect:{x:ue,y:me,width:ge,height:Ue},img:ce,blend:Be,dispose:0})}if(ie)for(j=0;j<J.length;j++){if((be=J[j]).blend==1)continue;const ae=be.rect,le=J[j-1].rect,ue=Math.min(ae.x,le.x),me=Math.min(ae.y,le.y),ge={x:ue,y:me,width:Math.max(ae.x+ae.width,le.x+le.width)-ue,height:Math.max(ae.y+ae.height,le.y+le.height)-me};J[j-1].dispose=1,j-1!=0&&s(Z,G,re,J,j-1,ge,Y),s(Z,G,re,J,j,ge,Y)}let Se=0;if(Z.length!=1)for(var ne=0;ne<J.length;ne++){var be;Se+=(be=J[ne]).rect.width*be.rect.height}return J}(u,c,y,E,m,C),K={},W=[],Q=[];if(b!=0){const te=[];for(L=0;L<N.length;L++)te.push(N[L].img.buffer);const Z=function(Y){let fe=0;for(var J=0;J<Y.length;J++)fe+=Y[J].byteLength;const j=new Uint8Array(fe);let ce=0;for(J=0;J<Y.length;J++){const ye=new Uint8Array(Y[J]),Se=ye.length;for(let ne=0;ne<Se;ne+=4){let be=ye[ne],ae=ye[ne+1],le=ye[ne+2];const ue=ye[ne+3];ue==0&&(be=ae=le=0),j[ce+ne]=be,j[ce+ne+1]=ae,j[ce+ne+2]=le,j[ce+ne+3]=ue}ce+=Se}return j.buffer}(te),G=I(Z,b);for(L=0;L<G.plte.length;L++)W.push(G.plte[L].est.rgba);let re=0;for(L=0;L<N.length;L++){const ie=(V=N[L]).img.length;var $=new Uint8Array(G.inds.buffer,re>>2,ie>>2);Q.push($);const Y=new Uint8Array(G.abuf,re,ie);k&&f(V.img,V.rect.width,V.rect.height,W,Y,$),V.img.set(Y),re+=ie}}else for(B=0;B<N.length;B++){var V=N[B];const te=new Uint32Array(V.img.buffer);var ee=V.rect.width;for(z=te.length,$=new Uint8Array(z),Q.push($),L=0;L<z;L++){const Z=te[L];if(L!=0&&Z==te[L-1])$[L]=$[L-1];else if(L>ee&&Z==te[L-ee])$[L]=$[L-ee];else{let G=K[Z];if(G==null&&(K[Z]=G=W.length,W.push(Z),W.length>=300))break;$[L]=G}}}const Ae=W.length;for(Ae<=256&&a==0&&(O=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,O=Math.max(O,l)),B=0;B<N.length;B++){(V=N[B]).rect.x,V.rect.y,ee=V.rect.width;const te=V.rect.height;let Z=V.img;new Uint32Array(Z.buffer);let G=4*ee,re=4;if(Ae<=256&&a==0){G=Math.ceil(O*ee/8);var de=new Uint8Array(G*te);const ie=Q[B];for(let Y=0;Y<te;Y++){L=Y*G;const fe=Y*ee;if(O==8)for(var X=0;X<ee;X++)de[L+X]=ie[fe+X];else if(O==4)for(X=0;X<ee;X++)de[L+(X>>1)]|=ie[fe+X]<<4-4*(1&X);else if(O==2)for(X=0;X<ee;X++)de[L+(X>>2)]|=ie[fe+X]<<6-2*(3&X);else if(O==1)for(X=0;X<ee;X++)de[L+(X>>3)]|=ie[fe+X]<<7-1*(7&X)}Z=de,_=3,re=1}else if(S==0&&N.length==1){de=new Uint8Array(ee*te*3);const ie=ee*te;for(L=0;L<ie;L++){const Y=3*L,fe=4*L;de[Y]=Z[fe],de[Y+1]=Z[fe+1],de[Y+2]=Z[fe+2]}Z=de,_=2,re=3,G=3*ee}V.img=Z,V.bpl=G,V.bpp=re}return{ctype:_,depth:O,plte:W,frames:N}}function s(u,c,y,b,w,E,m){const C=Uint8Array,l=Uint32Array,a=new C(u[w-1]),k=new l(u[w-1]),_=w+1<u.length?new C(u[w+1]):null,O=new C(u[w]),q=new l(O.buffer);let B=c,z=y,L=-1,S=-1;for(let K=0;K<E.height;K++)for(let W=0;W<E.width;W++){const Q=E.x+W,$=E.y+K,V=$*c+Q,ee=q[V];ee==0||b[w-1].dispose==0&&k[V]==ee&&(_==null||_[4*V+3]!=0)||(Q<B&&(B=Q),Q>L&&(L=Q),$<z&&(z=$),$>S&&(S=$))}L==-1&&(B=z=L=S=0),m&&((1&B)==1&&B--,(1&z)==1&&z--),E={x:B,y:z,width:L-B+1,height:S-z+1};const N=b[w];N.rect=E,N.blend=1,N.img=new Uint8Array(E.width*E.height*4),b[w-1].dispose==0?(M(a,c,y,N.img,E.width,E.height,-E.x,-E.y,0),t(O,c,y,N.img,E)):M(O,c,y,N.img,E.width,E.height,-E.x,-E.y,0)}function t(u,c,y,b,w){M(u,c,y,b,w.width,w.height,-w.x,-w.y,2)}function o(u,c,y,b,w,E,m){const C=[];let l,a=[0,1,2,3,4];E!=-1?a=[E]:(c*b>5e5||y==1)&&(a=[0]),m&&(l={level:0});const k=gr;for(var _=0;_<a.length;_++){for(let B=0;B<c;B++)d(w,u,B,b,y,a[_]);C.push(k.deflate(w,l))}let O,q=1e9;for(_=0;_<C.length;_++)C[_].length<q&&(O=_,q=C[_].length);return C[O]}function d(u,c,y,b,w,E){const m=y*b;let C=m+y;if(u[C]=E,C++,E==0)if(b<500)for(var l=0;l<b;l++)u[C+l]=c[m+l];else u.set(new Uint8Array(c.buffer,m,b),C);else if(E==1){for(l=0;l<w;l++)u[C+l]=c[m+l];for(l=w;l<b;l++)u[C+l]=c[m+l]-c[m+l-w]+256&255}else if(y==0){for(l=0;l<w;l++)u[C+l]=c[m+l];if(E==2)for(l=w;l<b;l++)u[C+l]=c[m+l];if(E==3)for(l=w;l<b;l++)u[C+l]=c[m+l]-(c[m+l-w]>>1)+256&255;if(E==4)for(l=w;l<b;l++)u[C+l]=c[m+l]-U(c[m+l-w],0,0)+256&255}else{if(E==2)for(l=0;l<b;l++)u[C+l]=c[m+l]+256-c[m+l-b]&255;if(E==3){for(l=0;l<w;l++)u[C+l]=c[m+l]+256-(c[m+l-b]>>1)&255;for(l=w;l<b;l++)u[C+l]=c[m+l]+256-(c[m+l-b]+c[m+l-w]>>1)&255}if(E==4){for(l=0;l<w;l++)u[C+l]=c[m+l]+256-U(0,c[m+l-b],0)&255;for(l=w;l<b;l++)u[C+l]=c[m+l]+256-U(c[m+l-w],c[m+l-b],c[m+l-w-b])&255}}}function I(u,c){const y=new Uint8Array(u),b=y.slice(0),w=new Uint32Array(b.buffer),E=R(b,c),m=E[0],C=E[1],l=y.length,a=new Uint8Array(l>>2);let k;if(y.length<2e7)for(var _=0;_<l;_+=4)k=v(m,O=y[_]*(1/255),q=y[_+1]*(1/255),B=y[_+2]*(1/255),z=y[_+3]*(1/255)),a[_>>2]=k.ind,w[_>>2]=k.est.rgba;else for(_=0;_<l;_+=4){var O=y[_]*.00392156862745098,q=y[_+1]*(1/255),B=y[_+2]*(1/255),z=y[_+3]*(1/255);for(k=m;k.left;)k=D(k.est,O,q,B,z)<=0?k.left:k.right;a[_>>2]=k.ind,w[_>>2]=k.est.rgba}return{abuf:b.buffer,inds:a,plte:C}}function R(u,c,y){y==null&&(y=1e-4);const b=new Uint32Array(u.buffer),w={i0:0,i1:u.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=H(u,w.i0,w.i1),w.est=g(w.bst);const E=[w];for(;E.length<c;){let C=0,l=0;for(var m=0;m<E.length;m++)E[m].est.L>C&&(C=E[m].est.L,l=m);if(C<y)break;const a=E[l],k=P(u,b,a.i0,a.i1,a.est.e,a.est.eMq255);if(a.i0>=k||a.i1<=k){a.est.L=0;continue}const _={i0:a.i0,i1:k,bst:null,est:null,tdst:0,left:null,right:null};_.bst=H(u,_.i0,_.i1),_.est=g(_.bst);const O={i0:k,i1:a.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:a.bst.N-_.bst.N},m=0;m<16;m++)O.bst.R[m]=a.bst.R[m]-_.bst.R[m];for(m=0;m<4;m++)O.bst.m[m]=a.bst.m[m]-_.bst.m[m];O.est=g(O.bst),a.left=_,a.right=O,E[l]=_,E.push(O)}for(E.sort((C,l)=>l.bst.N-C.bst.N),m=0;m<E.length;m++)E[m].ind=m;return[w,E]}function v(u,c,y,b,w){if(u.left==null)return u.tdst=function(_,O,q,B,z){const L=O-_[0],S=q-_[1],N=B-_[2],K=z-_[3];return L*L+S*S+N*N+K*K}(u.est.q,c,y,b,w),u;const E=D(u.est,c,y,b,w);let m=u.left,C=u.right;E>0&&(m=u.right,C=u.left);const l=v(m,c,y,b,w);if(l.tdst<=E*E)return l;const a=v(C,c,y,b,w);return a.tdst<l.tdst?a:l}function D(u,c,y,b,w){const{e:E}=u;return E[0]*c+E[1]*y+E[2]*b+E[3]*w-u.eMq}function P(u,c,y,b,w,E){for(b-=4;y<b;){for(;x(u,y,w)<=E;)y+=4;for(;x(u,b,w)>E;)b-=4;if(y>=b)break;const m=c[y>>2];c[y>>2]=c[b>>2],c[b>>2]=m,y+=4,b-=4}for(;x(u,y,w)>E;)y-=4;return y+4}function x(u,c,y){return u[c]*y[0]+u[c+1]*y[1]+u[c+2]*y[2]+u[c+3]*y[3]}function H(u,c,y){const b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],E=y-c>>2;for(let m=c;m<y;m+=4){const C=u[m]*.00392156862745098,l=u[m+1]*(1/255),a=u[m+2]*(1/255),k=u[m+3]*(1/255);w[0]+=C,w[1]+=l,w[2]+=a,w[3]+=k,b[0]+=C*C,b[1]+=C*l,b[2]+=C*a,b[3]+=C*k,b[5]+=l*l,b[6]+=l*a,b[7]+=l*k,b[10]+=a*a,b[11]+=a*k,b[15]+=k*k}return b[4]=b[1],b[8]=b[2],b[9]=b[6],b[12]=b[3],b[13]=b[7],b[14]=b[11],{R:b,m:w,N:E}}function g(u){const{R:c}=u,{m:y}=u,{N:b}=u,w=y[0],E=y[1],m=y[2],C=y[3],l=b==0?0:1/b,a=[c[0]-w*w*l,c[1]-w*E*l,c[2]-w*m*l,c[3]-w*C*l,c[4]-E*w*l,c[5]-E*E*l,c[6]-E*m*l,c[7]-E*C*l,c[8]-m*w*l,c[9]-m*E*l,c[10]-m*m*l,c[11]-m*C*l,c[12]-C*w*l,c[13]-C*E*l,c[14]-C*m*l,c[15]-C*C*l],k=a,_=T;let O=[Math.random(),Math.random(),Math.random(),Math.random()],q=0,B=0;if(b!=0)for(let L=0;L<16&&(O=_.multVec(k,O),B=Math.sqrt(_.dot(O,O)),O=_.sml(1/B,O),!(L!=0&&Math.abs(B-q)<1e-9));L++)q=B;const z=[w*l,E*l,m*l,C*l];return{Cov:a,q:z,e:O,L:q,eMq255:_.dot(_.sml(255,z),O),eMq:_.dot(O,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var T={multVec:(u,c)=>[u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],u[4]*c[0]+u[5]*c[1]+u[6]*c[2]+u[7]*c[3],u[8]*c[0]+u[9]*c[1]+u[10]*c[2]+u[11]*c[3],u[12]*c[0]+u[13]*c[1]+u[14]*c[2]+u[15]*c[3]],dot:(u,c)=>u[0]*c[0]+u[1]*c[1]+u[2]*c[2]+u[3]*c[3],sml:(u,c)=>[u*c[0],u*c[1],u*c[2],u*c[3]]};he.encode=function(c,y,b,w,E,m,C){w==null&&(w=0),C==null&&(C=!1);const l=n(c,y,b,w,[!1,!1,!1,0,C,!1]);return A(l,-1),p(l,y,b,E,m)},he.encodeLL=function(c,y,b,w,E,m,C,l){const a={ctype:0+(w==1?0:2)+(E==0?0:4),depth:m,frames:[]},k=(w+E)*m,_=k*y;for(let O=0;O<c.length;O++)a.frames.push({rect:{x:0,y:0,width:y,height:b},img:new Uint8Array(c[O]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(_/8)});return A(a,0,!0),p(a,y,b,C,l)},he.encode.compress=n,he.encode.dither=f,he.quantize=I,he.quantize.getKDtree=R,he.quantize.getNearest=v})();const Ze={toArrayBuffer(M,F){const U=M.width,i=M.height,e=U<<2,r=M.getContext("2d").getImageData(0,0,U,i),h=new Uint32Array(r.data.buffer),f=(32*U+31)/32<<2,p=f*i,A=122+p,n=new ArrayBuffer(A),s=new DataView(n),t=1<<20;let o,d,I,R,v=t,D=0,P=0,x=0;function H(u){s.setUint16(P,u,!0),P+=2}function g(u){s.setUint32(P,u,!0),P+=4}function T(u){P+=u}H(19778),g(A),T(4),g(122),g(108),g(U),g(-i>>>0),H(1),H(32),g(3),g(p),g(2835),g(2835),T(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function u(){for(;D<i&&v>0;){for(R=122+D*f,o=0;o<e;)v--,d=h[x++],I=d>>>24,s.setUint32(R+o,d<<8|I),o+=4;D++}x<h.length?(v=t,setTimeout(u,Ze._dly)):F(n)}()},toBlob(M,F){this.toArrayBuffer(M,U=>{F(new Blob([U],{type:"image/bmp"}))})},_dly:9};var oe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},pr={[oe.CHROME]:16384,[oe.FIREFOX]:11180,[oe.DESKTOP_SAFARI]:16384,[oe.IE]:8192,[oe.IOS]:4096,[oe.ETC]:8192};const Ne=typeof window<"u",Xe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Oe=Ne&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),mr=(Ne||Xe)&&(Oe&&Oe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ve=(Ne||Xe)&&(Oe&&Oe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Qe(M,F,U=Date.now()){return new Promise(i=>{const e=M.split(","),r=e[0].match(/:(.*?);/)[1],h=globalThis.atob(e[1]);let f=h.length;const p=new Uint8Array(f);for(;f--;)p[f]=h.charCodeAt(f);const A=new Blob([p],{type:r});A.name=F,A.lastModified=U,i(A)})}function Ye(M){return new Promise((F,U)=>{const i=new Ve;i.onload=()=>F(i.result),i.onerror=e=>U(e),i.readAsDataURL(M)})}function Je(M){return new Promise((F,U)=>{const i=new Image;i.onload=()=>F(i),i.onerror=e=>U(e),i.src=M})}function _e(){if(_e.cachedResult!==void 0)return _e.cachedResult;let M=oe.ETC;const{userAgent:F}=navigator;return/Chrom(e|ium)/i.test(F)?M=oe.CHROME:/iP(ad|od|hone)/i.test(F)&&/WebKit/i.test(F)?M=oe.IOS:/Safari/i.test(F)?M=oe.DESKTOP_SAFARI:/Firefox/i.test(F)?M=oe.FIREFOX:(/MSIE/i.test(F)||document.documentMode)&&(M=oe.IE),_e.cachedResult=M,_e.cachedResult}function er(M,F){const U=_e(),i=pr[U];let e=M,r=F,h=e*r;const f=e>r?r/e:e/r;for(;h>i*i;){const p=(i+e)/2,A=(i+r)/2;p<A?(r=A,e=A*f):(r=p*f,e=p),h=e*r}return{width:e,height:r}}function Le(M,F){let U,i;try{if(U=new OffscreenCanvas(M,F),i=U.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{U=document.createElement("canvas"),i=U.getContext("2d")}return U.width=M,U.height=F,[U,i]}function rr(M,F){const{width:U,height:i}=er(M.width,M.height),[e,r]=Le(U,i);return F&&/jpe?g/.test(F)&&(r.fillStyle="white",r.fillRect(0,0,e.width,e.height)),r.drawImage(M,0,0,e.width,e.height),e}function Pe(){return Pe.cachedResult!==void 0||(Pe.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Pe.cachedResult}function He(M,F={}){return new Promise(function(U,i){let e,r;var h=function(){try{return r=rr(e,F.fileType||M.type),U([e,r])}catch(p){return i(p)}},f=function(p){try{var A=function(n){try{throw n}catch(s){return i(s)}};try{let n;return Ye(M).then(function(s){try{return n=s,Je(n).then(function(t){try{return e=t,function(){try{return h()}catch(o){return i(o)}}()}catch(o){return A(o)}},A)}catch(t){return A(t)}},A)}catch(n){A(n)}}catch(n){return i(n)}};try{if(Pe()||[oe.DESKTOP_SAFARI,oe.MOBILE_SAFARI].includes(_e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(M).then(function(p){try{return e=p,h()}catch{return f()}},f)}catch{f()}})}function De(M,F,U,i,e=1){return new Promise(function(r,h){let f;if(F==="image/png"){let A,n,s;return A=M.getContext("2d"),{data:n}=A.getImageData(0,0,M.width,M.height),s=he.encode([n.buffer],M.width,M.height,4096*e),f=new Blob([s],{type:F}),f.name=U,f.lastModified=i,p.call(this)}{let A=function(){return p.call(this)};if(F==="image/bmp")return new Promise(n=>Ze.toBlob(M,n)).then((function(n){try{return f=n,f.name=U,f.lastModified=i,A.call(this)}catch(s){return h(s)}}).bind(this),h);{let n=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&M instanceof OffscreenCanvas)return M.convertToBlob({type:F,quality:e}).then((function(s){try{return f=s,f.name=U,f.lastModified=i,n.call(this)}catch(t){return h(t)}}).bind(this),h);{let s;return s=M.toDataURL(F,e),Qe(s,U,i).then((function(t){try{return f=t,n.call(this)}catch(o){return h(o)}}).bind(this),h)}}}function p(){return r(f)}})}function pe(M){M.width=0,M.height=0}function xe(){return new Promise(function(M,F){let U,i,e,r;return xe.cachedResult!==void 0?M(xe.cachedResult):Qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(h){try{return U=h,He(U).then(function(f){try{return i=f[1],De(i,U.type,U.name,U.lastModified).then(function(p){try{return e=p,pe(i),He(e).then(function(A){try{return r=A[0],xe.cachedResult=r.width===1&&r.height===2,M(xe.cachedResult)}catch(n){return F(n)}},F)}catch(A){return F(A)}},F)}catch(p){return F(p)}},F)}catch(f){return F(f)}},F)})}function tr(M){return new Promise((F,U)=>{const i=new Ve;i.onload=e=>{const r=new DataView(e.target.result);if(r.getUint16(0,!1)!=65496)return F(-2);const h=r.byteLength;let f=2;for(;f<h;){if(r.getUint16(f+2,!1)<=8)return F(-1);const p=r.getUint16(f,!1);if(f+=2,p==65505){if(r.getUint32(f+=2,!1)!=1165519206)return F(-1);const A=r.getUint16(f+=6,!1)==18761;f+=r.getUint32(f+4,A);const n=r.getUint16(f,A);f+=2;for(let s=0;s<n;s++)if(r.getUint16(f+12*s,A)==274)return F(r.getUint16(f+12*s+8,A))}else{if((65280&p)!=65280)break;f+=r.getUint16(f,!1)}}return F(-1)},i.onerror=e=>U(e),i.readAsArrayBuffer(M)})}function nr(M,F){const{width:U}=M,{height:i}=M,{maxWidthOrHeight:e}=F;let r,h=M;return isFinite(e)&&(U>e||i>e)&&([h,r]=Le(U,i),U>i?(h.width=e,h.height=i/U*e):(h.width=U/i*e,h.height=e),r.drawImage(M,0,0,h.width,h.height),pe(M)),h}function sr(M,F){const{width:U}=M,{height:i}=M,[e,r]=Le(U,i);switch(F>4&&F<9?(e.width=i,e.height=U):(e.width=U,e.height=i),F){case 2:r.transform(-1,0,0,1,U,0);break;case 3:r.transform(-1,0,0,-1,U,i);break;case 4:r.transform(1,0,0,-1,0,i);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,i,0);break;case 7:r.transform(0,-1,-1,0,i,U);break;case 8:r.transform(0,-1,1,0,0,U)}return r.drawImage(M,0,0,U,i),pe(M),e}function Ge(M,F,U=0){return new Promise(function(i,e){let r,h,f,p,A,n,s,t,o,d,I,R,v,D,P,x,H,g,T,u;function c(b=5){if(F.signal&&F.signal.aborted)throw F.signal.reason;r+=b,F.onProgress(Math.min(r,100))}function y(b){if(F.signal&&F.signal.aborted)throw F.signal.reason;r=Math.min(Math.max(b,r),100),F.onProgress(r)}return r=U,h=F.maxIteration||10,f=1024*F.maxSizeMB*1024,c(),He(M,F).then((function(b){try{return[,p]=b,c(),A=nr(p,F),c(),new Promise(function(w,E){var m;if(!(m=F.exifOrientation))return tr(M).then((function(l){try{return m=l,C.call(this)}catch(a){return E(a)}}).bind(this),E);function C(){return w(m)}return C.call(this)}).then((function(w){try{return n=w,c(),xe().then((function(E){try{return s=E?A:sr(A,n),c(),t=F.initialQuality||1,o=F.fileType||M.type,De(s,o,M.name,M.lastModified,t).then((function(m){try{{let l=function(){if(h--&&(P>f||P>v)){let k,_;return k=u?.95*T.width:T.width,_=u?.95*T.height:T.height,[H,g]=Le(k,_),g.drawImage(T,0,0,k,_),t*=o==="image/png"?.85:.95,De(H,o,M.name,M.lastModified,t).then(function(O){try{return x=O,pe(T),T=H,P=x.size,y(Math.min(99,Math.floor((D-P)/(D-f)*100))),l}catch(q){return e(q)}},e)}return[1]},a=function(){return pe(T),pe(H),pe(A),pe(s),pe(p),y(100),i(x)};if(d=m,c(),I=d.size>f,R=d.size>M.size,!I&&!R)return y(100),i(d);var C;return v=M.size,D=d.size,P=D,T=s,u=!F.alwaysKeepResolution&&I,(C=(function(k){for(;k;){if(k.then)return void k.then(C,e);try{if(k.pop){if(k.length)return k.pop()?a.call(this):k;k=l}else k=k.call(this)}catch(_){return e(_)}}}).bind(this))(l)}}catch(l){return e(l)}}).bind(this),e)}catch(m){return e(m)}}).bind(this),e)}catch(E){return e(E)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)})}const yr=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let qe;function vr(M,F){return new Promise((U,i)=>{qe||(qe=function(h){const f=[];return f.push(h),URL.createObjectURL(new Blob(f))}(yr));const e=new Worker(qe);e.addEventListener("message",function(h){if(F.signal&&F.signal.aborted)e.terminate();else if(h.data.progress===void 0){if(h.data.error)return i(new Error(h.data.error)),void e.terminate();U(h.data.file),e.terminate()}else F.onProgress(h.data.progress)}),e.addEventListener("error",i),F.signal&&F.signal.addEventListener("abort",()=>{i(F.signal.reason),e.terminate()}),e.postMessage({file:M,imageCompressionLibUrl:F.libURL,options:{...F,onProgress:void 0,signal:void 0}})})}function se(M,F){return new Promise(function(U,i){let e,r,h,f,p,A;if(e={...F},h=0,{onProgress:f}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=o=>{h=o,typeof f=="function"&&f(h)},!(M instanceof Blob||M instanceof mr))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(M.type))return i(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||A)return Ge(M,e).then((function(o){try{return r=o,t.call(this)}catch(d){return i(d)}}).bind(this),i);var n=(function(){try{return t.call(this)}catch(o){return i(o)}}).bind(this),s=function(o){try{return Ge(M,e).then(function(d){try{return r=d,n()}catch(I){return i(I)}},i)}catch(d){return i(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",vr(M,e).then(function(o){try{return r=o,n()}catch{return s()}},s)}catch{s()}function t(){try{r.name=M.name,r.lastModified=M.lastModified}catch{}try{e.preserveExif&&M.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===M.type)&&(r=Ke(M,r))}catch{}return U(r)}})}se.getDataUrlFromFile=Ye,se.getFilefromDataUrl=Qe,se.loadImage=Je,se.drawImageInCanvas=rr,se.drawFileInCanvas=He,se.canvasToFile=De,se.getExifOrientation=tr,se.handleMaxWidthOrHeight=nr,se.followExifOrientation=sr,se.cleanupCanvasMemory=pe,se.isAutoOrientationInBrowser=xe,se.approximateBelowMaximumCanvasSizeOfBrowser=er,se.copyExifWithoutOrientation=Ke,se.getBrowserName=_e,se.version="2.0.2";async function wr(M){try{const U=await se(M,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,onProgress:e=>{console.log(`Compression Progress: ${e}%`)}});return new File([U],M.name,{type:U.type})}catch(F){console.error("Error in compression or upload:",F)}return null}async function Ar(M){return new Promise((F,U)=>{const i=new FileReader;i.onload=e=>{if(e.target&&e.target.result){const r=new BSON.Binary(new Uint8Array(e.target.result));F(r)}else U(new Error("Failed to read file"))},i.onerror=e=>U(e),i.readAsArrayBuffer(M)})}const Ie=class Ie{constructor(){Te(this,"request");Te(this,"store");this.request=new cr,this.store=ur()}static getInstance(){return Ie.instance||(Ie.instance=new Ie),Ie.instance}async login(F,U){try{const i=await this.request.post("/login",{data:{username:F,password:U}});return i.code==200?(this.store.setAccessToken(i.data.token,i.data.refreshToken,i.data.expiration),this.store.setUser(i.data.user),{success:!0}):{success:!1,error:i.message}}catch(i){return{success:!1,error:i.message}}}async register(F,U,i){try{const e=await this.request.post("/register",{data:{email:U,username:F,password:i}});return e.code==200?{success:!0}:{success:!1,error:e.message}}catch(e){return{success:!1,error:e.message}}}async confirmUser(F){try{const U=await this.request.post("/user/confirm",{data:{token:F}});return U.code==200?{success:!0}:{success:!1,error:U.message}}catch(U){return{success:!1,error:U.message}}}async resendConfirmationEmail(F){try{const U=await this.request.post("/user/resend-email",{data:{email:F}});return U.code==200?{success:!0}:{success:!1,error:U.message}}catch(U){return{success:!1,error:U.message}}}async sendResetPasswordEmail(F){try{return await this.request.get(`/reset-password/${F}`)?{success:!0}:{success:!1}}catch(U){return{success:!1,error:U.message}}}async findUserById(F){try{const U=await this.request.get(`/user/self/${F}`,{headers:{Authorization:this.store.accessToken}});return U.code==200?{success:!0,data:U.data}:{success:!1,error:U.message,data:U.data}}catch(U){return{success:!1,error:U.message}}}async findUserByUsername(F){try{const U=await this.request.get(`/user/info-username/${F}`);return U.code==200?{success:!0,data:U.data}:{success:!1,error:U.message,data:U.data}}catch(U){return{success:!1,error:U.message}}}async existUserByUsername(F,U={}){try{const i=await this.request.get(`/user/exist-username/${F}`,U);return i.code==200?{success:!0,data:i.data}:{success:!1,error:i.message,data:i.data}}catch(i){return{success:!1,error:i.message}}}async existUserByEmail(F,U={}){try{const i=await this.request.get(`/user/exist-email/${F}`,U);return i.code==200?{success:!0,data:i.data}:{success:!1,error:i.message,data:i.data}}catch(i){return{success:!1,error:i.message}}}async findUserInfoById(F){try{const U=await this.request.get(`/user/info/${F}`);return U.code==200?{success:!0,data:U.data}:{success:!1,error:U.message,data:U.data}}catch(U){return{success:!1,error:U.message}}}async findUsers(F={},U={page:0,pageSize:10}){try{const[i,e]=await Promise.all([this.request.get("/user",{params:F})]);return{success:!0,data:{users:i,total:e}}}catch(i){return{success:!1,error:i.message}}}async createUser(F){try{const U=await this.request.post("/user",{data:{...F}});return U.code==200?{success:!0,data:U.data}:{success:!1,error:U.message}}catch(U){return{success:!1,error:U.message}}}async updateUser(F,U){try{const i=await this.request.put(`/user/${F}`,{data:U});return i.code==200?{success:!0,data:i.data,message:i.message}:{success:!1,error:i.message}}catch(i){return{success:!1,error:i.message}}}async updateAvatar(F,U){try{const i=await wr(U);if(!i)throw new Error("Image compression failed");const e=await Ar(i),r={filename:U.name,type:U.type,size:U.size,data:e};return await this.updateUser(F,{avatar:r})}catch(i){return{success:!1,error:i.message}}}async deleteById(F){try{const U=await this.request.delete(`/user/${F}`);return U.code==200?{success:!0,data:!0}:{success:!1,error:U.message}}catch(U){return{success:!1,error:U.message}}}};Te(Ie,"instance");let je=Ie;export{je as U};
