var Rr=Object.defineProperty;var Mr=(t,e,r)=>e in t?Rr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var rt=(t,e,r)=>Mr(t,typeof e!="symbol"?e+"":e,r);import{R as Lr}from"./request-CAHUC_tE.js";import{ah as Cr}from"./index-Bkva_4QA.js";function Pr(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Dr=Wr,kr=Jr,$r=Zr,Ue=[],me=[],jr=typeof Uint8Array<"u"?Uint8Array:Array,xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var We=0,Hr=xt.length;We<Hr;++We)Ue[We]=xt[We],me[xt.charCodeAt(We)]=We;me[45]=62;me[95]=63;function ar(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var i=r===e?0:4-r%4;return[r,i]}function Wr(t){var e=ar(t),r=e[0],i=e[1];return(r+i)*3/4-i}function Vr(t,e,r){return(e+r)*3/4-r}function Jr(t){var e,r=ar(t),i=r[0],n=r[1],o=new jr(Vr(t,i,n)),a=0,l=n>0?i-4:i,w;for(w=0;w<l;w+=4)e=me[t.charCodeAt(w)]<<18|me[t.charCodeAt(w+1)]<<12|me[t.charCodeAt(w+2)]<<6|me[t.charCodeAt(w+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return n===2&&(e=me[t.charCodeAt(w)]<<2|me[t.charCodeAt(w+1)]>>4,o[a++]=e&255),n===1&&(e=me[t.charCodeAt(w)]<<10|me[t.charCodeAt(w+1)]<<4|me[t.charCodeAt(w+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function qr(t){return Ue[t>>18&63]+Ue[t>>12&63]+Ue[t>>6&63]+Ue[t&63]}function zr(t,e,r){for(var i,n=[],o=e;o<r;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),n.push(qr(i));return n.join("")}function Zr(t){for(var e,r=t.length,i=r%3,n=[],o=16383,a=0,l=r-i;a<l;a+=o)n.push(zr(t,a,a+o>l?l:a+o));return i===1?(e=t[r-1],n.push(Ue[e>>2]+Ue[e<<4&63]+"==")):i===2&&(e=(t[r-2]<<8)+t[r-1],n.push(Ue[e>>10]+Ue[e>>4&63]+Ue[e<<2&63]+"=")),n.join("")}var vt={byteLength:Dr,toByteArray:kr,fromByteArray:$r};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Gr=function(e,r,i,n,o){var a,l,w=o*8-n-1,E=(1<<w)-1,u=E>>1,h=-7,c=i?o-1:0,g=i?-1:1,v=e[r+c];for(c+=g,a=v&(1<<-h)-1,v>>=-h,h+=w;h>0;a=a*256+e[r+c],c+=g,h-=8);for(l=a&(1<<-h)-1,a>>=-h,h+=n;h>0;l=l*256+e[r+c],c+=g,h-=8);if(a===0)a=1-u;else{if(a===E)return l?NaN:(v?-1:1)*(1/0);l=l+Math.pow(2,n),a=a-u}return(v?-1:1)*l*Math.pow(2,a-n)},Xr=function(e,r,i,n,o,a){var l,w,E,u=a*8-o-1,h=(1<<u)-1,c=h>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:a-1,U=n?1:-1,M=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(w=isNaN(r)?1:0,l=h):(l=Math.floor(Math.log(r)/Math.LN2),r*(E=Math.pow(2,-l))<1&&(l--,E*=2),l+c>=1?r+=g/E:r+=g*Math.pow(2,1-c),r*E>=2&&(l++,E/=2),l+c>=h?(w=0,l=h):l+c>=1?(w=(r*E-1)*Math.pow(2,o),l=l+c):(w=r*Math.pow(2,c-1)*Math.pow(2,o),l=0));o>=8;e[i+v]=w&255,v+=U,w/=256,o-=8);for(l=l<<o|w,u+=o;u>0;e[i+v]=l&255,v+=U,l/=256,u-=8);e[i+v-U]|=M*128},Ve={read:Gr,write:Xr},ht=Pr(function(t,e){var r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=S,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=n(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{var p=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(p,s),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');var s=new Uint8Array(p);return Object.setPrototypeOf(s,a.prototype),s}function a(p,s,f){if(typeof p=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(p)}return l(p,s,f)}a.poolSize=8192;function l(p,s,f){if(typeof p=="string")return h(p,s);if(ArrayBuffer.isView(p))return g(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(p));if(ne(p,ArrayBuffer)||p&&ne(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(p,SharedArrayBuffer)||p&&ne(p.buffer,SharedArrayBuffer)))return v(p,s,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,s,f);var I=U(p);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),s,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(p))}a.from=function(p,s,f){return l(p,s,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function w(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function E(p,s,f){return w(p),p<=0?o(p):s!==void 0?typeof f=="string"?o(p).fill(s,f):o(p).fill(s):o(p)}a.alloc=function(p,s,f){return E(p,s,f)};function u(p){return w(p),o(p<0?0:M(p)|0)}a.allocUnsafe=function(p){return u(p)},a.allocUnsafeSlow=function(p){return u(p)};function h(p,s){if((typeof s!="string"||s==="")&&(s="utf8"),!a.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var f=j(p,s)|0,y=o(f),I=y.write(p,s);return I!==f&&(y=y.slice(0,I)),y}function c(p){for(var s=p.length<0?0:M(p.length)|0,f=o(s),y=0;y<s;y+=1)f[y]=p[y]&255;return f}function g(p){if(ne(p,Uint8Array)){var s=new Uint8Array(p);return v(s.buffer,s.byteOffset,s.byteLength)}return c(p)}function v(p,s,f){if(s<0||p.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<s+(f||0))throw new RangeError('"length" is outside of buffer bounds');var y;return s===void 0&&f===void 0?y=new Uint8Array(p):f===void 0?y=new Uint8Array(p,s):y=new Uint8Array(p,s,f),Object.setPrototypeOf(y,a.prototype),y}function U(p){if(a.isBuffer(p)){var s=M(p.length)|0,f=o(s);return f.length===0||p.copy(f,0,0,s),f}if(p.length!==void 0)return typeof p.length!="number"||be(p.length)?o(0):c(p);if(p.type==="Buffer"&&Array.isArray(p.data))return c(p.data)}function M(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function S(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==a.prototype},a.compare=function(s,f){if(ne(s,Uint8Array)&&(s=a.from(s,s.offset,s.byteLength)),ne(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(s)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===f)return 0;for(var y=s.length,I=f.length,H=0,V=Math.min(y,I);H<V;++H)if(s[H]!==f[H]){y=s[H],I=f[H];break}return y<I?-1:I<y?1:0},a.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(s,f){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return a.alloc(0);var y;if(f===void 0)for(f=0,y=0;y<s.length;++y)f+=s[y].length;var I=a.allocUnsafe(f),H=0;for(y=0;y<s.length;++y){var V=s[y];if(ne(V,Uint8Array))H+V.length>I.length?a.from(V).copy(I,H):Uint8Array.prototype.set.call(I,V,H);else if(a.isBuffer(V))V.copy(I,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=V.length}return I};function j(p,s){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ne(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(p));var f=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&f===0)return 0;for(var I=!1;;)switch(s){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return se(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return fe(p).length;default:if(I)return y?-1:se(p).length;s=(""+s).toLowerCase(),I=!0}}a.byteLength=j;function P(p,s,f){var y=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,s>>>=0,f<=s))return"";for(p||(p="utf8");;)switch(p){case"hex":return k(this,s,f);case"utf8":case"utf-8":return R(this,s,f);case"ascii":return b(this,s,f);case"latin1":case"binary":return d(this,s,f);case"base64":return B(this,s,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,s,f);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function _(p,s,f){var y=p[s];p[s]=p[f],p[f]=y}a.prototype.swap16=function(){var s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<s;f+=2)_(this,f,f+1);return this},a.prototype.swap32=function(){var s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<s;f+=4)_(this,f,f+3),_(this,f+1,f+2);return this},a.prototype.swap64=function(){var s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<s;f+=8)_(this,f,f+7),_(this,f+1,f+6),_(this,f+2,f+5),_(this,f+3,f+4);return this},a.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?R(this,0,s):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(s){if(!a.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:a.compare(this,s)===0},a.prototype.inspect=function(){var s="",f=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(s+=" ... "),"<Buffer "+s+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(s,f,y,I,H){if(ne(s,Uint8Array)&&(s=a.from(s,s.offset,s.byteLength)),!a.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(s));if(f===void 0&&(f=0),y===void 0&&(y=s?s.length:0),I===void 0&&(I=0),H===void 0&&(H=this.length),f<0||y>s.length||I<0||H>this.length)throw new RangeError("out of range index");if(I>=H&&f>=y)return 0;if(I>=H)return-1;if(f>=y)return 1;if(f>>>=0,y>>>=0,I>>>=0,H>>>=0,this===s)return 0;for(var V=H-I,Q=y-f,Y=Math.min(V,Q),X=this.slice(I,H),ie=s.slice(f,y),te=0;te<Y;++te)if(X[te]!==ie[te]){V=X[te],Q=ie[te];break}return V<Q?-1:Q<V?1:0};function W(p,s,f,y,I){if(p.length===0)return-1;if(typeof f=="string"?(y=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,be(f)&&(f=I?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(I)return-1;f=p.length-1}else if(f<0)if(I)f=0;else return-1;if(typeof s=="string"&&(s=a.from(s,y)),a.isBuffer(s))return s.length===0?-1:A(p,s,f,y,I);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(p,s,f):Uint8Array.prototype.lastIndexOf.call(p,s,f):A(p,[s],f,y,I);throw new TypeError("val must be string, number or Buffer")}function A(p,s,f,y,I){var H=1,V=p.length,Q=s.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||s.length<2)return-1;H=2,V/=2,Q/=2,f/=2}function Y(ce,Ae){return H===1?ce[Ae]:ce.readUInt16BE(Ae*H)}var X;if(I){var ie=-1;for(X=f;X<V;X++)if(Y(p,X)===Y(s,ie===-1?0:X-ie)){if(ie===-1&&(ie=X),X-ie+1===Q)return ie*H}else ie!==-1&&(X-=X-ie),ie=-1}else for(f+Q>V&&(f=V-Q),X=f;X>=0;X--){for(var te=!0,Oe=0;Oe<Q;Oe++)if(Y(p,X+Oe)!==Y(s,Oe)){te=!1;break}if(te)return X}return-1}a.prototype.includes=function(s,f,y){return this.indexOf(s,f,y)!==-1},a.prototype.indexOf=function(s,f,y){return W(this,s,f,y,!0)},a.prototype.lastIndexOf=function(s,f,y){return W(this,s,f,y,!1)};function D(p,s,f,y){f=Number(f)||0;var I=p.length-f;y?(y=Number(y),y>I&&(y=I)):y=I;var H=s.length;y>H/2&&(y=H/2);for(var V=0;V<y;++V){var Q=parseInt(s.substr(V*2,2),16);if(be(Q))return V;p[f+V]=Q}return V}function x(p,s,f,y){return ae(se(s,p.length-f),p,f,y)}function m(p,s,f,y){return ae(oe(s),p,f,y)}function O(p,s,f,y){return ae(fe(s),p,f,y)}function F(p,s,f,y){return ae(ee(s,p.length-f),p,f,y)}a.prototype.write=function(s,f,y,I){if(f===void 0)I="utf8",y=this.length,f=0;else if(y===void 0&&typeof f=="string")I=f,y=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(y)?(y=y>>>0,I===void 0&&(I="utf8")):(I=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var H=this.length-f;if((y===void 0||y>H)&&(y=H),s.length>0&&(y<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");for(var V=!1;;)switch(I){case"hex":return D(this,s,f,y);case"utf8":case"utf-8":return x(this,s,f,y);case"ascii":case"latin1":case"binary":return m(this,s,f,y);case"base64":return O(this,s,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,s,f,y);default:if(V)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),V=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(p,s,f){return s===0&&f===p.length?vt.fromByteArray(p):vt.fromByteArray(p.slice(s,f))}function R(p,s,f){f=Math.min(p.length,f);for(var y=[],I=s;I<f;){var H=p[I],V=null,Q=H>239?4:H>223?3:H>191?2:1;if(I+Q<=f){var Y,X,ie,te;switch(Q){case 1:H<128&&(V=H);break;case 2:Y=p[I+1],(Y&192)===128&&(te=(H&31)<<6|Y&63,te>127&&(V=te));break;case 3:Y=p[I+1],X=p[I+2],(Y&192)===128&&(X&192)===128&&(te=(H&15)<<12|(Y&63)<<6|X&63,te>2047&&(te<55296||te>57343)&&(V=te));break;case 4:Y=p[I+1],X=p[I+2],ie=p[I+3],(Y&192)===128&&(X&192)===128&&(ie&192)===128&&(te=(H&15)<<18|(Y&63)<<12|(X&63)<<6|ie&63,te>65535&&te<1114112&&(V=te))}}V===null?(V=65533,Q=1):V>65535&&(V-=65536,y.push(V>>>10&1023|55296),V=56320|V&1023),y.push(V),I+=Q}return L(y)}var N=4096;function L(p){var s=p.length;if(s<=N)return String.fromCharCode.apply(String,p);for(var f="",y=0;y<s;)f+=String.fromCharCode.apply(String,p.slice(y,y+=N));return f}function b(p,s,f){var y="";f=Math.min(p.length,f);for(var I=s;I<f;++I)y+=String.fromCharCode(p[I]&127);return y}function d(p,s,f){var y="";f=Math.min(p.length,f);for(var I=s;I<f;++I)y+=String.fromCharCode(p[I]);return y}function k(p,s,f){var y=p.length;(!s||s<0)&&(s=0),(!f||f<0||f>y)&&(f=y);for(var I="",H=s;H<f;++H)I+=ge[p[H]];return I}function T(p,s,f){for(var y=p.slice(s,f),I="",H=0;H<y.length-1;H+=2)I+=String.fromCharCode(y[H]+y[H+1]*256);return I}a.prototype.slice=function(s,f){var y=this.length;s=~~s,f=f===void 0?y:~~f,s<0?(s+=y,s<0&&(s=0)):s>y&&(s=y),f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),f<s&&(f=s);var I=this.subarray(s,f);return Object.setPrototypeOf(I,a.prototype),I};function C(p,s,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+s>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(s,f,y){s=s>>>0,f=f>>>0,y||C(s,f,this.length);for(var I=this[s],H=1,V=0;++V<f&&(H*=256);)I+=this[s+V]*H;return I},a.prototype.readUintBE=a.prototype.readUIntBE=function(s,f,y){s=s>>>0,f=f>>>0,y||C(s,f,this.length);for(var I=this[s+--f],H=1;f>0&&(H*=256);)I+=this[s+--f]*H;return I},a.prototype.readUint8=a.prototype.readUInt8=function(s,f){return s=s>>>0,f||C(s,1,this.length),this[s]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(s,f){return s=s>>>0,f||C(s,2,this.length),this[s]|this[s+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(s,f){return s=s>>>0,f||C(s,2,this.length),this[s]<<8|this[s+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(s,f){return s=s>>>0,f||C(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(s,f){return s=s>>>0,f||C(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},a.prototype.readIntLE=function(s,f,y){s=s>>>0,f=f>>>0,y||C(s,f,this.length);for(var I=this[s],H=1,V=0;++V<f&&(H*=256);)I+=this[s+V]*H;return H*=128,I>=H&&(I-=Math.pow(2,8*f)),I},a.prototype.readIntBE=function(s,f,y){s=s>>>0,f=f>>>0,y||C(s,f,this.length);for(var I=f,H=1,V=this[s+--I];I>0&&(H*=256);)V+=this[s+--I]*H;return H*=128,V>=H&&(V-=Math.pow(2,8*f)),V},a.prototype.readInt8=function(s,f){return s=s>>>0,f||C(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},a.prototype.readInt16LE=function(s,f){s=s>>>0,f||C(s,2,this.length);var y=this[s]|this[s+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(s,f){s=s>>>0,f||C(s,2,this.length);var y=this[s+1]|this[s]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(s,f){return s=s>>>0,f||C(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},a.prototype.readInt32BE=function(s,f){return s=s>>>0,f||C(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},a.prototype.readFloatLE=function(s,f){return s=s>>>0,f||C(s,4,this.length),Ve.read(this,s,!0,23,4)},a.prototype.readFloatBE=function(s,f){return s=s>>>0,f||C(s,4,this.length),Ve.read(this,s,!1,23,4)},a.prototype.readDoubleLE=function(s,f){return s=s>>>0,f||C(s,8,this.length),Ve.read(this,s,!0,52,8)},a.prototype.readDoubleBE=function(s,f){return s=s>>>0,f||C(s,8,this.length),Ve.read(this,s,!1,52,8)};function z(p,s,f,y,I,H){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>I||s<H)throw new RangeError('"value" argument is out of bounds');if(f+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(s,f,y,I){if(s=+s,f=f>>>0,y=y>>>0,!I){var H=Math.pow(2,8*y)-1;z(this,s,f,y,H,0)}var V=1,Q=0;for(this[f]=s&255;++Q<y&&(V*=256);)this[f+Q]=s/V&255;return f+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(s,f,y,I){if(s=+s,f=f>>>0,y=y>>>0,!I){var H=Math.pow(2,8*y)-1;z(this,s,f,y,H,0)}var V=y-1,Q=1;for(this[f+V]=s&255;--V>=0&&(Q*=256);)this[f+V]=s/Q&255;return f+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,1,255,0),this[f]=s&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,2,65535,0),this[f]=s&255,this[f+1]=s>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,2,65535,0),this[f]=s>>>8,this[f+1]=s&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,4,4294967295,0),this[f+3]=s>>>24,this[f+2]=s>>>16,this[f+1]=s>>>8,this[f]=s&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,4,4294967295,0),this[f]=s>>>24,this[f+1]=s>>>16,this[f+2]=s>>>8,this[f+3]=s&255,f+4},a.prototype.writeIntLE=function(s,f,y,I){if(s=+s,f=f>>>0,!I){var H=Math.pow(2,8*y-1);z(this,s,f,y,H-1,-H)}var V=0,Q=1,Y=0;for(this[f]=s&255;++V<y&&(Q*=256);)s<0&&Y===0&&this[f+V-1]!==0&&(Y=1),this[f+V]=(s/Q>>0)-Y&255;return f+y},a.prototype.writeIntBE=function(s,f,y,I){if(s=+s,f=f>>>0,!I){var H=Math.pow(2,8*y-1);z(this,s,f,y,H-1,-H)}var V=y-1,Q=1,Y=0;for(this[f+V]=s&255;--V>=0&&(Q*=256);)s<0&&Y===0&&this[f+V+1]!==0&&(Y=1),this[f+V]=(s/Q>>0)-Y&255;return f+y},a.prototype.writeInt8=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,1,127,-128),s<0&&(s=255+s+1),this[f]=s&255,f+1},a.prototype.writeInt16LE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,2,32767,-32768),this[f]=s&255,this[f+1]=s>>>8,f+2},a.prototype.writeInt16BE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,2,32767,-32768),this[f]=s>>>8,this[f+1]=s&255,f+2},a.prototype.writeInt32LE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,4,2147483647,-2147483648),this[f]=s&255,this[f+1]=s>>>8,this[f+2]=s>>>16,this[f+3]=s>>>24,f+4},a.prototype.writeInt32BE=function(s,f,y){return s=+s,f=f>>>0,y||z(this,s,f,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[f]=s>>>24,this[f+1]=s>>>16,this[f+2]=s>>>8,this[f+3]=s&255,f+4};function q(p,s,f,y,I,H){if(f+y>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function Z(p,s,f,y,I){return s=+s,f=f>>>0,I||q(p,s,f,4),Ve.write(p,s,f,y,23,4),f+4}a.prototype.writeFloatLE=function(s,f,y){return Z(this,s,f,!0,y)},a.prototype.writeFloatBE=function(s,f,y){return Z(this,s,f,!1,y)};function J(p,s,f,y,I){return s=+s,f=f>>>0,I||q(p,s,f,8),Ve.write(p,s,f,y,52,8),f+8}a.prototype.writeDoubleLE=function(s,f,y){return J(this,s,f,!0,y)},a.prototype.writeDoubleBE=function(s,f,y){return J(this,s,f,!1,y)},a.prototype.copy=function(s,f,y,I){if(!a.isBuffer(s))throw new TypeError("argument should be a Buffer");if(y||(y=0),!I&&I!==0&&(I=this.length),f>=s.length&&(f=s.length),f||(f=0),I>0&&I<y&&(I=y),I===y||s.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),s.length-f<I-y&&(I=s.length-f+y);var H=I-y;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,y,I):Uint8Array.prototype.set.call(s,this.subarray(y,I),f),H},a.prototype.fill=function(s,f,y,I){if(typeof s=="string"){if(typeof f=="string"?(I=f,f=0,y=this.length):typeof y=="string"&&(I=y,y=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!a.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(s.length===1){var H=s.charCodeAt(0);(I==="utf8"&&H<128||I==="latin1")&&(s=H)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(f<0||this.length<f||this.length<y)throw new RangeError("Out of range index");if(y<=f)return this;f=f>>>0,y=y===void 0?this.length:y>>>0,s||(s=0);var V;if(typeof s=="number")for(V=f;V<y;++V)this[V]=s;else{var Q=a.isBuffer(s)?s:a.from(s,I),Y=Q.length;if(Y===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(V=0;V<y-f;++V)this[V+f]=Q[V%Y]}return this};var $=/[^+/0-9A-Za-z-_]/g;function K(p){if(p=p.split("=")[0],p=p.trim().replace($,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function se(p,s){s=s||1/0;for(var f,y=p.length,I=null,H=[],V=0;V<y;++V){if(f=p.charCodeAt(V),f>55295&&f<57344){if(!I){if(f>56319){(s-=3)>-1&&H.push(239,191,189);continue}else if(V+1===y){(s-=3)>-1&&H.push(239,191,189);continue}I=f;continue}if(f<56320){(s-=3)>-1&&H.push(239,191,189),I=f;continue}f=(I-55296<<10|f-56320)+65536}else I&&(s-=3)>-1&&H.push(239,191,189);if(I=null,f<128){if((s-=1)<0)break;H.push(f)}else if(f<2048){if((s-=2)<0)break;H.push(f>>6|192,f&63|128)}else if(f<65536){if((s-=3)<0)break;H.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((s-=4)<0)break;H.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return H}function oe(p){for(var s=[],f=0;f<p.length;++f)s.push(p.charCodeAt(f)&255);return s}function ee(p,s){for(var f,y,I,H=[],V=0;V<p.length&&!((s-=2)<0);++V)f=p.charCodeAt(V),y=f>>8,I=f%256,H.push(I),H.push(y);return H}function fe(p){return vt.toByteArray(K(p))}function ae(p,s,f,y){for(var I=0;I<y&&!(I+f>=s.length||I>=p.length);++I)s[I+f]=p[I];return I}function ne(p,s){return p instanceof s||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===s.name}function be(p){return p!==p}var ge=function(){for(var p="0123456789abcdef",s=new Array(256),f=0;f<16;++f)for(var y=f*16,I=0;I<16;++I)s[y+I]=p[f]+p[I];return s}()}),re=ht.Buffer;ht.SlowBuffer;ht.INSPECT_MAX_BYTES;ht.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ut=function(e,r){return Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},Ut(e,r)};function lt(t,e){Ut(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var je=function(t){lt(e,t);function e(r){var i=t.call(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),e}(Error),ue=function(t){lt(e,t);function e(r){var i=t.call(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),e}(TypeError);function nt(t){return t&&t.Math==Math&&t}function ur(){return nt(typeof globalThis=="object"&&globalThis)||nt(typeof window=="object"&&window)||nt(typeof self=="object"&&self)||nt(typeof global=="object"&&global)||Function("return this")()}function Yr(){var t=ur();return typeof t.navigator=="object"&&t.navigator.product==="ReactNative"}var Qr=function(e){var r=Yr()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(r);for(var i=re.alloc(e),n=0;n<e;++n)i[n]=Math.floor(Math.random()*256);return i},Kr=function(){{if(typeof window<"u"){var t=window.crypto||window.msCrypto;if(t&&t.getRandomValues)return function(e){return t.getRandomValues(re.alloc(e))}}return typeof global<"u"&&global.crypto&&global.crypto.getRandomValues?function(e){return global.crypto.getRandomValues(re.alloc(e))}:Qr}},cr=Kr();function en(t){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(t))}function It(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}function tn(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function rn(t){return tt(t)&&Object.prototype.toString.call(t)==="[object Date]"}function tt(t){return typeof t=="object"&&t!==null}function pt(t,e){var r=!1;function i(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r||(console.warn(e),r=!0),t.apply(this,n)}return i}function st(t){if(ArrayBuffer.isView(t))return re.from(t.buffer,t.byteOffset,t.byteLength);if(en(t))return re.from(t);throw new ue("Must use either Buffer or TypedArray")}var nn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,hr=function(t){return typeof t=="string"&&nn.test(t)},Ot=function(t){if(!hr(t))throw new ue('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var e=t.replace(/-/g,"");return re.from(e,"hex")},Dt=function(t,e){return e===void 0&&(e=!0),e?t.toString("hex",0,4)+"-"+t.toString("hex",4,6)+"-"+t.toString("hex",6,8)+"-"+t.toString("hex",8,10)+"-"+t.toString("hex",10,16):t.toString("hex")},on=Math.pow(2,53),sn=-Math.pow(2,53),lr=4,Me=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(e!=null&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!(e instanceof ArrayBuffer)&&!Array.isArray(e))throw new ue("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=r??t.BSON_BINARY_SUBTYPE_DEFAULT,e==null?(this.buffer=re.alloc(t.BUFFER_SIZE),this.position=0):(typeof e=="string"?this.buffer=re.from(e,"binary"):Array.isArray(e)?this.buffer=re.from(e):this.buffer=st(e),this.position=this.buffer.byteLength)}return t.prototype.put=function(e){if(typeof e=="string"&&e.length!==1)throw new ue("only accepts single character String");if(typeof e!="number"&&e.length!==1)throw new ue("only accepts single character Uint8Array or Array");var r;if(typeof e=="string"?r=e.charCodeAt(0):typeof e=="number"?r=e:r=e[0],r<0||r>255)throw new ue("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=r;else{var i=re.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i,this.buffer[this.position++]=r}},t.prototype.write=function(e,r){if(r=typeof r=="number"?r:this.position,this.buffer.length<r+e.length){var i=re.alloc(this.buffer.length+e.length);this.buffer.copy(i,0,0,this.buffer.length),this.buffer=i}ArrayBuffer.isView(e)?(this.buffer.set(st(e),r),this.position=r+e.byteLength>this.position?r+e.length:this.position):typeof e=="string"&&(this.buffer.write(e,r,e.length,"binary"),this.position=r+e.length>this.position?r+e.length:this.position)},t.prototype.read=function(e,r){return r=r&&r>0?r:this.position,this.buffer.slice(e,e+r)},t.prototype.value=function(e){return e=!!e,e&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},t.prototype.length=function(){return this.position},t.prototype.toJSON=function(){return this.buffer.toString("base64")},t.prototype.toString=function(e){return this.buffer.toString(e)},t.prototype.toExtendedJSON=function(e){e=e||{};var r=this.buffer.toString("base64"),i=Number(this.sub_type).toString(16);return e.legacy?{$binary:r,$type:i.length===1?"0"+i:i}:{$binary:{base64:r,subType:i.length===1?"0"+i:i}}},t.prototype.toUUID=function(){if(this.sub_type===t.SUBTYPE_UUID)return new kt(this.buffer.slice(0,this.position));throw new je('Binary sub_type "'.concat(this.sub_type,'" is not supported for converting to UUID. Only "').concat(t.SUBTYPE_UUID,'" is currently supported.'))},t.fromExtendedJSON=function(e,r){r=r||{};var i,n;if("$binary"in e?r.legacy&&typeof e.$binary=="string"&&"$type"in e?(n=e.$type?parseInt(e.$type,16):0,i=re.from(e.$binary,"base64")):typeof e.$binary!="string"&&(n=e.$binary.subType?parseInt(e.$binary.subType,16):0,i=re.from(e.$binary.base64,"base64")):"$uuid"in e&&(n=4,i=Ot(e.$uuid)),!i)throw new ue("Unexpected Binary Extended JSON format ".concat(JSON.stringify(e)));return n===lr?new kt(i):new t(i,n)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.value(!0);return'new Binary(Buffer.from("'.concat(e.toString("hex"),'", "hex"), ').concat(this.sub_type,")")},t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BUFFER_SIZE=256,t.SUBTYPE_DEFAULT=0,t.SUBTYPE_FUNCTION=1,t.SUBTYPE_BYTE_ARRAY=2,t.SUBTYPE_UUID_OLD=3,t.SUBTYPE_UUID=4,t.SUBTYPE_MD5=5,t.SUBTYPE_ENCRYPTED=6,t.SUBTYPE_COLUMN=7,t.SUBTYPE_USER_DEFINED=128,t}();Object.defineProperty(Me.prototype,"_bsontype",{value:"Binary"});var Et=16,kt=function(t){lt(e,t);function e(r){var i=this,n,o;if(r==null)n=e.generate();else if(r instanceof e)n=re.from(r.buffer),o=r.__id;else if(ArrayBuffer.isView(r)&&r.byteLength===Et)n=st(r);else if(typeof r=="string")n=Ot(r);else throw new ue("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");return i=t.call(this,n,lr)||this,i.__id=o,i}return Object.defineProperty(e.prototype,"id",{get:function(){return this.buffer},set:function(r){this.buffer=r,e.cacheHexString&&(this.__id=Dt(r))},enumerable:!1,configurable:!0}),e.prototype.toHexString=function(r){if(r===void 0&&(r=!0),e.cacheHexString&&this.__id)return this.__id;var i=Dt(this.id,r);return e.cacheHexString&&(this.__id=i),i},e.prototype.toString=function(r){return r?this.id.toString(r):this.toHexString()},e.prototype.toJSON=function(){return this.toHexString()},e.prototype.equals=function(r){if(!r)return!1;if(r instanceof e)return r.id.equals(this.id);try{return new e(r).id.equals(this.id)}catch{return!1}},e.prototype.toBinary=function(){return new Me(this.id,Me.SUBTYPE_UUID)},e.generate=function(){var r=cr(Et);return r[6]=r[6]&15|64,r[8]=r[8]&63|128,re.from(r)},e.isValid=function(r){return r?r instanceof e?!0:typeof r=="string"?hr(r):It(r)?r.length!==Et?!1:(r[6]&240)===64&&(r[8]&128)===128:!1:!1},e.createFromHexString=function(r){var i=Ot(r);return new e(i)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return'new UUID("'.concat(this.toHexString(),'")')},e}(Me),gt=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);this.code=e,this.scope=r}return t.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},t.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},t.fromExtendedJSON=function(e){return new t(e.$code,e.$scope)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toJSON();return'new Code("'.concat(String(e.code),'"').concat(e.scope?", ".concat(JSON.stringify(e.scope)):"",")")},t}();Object.defineProperty(gt.prototype,"_bsontype",{value:"Code"});function fn(t){return tt(t)&&t.$id!=null&&typeof t.$ref=="string"&&(t.$db==null||typeof t.$db=="string")}var Qe=function(){function t(e,r,i,n){if(!(this instanceof t))return new t(e,r,i,n);var o=e.split(".");o.length===2&&(i=o.shift(),e=o.shift()),this.collection=e,this.oid=r,this.db=i,this.fields=n||{}}return Object.defineProperty(t.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(e.$db=this.db),e},t.prototype.toExtendedJSON=function(e){e=e||{};var r={$ref:this.collection,$id:this.oid};return e.legacy||(this.db&&(r.$db=this.db),r=Object.assign(r,this.fields)),r},t.fromExtendedJSON=function(e){var r=Object.assign({},e);return delete r.$ref,delete r.$id,delete r.$db,new t(e.$ref,e.$id,e.$db,r)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'.concat(this.namespace,'", new ObjectId("').concat(String(e),'")').concat(this.db?', "'.concat(this.db,'"'):"",")")},t}();Object.defineProperty(Qe.prototype,"_bsontype",{value:"DBRef"});var ye=void 0;try{ye=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var $t=65536,an=1<<24,ze=$t*$t,pr=ze*ze,jt=pr/2,Ht={},Wt={},G=function(){function t(e,r,i){if(e===void 0&&(e=0),!(this instanceof t))return new t(e,r,i);typeof e=="bigint"?Object.assign(this,t.fromBigInt(e,!!r)):typeof e=="string"?Object.assign(this,t.fromString(e,!!r)):(this.low=e|0,this.high=r|0,this.unsigned=!!i),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return t.fromBits=function(e,r,i){return new t(e,r,i)},t.fromInt=function(e,r){var i,n,o;return r?(e>>>=0,(o=0<=e&&e<256)&&(n=Wt[e],n)?n:(i=t.fromBits(e,(e|0)<0?-1:0,!0),o&&(Wt[e]=i),i)):(e|=0,(o=-128<=e&&e<128)&&(n=Ht[e],n)?n:(i=t.fromBits(e,e<0?-1:0,!1),o&&(Ht[e]=i),i))},t.fromNumber=function(e,r){if(isNaN(e))return r?t.UZERO:t.ZERO;if(r){if(e<0)return t.UZERO;if(e>=pr)return t.MAX_UNSIGNED_VALUE}else{if(e<=-jt)return t.MIN_VALUE;if(e+1>=jt)return t.MAX_VALUE}return e<0?t.fromNumber(-e,r).neg():t.fromBits(e%ze|0,e/ze|0,r)},t.fromBigInt=function(e,r){return t.fromString(e.toString(),r)},t.fromString=function(e,r,i){if(e.length===0)throw Error("empty string");if(e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return t.ZERO;if(typeof r=="number"?(i=r,r=!1):r=!!r,i=i||10,i<2||36<i)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return t.fromString(e.substring(1),r,i).neg();for(var o=t.fromNumber(Math.pow(i,8)),a=t.ZERO,l=0;l<e.length;l+=8){var w=Math.min(8,e.length-l),E=parseInt(e.substring(l,l+w),i);if(w<8){var u=t.fromNumber(Math.pow(i,w));a=a.mul(u).add(t.fromNumber(E))}else a=a.mul(o),a=a.add(t.fromNumber(E))}return a.unsigned=r,a},t.fromBytes=function(e,r,i){return i?t.fromBytesLE(e,r):t.fromBytesBE(e,r)},t.fromBytesLE=function(e,r){return new t(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},t.fromBytesBE=function(e,r){return new t(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)},t.isLong=function(e){return tt(e)&&e.__isLong__===!0},t.fromValue=function(e,r){return typeof e=="number"?t.fromNumber(e,r):typeof e=="string"?t.fromString(e,r):t.fromBits(e.low,e.high,typeof r=="boolean"?r:e.unsigned)},t.prototype.add=function(e){t.isLong(e)||(e=t.fromValue(e));var r=this.high>>>16,i=this.high&65535,n=this.low>>>16,o=this.low&65535,a=e.high>>>16,l=e.high&65535,w=e.low>>>16,E=e.low&65535,u=0,h=0,c=0,g=0;return g+=o+E,c+=g>>>16,g&=65535,c+=n+w,h+=c>>>16,c&=65535,h+=i+l,u+=h>>>16,h&=65535,u+=r+a,u&=65535,t.fromBits(c<<16|g,u<<16|h,this.unsigned)},t.prototype.and=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low&e.low,this.high&e.high,this.unsigned)},t.prototype.compare=function(e){if(t.isLong(e)||(e=t.fromValue(e)),this.eq(e))return 0;var r=this.isNegative(),i=e.isNegative();return r&&!i?-1:!r&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},t.prototype.comp=function(e){return this.compare(e)},t.prototype.divide=function(e){if(t.isLong(e)||(e=t.fromValue(e)),e.isZero())throw Error("division by zero");if(ye){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?ye.div_u:ye.div_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,ye.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?t.UZERO:t.ZERO;var i,n,o;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return t.UZERO;if(e.gt(this.shru(1)))return t.UONE;o=t.UZERO}else{if(this.eq(t.MIN_VALUE)){if(e.eq(t.ONE)||e.eq(t.NEG_ONE))return t.MIN_VALUE;if(e.eq(t.MIN_VALUE))return t.ONE;var a=this.shr(1);return i=a.div(e).shl(1),i.eq(t.ZERO)?e.isNegative()?t.ONE:t.NEG_ONE:(n=this.sub(e.mul(i)),o=i.add(n.div(e)),o)}else if(e.eq(t.MIN_VALUE))return this.unsigned?t.UZERO:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=t.ZERO}for(n=this;n.gte(e);){i=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var l=Math.ceil(Math.log(i)/Math.LN2),w=l<=48?1:Math.pow(2,l-48),E=t.fromNumber(i),u=E.mul(e);u.isNegative()||u.gt(n);)i-=w,E=t.fromNumber(i,this.unsigned),u=E.mul(e);E.isZero()&&(E=t.ONE),o=o.add(E),n=n.sub(u)}return o},t.prototype.div=function(e){return this.divide(e)},t.prototype.equals=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},t.prototype.eq=function(e){return this.equals(e)},t.prototype.getHighBits=function(){return this.high},t.prototype.getHighBitsUnsigned=function(){return this.high>>>0},t.prototype.getLowBits=function(){return this.low},t.prototype.getLowBitsUnsigned=function(){return this.low>>>0},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(t.MIN_VALUE)?64:this.neg().getNumBitsAbs();var e=this.high!==0?this.high:this.low,r;for(r=31;r>0&&!(e&1<<r);r--);return this.high!==0?r+33:r+1},t.prototype.greaterThan=function(e){return this.comp(e)>0},t.prototype.gt=function(e){return this.greaterThan(e)},t.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},t.prototype.gte=function(e){return this.greaterThanOrEqual(e)},t.prototype.ge=function(e){return this.greaterThanOrEqual(e)},t.prototype.isEven=function(){return(this.low&1)===0},t.prototype.isNegative=function(){return!this.unsigned&&this.high<0},t.prototype.isOdd=function(){return(this.low&1)===1},t.prototype.isPositive=function(){return this.unsigned||this.high>=0},t.prototype.isZero=function(){return this.high===0&&this.low===0},t.prototype.lessThan=function(e){return this.comp(e)<0},t.prototype.lt=function(e){return this.lessThan(e)},t.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},t.prototype.lte=function(e){return this.lessThanOrEqual(e)},t.prototype.modulo=function(e){if(t.isLong(e)||(e=t.fromValue(e)),ye){var r=(this.unsigned?ye.rem_u:ye.rem_s)(this.low,this.high,e.low,e.high);return t.fromBits(r,ye.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},t.prototype.mod=function(e){return this.modulo(e)},t.prototype.rem=function(e){return this.modulo(e)},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;if(t.isLong(e)||(e=t.fromValue(e)),ye){var r=ye.mul(this.low,this.high,e.low,e.high);return t.fromBits(r,ye.get_high(),this.unsigned)}if(e.isZero())return t.ZERO;if(this.eq(t.MIN_VALUE))return e.isOdd()?t.MIN_VALUE:t.ZERO;if(e.eq(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(t.TWO_PWR_24)&&e.lt(t.TWO_PWR_24))return t.fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,n=this.high&65535,o=this.low>>>16,a=this.low&65535,l=e.high>>>16,w=e.high&65535,E=e.low>>>16,u=e.low&65535,h=0,c=0,g=0,v=0;return v+=a*u,g+=v>>>16,v&=65535,g+=o*u,c+=g>>>16,g&=65535,g+=a*E,c+=g>>>16,g&=65535,c+=n*u,h+=c>>>16,c&=65535,c+=o*E,h+=c>>>16,c&=65535,c+=a*w,h+=c>>>16,c&=65535,h+=i*u+n*E+o*w+a*l,h&=65535,t.fromBits(g<<16|v,h<<16|c,this.unsigned)},t.prototype.mul=function(e){return this.multiply(e)},t.prototype.negate=function(){return!this.unsigned&&this.eq(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.neg=function(){return this.negate()},t.prototype.not=function(){return t.fromBits(~this.low,~this.high,this.unsigned)},t.prototype.notEquals=function(e){return!this.equals(e)},t.prototype.neq=function(e){return this.notEquals(e)},t.prototype.ne=function(e){return this.notEquals(e)},t.prototype.or=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low|e.low,this.high|e.high,this.unsigned)},t.prototype.shiftLeft=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):t.fromBits(0,this.low<<e-32,this.unsigned)},t.prototype.shl=function(e){return this.shiftLeft(e)},t.prototype.shiftRight=function(e){return t.isLong(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?t.fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):t.fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},t.prototype.shr=function(e){return this.shiftRight(e)},t.prototype.shiftRightUnsigned=function(e){if(t.isLong(e)&&(e=e.toInt()),e&=63,e===0)return this;var r=this.high;if(e<32){var i=this.low;return t.fromBits(i>>>e|r<<32-e,r>>>e,this.unsigned)}else return e===32?t.fromBits(r,0,this.unsigned):t.fromBits(r>>>e-32,0,this.unsigned)},t.prototype.shr_u=function(e){return this.shiftRightUnsigned(e)},t.prototype.shru=function(e){return this.shiftRightUnsigned(e)},t.prototype.subtract=function(e){return t.isLong(e)||(e=t.fromValue(e)),this.add(e.neg())},t.prototype.sub=function(e){return this.subtract(e)},t.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*ze+(this.low>>>0):this.high*ze+(this.low>>>0)},t.prototype.toBigInt=function(){return BigInt(this.toString())},t.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},t.prototype.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},t.prototype.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},t.prototype.toSigned=function(){return this.unsigned?t.fromBits(this.low,this.high,!1):this},t.prototype.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(t.MIN_VALUE)){var r=t.fromNumber(e),i=this.div(r),n=i.mul(r).sub(this);return i.toString(e)+n.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var o=t.fromNumber(Math.pow(e,6),this.unsigned),a=this,l="";;){var w=a.div(o),E=a.sub(w.mul(o)).toInt()>>>0,u=E.toString(e);if(a=w,a.isZero())return u+l;for(;u.length<6;)u="0"+u;l=""+u+l}},t.prototype.toUnsigned=function(){return this.unsigned?this:t.fromBits(this.low,this.high,!0)},t.prototype.xor=function(e){return t.isLong(e)||(e=t.fromValue(e)),t.fromBits(this.low^e.low,this.high^e.high,this.unsigned)},t.prototype.eqz=function(){return this.isZero()},t.prototype.le=function(e){return this.lessThanOrEqual(e)},t.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},t.fromExtendedJSON=function(e,r){var i=t.fromString(e.$numberLong);return r&&r.relaxed?i.toNumber():i},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Long("'.concat(this.toString(),'"').concat(this.unsigned?", true":"",")")},t.TWO_PWR_24=t.fromInt(an),t.MAX_UNSIGNED_VALUE=t.fromBits(-1,-1,!0),t.ZERO=t.fromInt(0),t.UZERO=t.fromInt(0,!0),t.ONE=t.fromInt(1),t.UONE=t.fromInt(1,!0),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,2147483647,!1),t.MIN_VALUE=t.fromBits(0,-2147483648,!1),t}();Object.defineProperty(G.prototype,"__isLong__",{value:!0});Object.defineProperty(G.prototype,"_bsontype",{value:"Long"});var un=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,cn=/^(\+|-)?(Infinity|inf)$/i,hn=/^(\+|-)?NaN$/i,Ye=6111,At=-6176,Vt=6176,ln=34,St=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Jt=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),qt=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),pn=/^([-+])?(\d+)?$/,gn=31,zt=16383,dn=30,yn=31;function Zt(t){return!isNaN(parseInt(t,10))}function mn(t){var e=G.fromNumber(1e9),r=G.fromNumber(0);if(!t.parts[0]&&!t.parts[1]&&!t.parts[2]&&!t.parts[3])return{quotient:t,rem:r};for(var i=0;i<=3;i++)r=r.shiftLeft(32),r=r.add(new G(t.parts[i],0)),t.parts[i]=r.div(e).low,r=r.modulo(e);return{quotient:t,rem:r}}function wn(t,e){if(!t&&!e)return{high:G.fromNumber(0),low:G.fromNumber(0)};var r=t.shiftRightUnsigned(32),i=new G(t.getLowBits(),0),n=e.shiftRightUnsigned(32),o=new G(e.getLowBits(),0),a=r.multiply(n),l=r.multiply(o),w=i.multiply(n),E=i.multiply(o);return a=a.add(l.shiftRightUnsigned(32)),l=new G(l.getLowBits(),0).add(w).add(E.shiftRightUnsigned(32)),a=a.add(l.shiftRightUnsigned(32)),E=l.shiftLeft(32).add(new G(E.getLowBits(),0)),{high:a,low:E}}function bn(t,e){var r=t.high>>>0,i=e.high>>>0;if(r<i)return!0;if(r===i){var n=t.low>>>0,o=e.low>>>0;if(n<o)return!0}return!1}function Je(t,e){throw new ue('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}var Bt=function(){function t(e){if(!(this instanceof t))return new t(e);if(typeof e=="string")this.bytes=t.fromString(e).bytes;else if(It(e)){if(e.byteLength!==16)throw new ue("Decimal128 must take a Buffer of 16 bytes");this.bytes=e}else throw new ue("Decimal128 must take a Buffer or string")}return t.fromString=function(e){var r=!1,i=!1,n=!1,o=0,a=0,l=0,w=0,E=0,u=[0],h=0,c=0,g=0,v=0,U=0,M=0,S=new G(0,0),j=new G(0,0),P=0,_=0;if(e.length>=7e3)throw new ue(""+e+" not a valid Decimal128 string");var W=e.match(un),A=e.match(cn),D=e.match(hn);if(!W&&!A&&!D||e.length===0)throw new ue(""+e+" not a valid Decimal128 string");if(W){var x=W[2],m=W[4],O=W[5],F=W[6];m&&F===void 0&&Je(e,"missing exponent power"),m&&x===void 0&&Je(e,"missing exponent base"),m===void 0&&(O||F)&&Je(e,"missing e before exponent")}if((e[_]==="+"||e[_]==="-")&&(r=e[_++]==="-"),!Zt(e[_])&&e[_]!=="."){if(e[_]==="i"||e[_]==="I")return new t(re.from(r?Jt:qt));if(e[_]==="N")return new t(re.from(St))}for(;Zt(e[_])||e[_]===".";){if(e[_]==="."){i&&Je(e,"contains multiple periods"),i=!0,_=_+1;continue}h<34&&(e[_]!=="0"||n)&&(n||(E=a),n=!0,u[c++]=parseInt(e[_],10),h=h+1),n&&(l=l+1),i&&(w=w+1),a=a+1,_=_+1}if(i&&!a)throw new ue(""+e+" not a valid Decimal128 string");if(e[_]==="e"||e[_]==="E"){var B=e.substr(++_).match(pn);if(!B||!B[2])return new t(re.from(St));U=parseInt(B[0],10),_=_+B[0].length}if(e[_])return new t(re.from(St));if(g=0,!h)g=0,v=0,u[0]=0,l=1,h=1,o=0;else if(v=h-1,o=l,o!==1)for(;u[E+o-1]===0;)o=o-1;for(U<=w&&w-U>16384?U=At:U=U-w;U>Ye;){if(v=v+1,v-g>ln){var R=u.join("");if(R.match(/^0+$/)){U=Ye;break}Je(e,"overflow")}U=U-1}for(;U<At||h<l;){if(v===0&&o<h){U=At,o=0;break}if(h<l?l=l-1:v=v-1,U<Ye)U=U+1;else{var R=u.join("");if(R.match(/^0+$/)){U=Ye;break}Je(e,"overflow")}}if(v-g+1<o){var N=a;i&&(E=E+1,N=N+1),r&&(E=E+1,N=N+1);var L=parseInt(e[E+v+1],10),b=0;if(L>=5&&(b=1,L===5)){for(b=u[v]%2===1?1:0,M=E+v+2;M<N;M++)if(parseInt(e[M],10)){b=1;break}}if(b){for(var d=v;d>=0;d--)if(++u[d]>9&&(u[d]=0,d===0))if(U<Ye)U=U+1,u[d]=1;else return new t(re.from(r?Jt:qt))}}if(S=G.fromNumber(0),j=G.fromNumber(0),o===0)S=G.fromNumber(0),j=G.fromNumber(0);else if(v-g<17){var d=g;for(j=G.fromNumber(u[d++]),S=new G(0,0);d<=v;d++)j=j.multiply(G.fromNumber(10)),j=j.add(G.fromNumber(u[d]))}else{var d=g;for(S=G.fromNumber(u[d++]);d<=v-17;d++)S=S.multiply(G.fromNumber(10)),S=S.add(G.fromNumber(u[d]));for(j=G.fromNumber(u[d++]);d<=v;d++)j=j.multiply(G.fromNumber(10)),j=j.add(G.fromNumber(u[d]))}var k=wn(S,G.fromString("100000000000000000"));k.low=k.low.add(j),bn(k.low,j)&&(k.high=k.high.add(G.fromNumber(1))),P=U+Vt;var T={low:G.fromNumber(0),high:G.fromNumber(0)};k.high.shiftRightUnsigned(49).and(G.fromNumber(1)).equals(G.fromNumber(1))?(T.high=T.high.or(G.fromNumber(3).shiftLeft(61)),T.high=T.high.or(G.fromNumber(P).and(G.fromNumber(16383).shiftLeft(47))),T.high=T.high.or(k.high.and(G.fromNumber(0x7fffffffffff)))):(T.high=T.high.or(G.fromNumber(P&16383).shiftLeft(49)),T.high=T.high.or(k.high.and(G.fromNumber(562949953421311)))),T.low=k.low,r&&(T.high=T.high.or(G.fromString("9223372036854775808")));var C=re.alloc(16);return _=0,C[_++]=T.low.low&255,C[_++]=T.low.low>>8&255,C[_++]=T.low.low>>16&255,C[_++]=T.low.low>>24&255,C[_++]=T.low.high&255,C[_++]=T.low.high>>8&255,C[_++]=T.low.high>>16&255,C[_++]=T.low.high>>24&255,C[_++]=T.high.low&255,C[_++]=T.high.low>>8&255,C[_++]=T.high.low>>16&255,C[_++]=T.high.low>>24&255,C[_++]=T.high.high&255,C[_++]=T.high.high>>8&255,C[_++]=T.high.high>>16&255,C[_++]=T.high.high>>24&255,new t(C)},t.prototype.toString=function(){for(var e,r=0,i=new Array(36),n=0;n<i.length;n++)i[n]=0;var o=0,a=!1,l,w={parts:[0,0,0,0]},E,u,h=[];o=0;var c=this.bytes,g=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24,v=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24,U=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24,M=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24;o=0;var S={low:new G(g,v),high:new G(U,M)};S.high.lessThan(G.ZERO)&&h.push("-");var j=M>>26&gn;if(j>>3===3){if(j===dn)return h.join("")+"Infinity";if(j===yn)return"NaN";e=M>>15&zt,l=8+(M>>14&1)}else l=M>>14&7,e=M>>17&zt;var P=e-Vt;if(w.parts[0]=(M&16383)+((l&15)<<14),w.parts[1]=U,w.parts[2]=v,w.parts[3]=g,w.parts[0]===0&&w.parts[1]===0&&w.parts[2]===0&&w.parts[3]===0)a=!0;else for(u=3;u>=0;u--){var _=0,W=mn(w);if(w=W.quotient,_=W.rem.low,!!_)for(E=8;E>=0;E--)i[u*9+E]=_%10,_=Math.floor(_/10)}if(a)r=1,i[o]=0;else for(r=36;!i[o];)r=r-1,o=o+1;var A=r-1+P;if(A>=34||A<=-7||P>0){if(r>34)return h.push("".concat(0)),P>0?h.push("E+".concat(P)):P<0&&h.push("E".concat(P)),h.join("");h.push("".concat(i[o++])),r=r-1,r&&h.push(".");for(var n=0;n<r;n++)h.push("".concat(i[o++]));h.push("E"),A>0?h.push("+".concat(A)):h.push("".concat(A))}else if(P>=0)for(var n=0;n<r;n++)h.push("".concat(i[o++]));else{var D=r+P;if(D>0)for(var n=0;n<D;n++)h.push("".concat(i[o++]));else h.push("0");for(h.push(".");D++<0;)h.push("0");for(var n=0;n<r-Math.max(D-1,0);n++)h.push("".concat(i[o++]))}return h.join("")},t.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},t.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},t.fromExtendedJSON=function(e){return t.fromString(e.$numberDecimal)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new Decimal128("'.concat(this.toString(),'")')},t}();Object.defineProperty(Bt.prototype,"_bsontype",{value:"Decimal128"});var dt=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e}return t.prototype.valueOf=function(){return this.value},t.prototype.toJSON=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toExtendedJSON=function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}},t.fromExtendedJSON=function(e,r){var i=parseFloat(e.$numberDouble);return r&&r.relaxed?i:new t(i)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){var e=this.toExtendedJSON();return"new Double(".concat(e.$numberDouble,")")},t}();Object.defineProperty(dt.prototype,"_bsontype",{value:"Double"});var yt=function(){function t(e){if(!(this instanceof t))return new t(e);e instanceof Number&&(e=e.valueOf()),this.value=+e|0}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(e){return this.value.toString(e)},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}},t.fromExtendedJSON=function(e,r){return r&&r.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Int32(".concat(this.valueOf(),")")},t}();Object.defineProperty(yt.prototype,"_bsontype",{value:"Int32"});var Tt=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$maxKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MaxKey()"},t}();Object.defineProperty(Tt.prototype,"_bsontype",{value:"MaxKey"});var Ft=function(){function t(){if(!(this instanceof t))return new t}return t.prototype.toExtendedJSON=function(){return{$minKey:1}},t.fromExtendedJSON=function(){return new t},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new MinKey()"},t}();Object.defineProperty(Ft.prototype,"_bsontype",{value:"MinKey"});var xn=new RegExp("^[0-9a-fA-F]{24}$"),De=null,_e=Symbol("id"),we=function(){function t(e){if(!(this instanceof t))return new t(e);var r;if(typeof e=="object"&&e&&"id"in e){if(typeof e.id!="string"&&!ArrayBuffer.isView(e.id))throw new ue("Argument passed in must have an id that is of type string or Buffer");"toHexString"in e&&typeof e.toHexString=="function"?r=re.from(e.toHexString(),"hex"):r=e.id}else r=e;if(r==null||typeof r=="number")this[_e]=t.generate(typeof r=="number"?r:void 0);else if(ArrayBuffer.isView(r)&&r.byteLength===12)this[_e]=r instanceof re?r:st(r);else if(typeof r=="string")if(r.length===12){var i=re.from(r);if(i.byteLength===12)this[_e]=i;else throw new ue("Argument passed in must be a string of 12 bytes")}else if(r.length===24&&xn.test(r))this[_e]=re.from(r,"hex");else throw new ue("Argument passed in must be a string of 12 bytes or a string of 24 hex characters or an integer");else throw new ue("Argument passed in does not match the accepted types");t.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(t.prototype,"id",{get:function(){return this[_e]},set:function(e){this[_e]=e,t.cacheHexString&&(this.__id=e.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)},enumerable:!1,configurable:!0}),t.prototype.toHexString=function(){if(t.cacheHexString&&this.__id)return this.__id;var e=this.id.toString("hex");return t.cacheHexString&&!this.__id&&(this.__id=e),e},t.getInc=function(){return t.index=(t.index+1)%16777215},t.generate=function(e){typeof e!="number"&&(e=Math.floor(Date.now()/1e3));var r=t.getInc(),i=re.alloc(12);return i.writeUInt32BE(e,0),De===null&&(De=cr(5)),i[4]=De[0],i[5]=De[1],i[6]=De[2],i[7]=De[3],i[8]=De[4],i[11]=r&255,i[10]=r>>8&255,i[9]=r>>16&255,i},t.prototype.toString=function(e){return e?this.id.toString(e):this.toHexString()},t.prototype.toJSON=function(){return this.toHexString()},t.prototype.equals=function(e){if(e==null)return!1;if(e instanceof t)return this[_e][11]===e[_e][11]&&this[_e].equals(e[_e]);if(typeof e=="string"&&t.isValid(e)&&e.length===12&&It(this.id))return e===re.prototype.toString.call(this.id,"latin1");if(typeof e=="string"&&t.isValid(e)&&e.length===24)return e.toLowerCase()===this.toHexString();if(typeof e=="string"&&t.isValid(e)&&e.length===12)return re.from(e).equals(this.id);if(typeof e=="object"&&"toHexString"in e&&typeof e.toHexString=="function"){var r=e.toHexString(),i=this.toHexString().toLowerCase();return typeof r=="string"&&r.toLowerCase()===i}return!1},t.prototype.getTimestamp=function(){var e=new Date,r=this.id.readUInt32BE(0);return e.setTime(Math.floor(r)*1e3),e},t.createPk=function(){return new t},t.createFromTime=function(e){var r=re.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r.writeUInt32BE(e,0),new t(r)},t.createFromHexString=function(e){if(typeof e>"u"||e!=null&&e.length!==24)throw new ue("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new t(re.from(e,"hex"))},t.isValid=function(e){if(e==null)return!1;try{return new t(e),!0}catch{return!1}},t.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},t.fromExtendedJSON=function(e){return new t(e.$oid)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return'new ObjectId("'.concat(this.toHexString(),'")')},t.index=Math.floor(Math.random()*16777215),t}();Object.defineProperty(we.prototype,"generate",{value:pt(function(t){return we.generate(t)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(we.prototype,"getInc",{value:pt(function(){return we.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(we.prototype,"get_inc",{value:pt(function(){return we.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(we,"get_inc",{value:pt(function(){return we.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(we.prototype,"_bsontype",{value:"ObjectID"});function vn(t){return t.split("").sort().join("")}var Ke=function(){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this.pattern=e,this.options=vn(r??""),this.pattern.indexOf("\0")!==-1)throw new je("BSON Regex patterns cannot contain null bytes, found: ".concat(JSON.stringify(this.pattern)));if(this.options.indexOf("\0")!==-1)throw new je("BSON Regex options cannot contain null bytes, found: ".concat(JSON.stringify(this.options)));for(var i=0;i<this.options.length;i++)if(!(this.options[i]==="i"||this.options[i]==="m"||this.options[i]==="x"||this.options[i]==="l"||this.options[i]==="s"||this.options[i]==="u"))throw new je("The regular expression option [".concat(this.options[i],"] is not supported"))}return t.parseOptions=function(e){return e?e.split("").sort().join(""):""},t.prototype.toExtendedJSON=function(e){return e=e||{},e.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},t.fromExtendedJSON=function(e){if("$regex"in e)if(typeof e.$regex!="string"){if(e.$regex._bsontype==="BSONRegExp")return e}else return new t(e.$regex,t.parseOptions(e.$options));if("$regularExpression"in e)return new t(e.$regularExpression.pattern,t.parseOptions(e.$regularExpression.options));throw new ue("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(e)))},t}();Object.defineProperty(Ke.prototype,"_bsontype",{value:"BSONRegExp"});var Rt=function(){function t(e){if(!(this instanceof t))return new t(e);this.value=e}return t.prototype.valueOf=function(){return this.value},t.prototype.toString=function(){return this.value},t.prototype.inspect=function(){return'new BSONSymbol("'.concat(this.value,'")')},t.prototype.toJSON=function(){return this.value},t.prototype.toExtendedJSON=function(){return{$symbol:this.value}},t.fromExtendedJSON=function(e){return new t(e.$symbol)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t}();Object.defineProperty(Rt.prototype,"_bsontype",{value:"Symbol"});var En=G,gr=function(t){lt(e,t);function e(r,i){var n=this;return n instanceof e?(G.isLong(r)?n=t.call(this,r.low,r.high,!0)||this:tt(r)&&typeof r.t<"u"&&typeof r.i<"u"?n=t.call(this,r.i,r.t,!0)||this:n=t.call(this,r,i,!0)||this,Object.defineProperty(n,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),n):new e(r,i)}return e.prototype.toJSON=function(){return{$timestamp:this.toString()}},e.fromInt=function(r){return new e(G.fromInt(r,!0))},e.fromNumber=function(r){return new e(G.fromNumber(r,!0))},e.fromBits=function(r,i){return new e(r,i)},e.fromString=function(r,i){return new e(G.fromString(r,!0,i))},e.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},e.fromExtendedJSON=function(r){return new e(r.$timestamp)},e.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},e.prototype.inspect=function(){return"new Timestamp({ t: ".concat(this.getHighBits(),", i: ").concat(this.getLowBits()," })")},e.MAX_VALUE=G.MAX_UNSIGNED_VALUE,e}(En);function An(t){return tt(t)&&Reflect.has(t,"_bsontype")&&typeof t._bsontype=="string"}var dr=2147483647,yr=-2147483648,mr=9223372036854776e3,wr=-9223372036854776e3,Sn={$oid:we,$binary:Me,$uuid:Me,$symbol:Rt,$numberInt:yt,$numberDecimal:Bt,$numberDouble:dt,$numberLong:G,$minKey:Ft,$maxKey:Tt,$regex:Ke,$regularExpression:Ke,$timestamp:gr};function br(t,e){if(e===void 0&&(e={}),typeof t=="number"){if(e.relaxed||e.legacy)return t;if(Math.floor(t)===t){if(t>=yr&&t<=dr)return new yt(t);if(t>=wr&&t<=mr)return G.fromNumber(t)}return new dt(t)}if(t==null||typeof t!="object")return t;if(t.$undefined)return null;for(var r=Object.keys(t).filter(function(h){return h.startsWith("$")&&t[h]!=null}),i=0;i<r.length;i++){var n=Sn[r[i]];if(n)return n.fromExtendedJSON(t,e)}if(t.$date!=null){var o=t.$date,a=new Date;return e.legacy?typeof o=="number"?a.setTime(o):typeof o=="string"&&a.setTime(Date.parse(o)):typeof o=="string"?a.setTime(Date.parse(o)):G.isLong(o)?a.setTime(o.toNumber()):typeof o=="number"&&e.relaxed&&a.setTime(o),a}if(t.$code!=null){var l=Object.assign({},t);return t.$scope&&(l.$scope=br(t.$scope)),gt.fromExtendedJSON(t)}if(fn(t)||t.$dbPointer){var w=t.$ref?t:t.$dbPointer;if(w instanceof Qe)return w;var E=Object.keys(w).filter(function(h){return h.startsWith("$")}),u=!0;if(E.forEach(function(h){["$ref","$id","$db"].indexOf(h)===-1&&(u=!1)}),u)return Qe.fromExtendedJSON(w)}return t}function _n(t,e){return t.map(function(r,i){e.seenObjects.push({propertyName:"index ".concat(i),obj:null});try{return Re(r,e)}finally{e.seenObjects.pop()}})}function Gt(t){var e=t.toISOString();return t.getUTCMilliseconds()!==0?e:e.slice(0,-5)+"Z"}function Re(t,e){if((typeof t=="object"||typeof t=="function")&&t!==null){var r=e.seenObjects.findIndex(function(S){return S.obj===t});if(r!==-1){var i=e.seenObjects.map(function(S){return S.propertyName}),n=i.slice(0,r).map(function(S){return"".concat(S," -> ")}).join(""),o=i[r],a=" -> "+i.slice(r+1,i.length-1).map(function(S){return"".concat(S," -> ")}).join(""),l=i[i.length-1],w=" ".repeat(n.length+o.length/2),E="-".repeat(a.length+(o.length+l.length)/2-1);throw new ue(`Converting circular structure to EJSON:
`+"    ".concat(n).concat(o).concat(a).concat(l,`
`)+"    ".concat(w,"\\").concat(E,"/"))}e.seenObjects[e.seenObjects.length-1].obj=t}if(Array.isArray(t))return _n(t,e);if(t===void 0)return null;if(t instanceof Date||rn(t)){var u=t.getTime(),h=u>-1&&u<2534023188e5;return e.legacy?e.relaxed&&h?{$date:t.getTime()}:{$date:Gt(t)}:e.relaxed&&h?{$date:Gt(t)}:{$date:{$numberLong:t.getTime().toString()}}}if(typeof t=="number"&&(!e.relaxed||!isFinite(t))){if(Math.floor(t)===t){var c=t>=yr&&t<=dr,g=t>=wr&&t<=mr;if(c)return{$numberInt:t.toString()};if(g)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp||tn(t)){var v=t.flags;if(v===void 0){var U=t.toString().match(/[gimuy]*$/);U&&(v=U[0])}var M=new Ke(t.source,v);return M.toExtendedJSON(e)}return t!=null&&typeof t=="object"?Un(t,e):t}var Nn={Binary:function(t){return new Me(t.value(),t.sub_type)},Code:function(t){return new gt(t.code,t.scope)},DBRef:function(t){return new Qe(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new Bt(t.bytes)},Double:function(t){return new dt(t.value)},Int32:function(t){return new yt(t.value)},Long:function(t){return G.fromBits(t.low!=null?t.low:t.low_,t.low!=null?t.high:t.high_,t.low!=null?t.unsigned:t.unsigned_)},MaxKey:function(){return new Tt},MinKey:function(){return new Ft},ObjectID:function(t){return new we(t)},ObjectId:function(t){return new we(t)},BSONRegExp:function(t){return new Ke(t.pattern,t.options)},Symbol:function(t){return new Rt(t.value)},Timestamp:function(t){return gr.fromBits(t.low,t.high)}};function Un(t,e){if(t==null||typeof t!="object")throw new je("not an object instance");var r=t._bsontype;if(typeof r>"u"){var i={};for(var n in t){e.seenObjects.push({propertyName:n,obj:null});try{var o=Re(t[n],e);n==="__proto__"?Object.defineProperty(i,n,{value:o,writable:!0,enumerable:!0,configurable:!0}):i[n]=o}finally{e.seenObjects.pop()}}return i}else if(An(t)){var a=t;if(typeof a.toExtendedJSON!="function"){var l=Nn[t._bsontype];if(!l)throw new ue("Unrecognized or invalid _bsontype: "+t._bsontype);a=l(a)}return r==="Code"&&a.scope?a=new gt(a.code,Re(a.scope,e)):r==="DBRef"&&a.oid&&(a=new Qe(Re(a.collection,e),Re(a.oid,e),Re(a.db,e),Re(a.fields,e))),a.toExtendedJSON(e)}else throw new je("_bsontype must be a string, but was: "+typeof r)}var Xt;(function(t){function e(o,a){var l=Object.assign({},{relaxed:!0,legacy:!1},a);return typeof l.relaxed=="boolean"&&(l.strict=!l.relaxed),typeof l.strict=="boolean"&&(l.relaxed=!l.strict),JSON.parse(o,function(w,E){if(w.indexOf("\0")!==-1)throw new je("BSON Document field names cannot contain null bytes, found: ".concat(JSON.stringify(w)));return br(E,l)})}t.parse=e;function r(o,a,l,w){l!=null&&typeof l=="object"&&(w=l,l=0),a!=null&&typeof a=="object"&&!Array.isArray(a)&&(w=a,a=void 0,l=0);var E=Object.assign({relaxed:!0,legacy:!1},w,{seenObjects:[{propertyName:"(root)",obj:null}]}),u=Re(o,E);return JSON.stringify(u,a,l)}t.stringify=r;function i(o,a){return a=a||{},JSON.parse(r(o,a))}t.serialize=i;function n(o,a){return a=a||{},e(JSON.stringify(o),a)}t.deserialize=n})(Xt||(Xt={}));var Yt=ur();Yt.Map?Yt.Map:function(){function t(e){e===void 0&&(e=[]),this._keys=[],this._values={};for(var r=0;r<e.length;r++)if(e[r]!=null){var i=e[r],n=i[0],o=i[1];this._keys.push(n),this._values[n]={v:o,i:this._keys.length-1}}}return t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var r=this._values[e];return r==null?!1:(delete this._values[e],this._keys.splice(r.i,1),!0)},t.prototype.entries=function(){var e=this,r=0;return{next:function(){var i=e._keys[r++];return{value:i!==void 0?[i,e._values[i].v]:void 0,done:i===void 0}}}},t.prototype.forEach=function(e,r){r=r||this;for(var i=0;i<this._keys.length;i++){var n=this._keys[i];e.call(r,this._values[n].v,n,r)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return this._values[e]!=null},t.prototype.keys=function(){var e=this,r=0;return{next:function(){var i=e._keys[r++];return{value:i!==void 0?i:void 0,done:i===void 0}}}},t.prototype.set=function(e,r){return this._values[e]?(this._values[e].v=r,this):(this._keys.push(e),this._values[e]={v:r,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,r=0;return{next:function(){var i=e._keys[r++];return{value:i!==void 0?e._values[i].v:void 0,done:i===void 0}}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),t}();G.fromNumber(on);G.fromNumber(sn);var _t=new Uint8Array(8);new DataView(_t.buffer,_t.byteOffset,_t.byteLength);var On=1024*1024*17;re.alloc(On);var Qt=function(t,e,r){if(r||arguments.length===2)for(var i=0,n=e.length,o;i<n;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))},In=function(){function t(e,r,i){this.name=e,this.version=r,this.os=i,this.type="browser"}return t}(),Bn=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),Tn=function(){function t(e,r,i,n){this.name=e,this.version=r,this.os=i,this.bot=n,this.type="bot-device"}return t}(),Fn=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),Rn=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),Mn=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Ln=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Kt=3,Cn=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Mn]],er=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Pn(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Rn:typeof navigator<"u"?kn(navigator.userAgent):jn()}function Dn(t){return t!==""&&Cn.reduce(function(e,r){var i=r[0],n=r[1];if(e)return e;var o=n.exec(t);return!!o&&[i,o]},!1)}function kn(t){var e=Dn(t);if(!e)return null;var r=e[0],i=e[1];if(r==="searchbot")return new Fn;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Kt&&(n=Qt(Qt([],n,!0),Hn(Kt-n.length),!0)):n=[];var o=n.join("."),a=$n(t),l=Ln.exec(t);return l&&l[1]?new Tn(r,o,a,l[1]):new In(r,o,a)}function $n(t){for(var e=0,r=er.length;e<r;e++){var i=er[e],n=i[0],o=i[1],a=o.exec(t);if(a)return n}return null}function jn(){var t=typeof process<"u"&&process.version;return t?new Bn(process.version.slice(1)):null}function Hn(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}globalThis.fetch.bind(globalThis);typeof TextDecoder=="function"&&new TextDecoder;typeof TextEncoder=="function"&&new TextEncoder;const Wn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Vn=Array.prototype.slice.call(Wn);(t=>{let e={};return t.forEach((r,i)=>e[r]=i),e})(Vn);String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);var tr;(function(t){t.Normal="normal",t.Server="server"})(tr||(tr={}));var Ee;(function(t){t.NAME="name",t.EMAIL="email",t.PICTURE="picture",t.FIRST_NAME="first_name",t.LAST_NAME="last_name",t.GENDER="gender",t.BIRTHDAY="birthday",t.MIN_AGE="min_age",t.MAX_AGE="max_age"})(Ee||(Ee={}));Ee.NAME+"",Ee.EMAIL+"",Ee.PICTURE+"",Ee.FIRST_NAME+"",Ee.LAST_NAME+"",Ee.GENDER+"",Ee.BIRTHDAY+"",Ee.MIN_AGE+"",Ee.MAX_AGE+"";class Be{constructor(e,r){this.storage=e,this.keyPart=r}get(e){return this.storage.get(this.keyPart+Be.PART_SEPARATOR+e)}set(e,r){return this.storage.set(this.keyPart+Be.PART_SEPARATOR+e,r)}remove(e){return this.storage.remove(this.keyPart+Be.PART_SEPARATOR+e)}prefix(e){return new Be(this,e)}clear(e=""){return this.storage.clear(this.keyPart+Be.PART_SEPARATOR+e)}addListener(e){return this.storage.addListener(e)}removeListener(e){return this.storage.addListener(e)}}Be.PART_SEPARATOR=":";class Jn{constructor(){this.storage={},this.listeners=new Set}get(e){return e in this.storage?this.storage[e]:null}set(e,r){this.storage[e]=r,this.fireListeners()}remove(e){delete this.storage[e],this.fireListeners()}prefix(e){return new Be(this,e)}clear(e){for(const r of Object.keys(this.storage))(!e||r.startsWith(e))&&delete this.storage[r];this.fireListeners()}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}fireListeners(){this.listeners.forEach(e=>e())}}[...Object.getOwnPropertyNames(Object.prototype)];var rr;(function(t){t.NEED_DATA="NEED_DATA",t.HAVE_EVENT="HAVE_EVENT",t.HAVE_ERROR="HAVE_ERROR"})(rr||(rr={}));var nr;(function(t){t.Active="active",t.LoggedOut="logged-out",t.Removed="removed"})(nr||(nr={}));var ir;(function(t){t.Normal="normal",t.Server="server"})(ir||(ir={}));var or;(function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"})(or||(or={}));const qn=t=>{},it=function(t){return t&&t.Math==Math&&t},et=it(typeof globalThis=="object"&&globalThis)||it(typeof window=="object"&&window)||it(typeof self=="object"&&self)||it(typeof global=="object"&&global)||function(){return this}()||Function("return this")();qn(typeof __DEV__<"u"&&__DEV__);class zn{constructor(){if(typeof et.localStorage=="object")this.global=et;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(e){return this.global.localStorage.getItem(e)}set(e,r){return this.global.localStorage.setItem(e,r)}remove(e){return this.global.localStorage.removeItem(e)}prefix(e){return new Be(this,e)}clear(e){const r=[];for(let i=0;i<this.global.localStorage.length;i++){const n=this.global.localStorage.key(i);n&&(!e||n.startsWith(e))&&r.push(n)}for(const i of r)this.global.localStorage.removeItem(i)}addListener(e){return this.global.addEventListener("storage",e)}removeListener(e){return this.global.removeEventListener("storage",e)}}const qe=Pn(),Zn="localStorage"in et?zn:Jn;function Gn(t){return typeof et.open=="function"?et.open(t):(console.log(`Please open ${t}`),null)}new Zn().prefix("realm-web"),qe!=null&&qe.name,qe!=null&&qe.version;function Xn(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(i){if(i!=="default"&&!(i in t)){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}})}),Object.freeze(t)}function xr(t,e){return new Promise(function(r,i){let n;return Yn(t).then(function(o){try{return n=o,r(new Blob([e.slice(0,2),n,e.slice(2)],{type:"image/jpeg"}))}catch(a){return i(a)}},i)})}const Yn=t=>new Promise((e,r)=>{const i=new FileReader;i.addEventListener("load",({target:{result:n}})=>{const o=new DataView(n);let a=0;if(o.getUint16(a)!==65496)return r("not a valid JPEG");for(a+=2;;){const l=o.getUint16(a);if(l===65498)break;const w=o.getUint16(a+2);if(l===65505&&o.getUint32(a+4)===1165519206){const E=a+10;let u;switch(o.getUint16(E)){case 18761:u=!0;break;case 19789:u=!1;break;default:return r("TIFF header contains invalid endian")}if(o.getUint16(E+2,u)!==42)return r("TIFF header contains invalid version");const h=o.getUint32(E+4,u),c=E+h+2+12*o.getUint16(E+h,u);for(let g=E+h+2;g<c;g+=12)if(o.getUint16(g,u)==274){if(o.getUint16(g+2,u)!==3)return r("Orientation data type is invalid");if(o.getUint32(g+4,u)!==1)return r("Orientation data count is invalid");o.setUint16(g+8,1,u);break}return e(n.slice(a,a+2+w))}a+=2+w}return e(new Blob)}),i.readAsArrayBuffer(t)});var ft={},Qn={get exports(){return ft},set exports(t){ft=t}};(function(t){var e,r,i={};Qn.exports=i,i.parse=function(n,o){for(var a=i.bin.readUshort,l=i.bin.readUint,w=0,E={},u=new Uint8Array(n),h=u.length-4;l(u,h)!=101010256;)h--;w=h,w+=4;var c=a(u,w+=4);a(u,w+=2);var g=l(u,w+=2),v=l(u,w+=4);w+=4,w=v;for(var U=0;U<c;U++){l(u,w),w+=4,w+=4,w+=4,l(u,w+=4),g=l(u,w+=4);var M=l(u,w+=4),S=a(u,w+=4),j=a(u,w+2),P=a(u,w+4);w+=6;var _=l(u,w+=8);w+=4,w+=S+j+P,i._readLocal(u,_,E,g,M,o)}return E},i._readLocal=function(n,o,a,l,w,E){var u=i.bin.readUshort,h=i.bin.readUint;h(n,o),u(n,o+=4),u(n,o+=2);var c=u(n,o+=2);h(n,o+=2),h(n,o+=4),o+=4;var g=u(n,o+=8),v=u(n,o+=2);o+=2;var U=i.bin.readUTF8(n,o,g);if(o+=g,o+=v,E)a[U]={size:w,csize:l};else{var M=new Uint8Array(n.buffer,o);if(c==0)a[U]=new Uint8Array(M.buffer.slice(o,o+l));else{if(c!=8)throw"unknown compression method: "+c;var S=new Uint8Array(w);i.inflateRaw(M,S),a[U]=S}}},i.inflateRaw=function(n,o){return i.F.inflate(n,o)},i.inflate=function(n,o){return n[0],n[1],i.inflateRaw(new Uint8Array(n.buffer,n.byteOffset+2,n.length-6),o)},i.deflate=function(n,o){o==null&&(o={level:6});var a=0,l=new Uint8Array(50+Math.floor(1.1*n.length));l[a]=120,l[a+1]=156,a+=2,a=i.F.deflateRaw(n,l,a,o.level);var w=i.adler(n,0,n.length);return l[a+0]=w>>>24&255,l[a+1]=w>>>16&255,l[a+2]=w>>>8&255,l[a+3]=w>>>0&255,new Uint8Array(l.buffer,0,a+4)},i.deflateRaw=function(n,o){o==null&&(o={level:6});var a=new Uint8Array(50+Math.floor(1.1*n.length)),l=i.F.deflateRaw(n,a,l,o.level);return new Uint8Array(a.buffer,0,l)},i.encode=function(n,o){o==null&&(o=!1);var a=0,l=i.bin.writeUint,w=i.bin.writeUshort,E={};for(var u in n){var h=!i._noNeed(u)&&!o,c=n[u],g=i.crc.crc(c,0,c.length);E[u]={cpr:h,usize:c.length,crc:g,file:h?i.deflateRaw(c):c}}for(var u in E)a+=E[u].file.length+30+46+2*i.bin.sizeUTF8(u);a+=22;var v=new Uint8Array(a),U=0,M=[];for(var u in E){var S=E[u];M.push(U),U=i._writeHeader(v,U,u,S,0)}var j=0,P=U;for(var u in E)S=E[u],M.push(U),U=i._writeHeader(v,U,u,S,1,M[j++]);var _=U-P;return l(v,U,101010256),U+=4,w(v,U+=4,j),w(v,U+=2,j),l(v,U+=2,_),l(v,U+=4,P),U+=4,U+=2,v.buffer},i._noNeed=function(n){var o=n.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},i._writeHeader=function(n,o,a,l,w,E){var u=i.bin.writeUint,h=i.bin.writeUshort,c=l.file;return u(n,o,w==0?67324752:33639248),o+=4,w==1&&(o+=2),h(n,o,20),h(n,o+=2,0),h(n,o+=2,l.cpr?8:0),u(n,o+=2,0),u(n,o+=4,l.crc),u(n,o+=4,c.length),u(n,o+=4,l.usize),h(n,o+=4,i.bin.sizeUTF8(a)),h(n,o+=2,0),o+=2,w==1&&(o+=2,o+=2,u(n,o+=6,E),o+=4),o+=i.bin.writeUTF8(n,o,a),w==0&&(n.set(c,o),o+=c.length),o},i.crc={table:function(){for(var n=new Uint32Array(256),o=0;o<256;o++){for(var a=o,l=0;l<8;l++)1&a?a=3988292384^a>>>1:a>>>=1;n[o]=a}return n}(),update:function(n,o,a,l){for(var w=0;w<l;w++)n=i.crc.table[255&(n^o[a+w])]^n>>>8;return n},crc:function(n,o,a){return 4294967295^i.crc.update(4294967295,n,o,a)}},i.adler=function(n,o,a){for(var l=1,w=0,E=o,u=o+a;E<u;){for(var h=Math.min(E+5552,u);E<h;)w+=l+=n[E++];l%=65521,w%=65521}return w<<16|l},i.bin={readUshort:function(n,o){return n[o]|n[o+1]<<8},writeUshort:function(n,o,a){n[o]=255&a,n[o+1]=a>>8&255},readUint:function(n,o){return 16777216*n[o+3]+(n[o+2]<<16|n[o+1]<<8|n[o])},writeUint:function(n,o,a){n[o]=255&a,n[o+1]=a>>8&255,n[o+2]=a>>16&255,n[o+3]=a>>24&255},readASCII:function(n,o,a){for(var l="",w=0;w<a;w++)l+=String.fromCharCode(n[o+w]);return l},writeASCII:function(n,o,a){for(var l=0;l<a.length;l++)n[o+l]=a.charCodeAt(l)},pad:function(n){return n.length<2?"0"+n:n},readUTF8:function(n,o,a){for(var l,w="",E=0;E<a;E++)w+="%"+i.bin.pad(n[o+E].toString(16));try{l=decodeURIComponent(w)}catch{return i.bin.readASCII(n,o,a)}return l},writeUTF8:function(n,o,a){for(var l=a.length,w=0,E=0;E<l;E++){var u=a.charCodeAt(E);if(!(4294967168&u))n[o+w]=u,w++;else if(!(4294965248&u))n[o+w]=192|u>>6,n[o+w+1]=128|u>>0&63,w+=2;else if(!(4294901760&u))n[o+w]=224|u>>12,n[o+w+1]=128|u>>6&63,n[o+w+2]=128|u>>0&63,w+=3;else{if(4292870144&u)throw"e";n[o+w]=240|u>>18,n[o+w+1]=128|u>>12&63,n[o+w+2]=128|u>>6&63,n[o+w+3]=128|u>>0&63,w+=4}}return w},sizeUTF8:function(n){for(var o=n.length,a=0,l=0;l<o;l++){var w=n.charCodeAt(l);if(!(4294967168&w))a++;else if(!(4294965248&w))a+=2;else if(!(4294901760&w))a+=3;else{if(4292870144&w)throw"e";a+=4}}return a}},i.F={},i.F.deflateRaw=function(n,o,a,l){var w=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],E=i.F.U,u=i.F._goodIndex;i.F._hash;var h=i.F._putsE,c=0,g=a<<3,v=0,U=n.length;if(l==0){for(;c<U;)h(o,g,c+(F=Math.min(65535,U-c))==U?1:0),g=i.F._copyExact(n,c,F,o,g+8),c+=F;return g>>>3}var M=E.lits,S=E.strt,j=E.prev,P=0,_=0,W=0,A=0,D=0,x=0;for(U>2&&(S[x=i.F._hash(n,0)]=0),c=0;c<U;c++){if(D=x,c+1<U-2){x=i.F._hash(n,c+1);var m=c+1&32767;j[m]=S[x],S[x]=m}if(v<=c){(P>14e3||_>26697)&&U-c>100&&(v<c&&(M[P]=c-v,P+=2,v=c),g=i.F._writeBlock(c==U-1||v==U?1:0,M,P,A,n,W,c-W,o,g),P=_=A=0,W=c);var O=0;c<U-2&&(O=i.F._bestMatch(n,c,j,D,Math.min(w[2],U-c),w[3]));var F=O>>>16,B=65535&O;if(O!=0){B=65535&O;var R=u(F=O>>>16,E.of0);E.lhst[257+R]++;var N=u(B,E.df0);E.dhst[N]++,A+=E.exb[R]+E.dxb[N],M[P]=F<<23|c-v,M[P+1]=B<<16|R<<8|N,P+=2,v=c+F}else E.lhst[n[c]]++;_++}}for(W==c&&n.length!=0||(v<c&&(M[P]=c-v,P+=2,v=c),g=i.F._writeBlock(1,M,P,A,n,W,c-W,o,g),P=0,_=0,P=_=A=0,W=c);7&g;)g++;return g>>>3},i.F._bestMatch=function(n,o,a,l,w,E){var u=32767&o,h=a[u],c=u-h+32768&32767;if(h==u||l!=i.F._hash(n,o-c))return 0;for(var g=0,v=0,U=Math.min(32767,o);c<=U&&--E!=0&&h!=u;){if(g==0||n[o+g]==n[o+g-c]){var M=i.F._howLong(n,o,c);if(M>g){if(v=c,(g=M)>=w)break;c+2<M&&(M=c+2);for(var S=0,j=0;j<M-2;j++){var P=o-c+j+32768&32767,_=P-a[P]+32768&32767;_>S&&(S=_,h=P)}}}c+=(u=h)-(h=a[u])+32768&32767}return g<<16|v},i.F._howLong=function(n,o,a){if(n[o]!=n[o-a]||n[o+1]!=n[o+1-a]||n[o+2]!=n[o+2-a])return 0;var l=o,w=Math.min(n.length,o+258);for(o+=3;o<w&&n[o]==n[o-a];)o++;return o-l},i.F._hash=function(n,o){return(n[o]<<8|n[o+1])+(n[o+2]<<4)&65535},i.saved=0,i.F._writeBlock=function(n,o,a,l,w,E,u,h,c){var g,v,U,M,S,j,P,_,W,A=i.F.U,D=i.F._putsF,x=i.F._putsE;A.lhst[256]++,v=(g=i.F.getTrees())[0],U=g[1],M=g[2],S=g[3],j=g[4],P=g[5],_=g[6],W=g[7];var m=32+(c+3&7?8-(c+3&7):0)+(u<<3),O=l+i.F.contSize(A.fltree,A.lhst)+i.F.contSize(A.fdtree,A.dhst),F=l+i.F.contSize(A.ltree,A.lhst)+i.F.contSize(A.dtree,A.dhst);F+=14+3*P+i.F.contSize(A.itree,A.ihst)+(2*A.ihst[16]+3*A.ihst[17]+7*A.ihst[18]);for(var B=0;B<286;B++)A.lhst[B]=0;for(B=0;B<30;B++)A.dhst[B]=0;for(B=0;B<19;B++)A.ihst[B]=0;var R=m<O&&m<F?0:O<F?1:2;if(D(h,c,n),D(h,c+1,R),c+=3,R==0){for(;7&c;)c++;c=i.F._copyExact(w,E,u,h,c)}else{var N,L;if(R==1&&(N=A.fltree,L=A.fdtree),R==2){i.F.makeCodes(A.ltree,v),i.F.revCodes(A.ltree,v),i.F.makeCodes(A.dtree,U),i.F.revCodes(A.dtree,U),i.F.makeCodes(A.itree,M),i.F.revCodes(A.itree,M),N=A.ltree,L=A.dtree,x(h,c,S-257),x(h,c+=5,j-1),x(h,c+=5,P-4),c+=4;for(var b=0;b<P;b++)x(h,c+3*b,A.itree[1+(A.ordr[b]<<1)]);c+=3*P,c=i.F._codeTiny(_,A.itree,h,c),c=i.F._codeTiny(W,A.itree,h,c)}for(var d=E,k=0;k<a;k+=2){for(var T=o[k],C=T>>>23,z=d+(8388607&T);d<z;)c=i.F._writeLit(w[d++],N,h,c);if(C!=0){var q=o[k+1],Z=q>>16,J=q>>8&255,$=255&q;x(h,c=i.F._writeLit(257+J,N,h,c),C-A.of0[J]),c+=A.exb[J],D(h,c=i.F._writeLit($,L,h,c),Z-A.df0[$]),c+=A.dxb[$],d+=C}}c=i.F._writeLit(256,N,h,c)}return c},i.F._copyExact=function(n,o,a,l,w){var E=w>>>3;return l[E]=a,l[E+1]=a>>>8,l[E+2]=255-l[E],l[E+3]=255-l[E+1],E+=4,l.set(new Uint8Array(n.buffer,o,a),E),w+(a+4<<3)},i.F.getTrees=function(){for(var n=i.F.U,o=i.F._hufTree(n.lhst,n.ltree,15),a=i.F._hufTree(n.dhst,n.dtree,15),l=[],w=i.F._lenCodes(n.ltree,l),E=[],u=i.F._lenCodes(n.dtree,E),h=0;h<l.length;h+=2)n.ihst[l[h]]++;for(h=0;h<E.length;h+=2)n.ihst[E[h]]++;for(var c=i.F._hufTree(n.ihst,n.itree,7),g=19;g>4&&n.itree[1+(n.ordr[g-1]<<1)]==0;)g--;return[o,a,c,w,u,g,l,E]},i.F.getSecond=function(n){for(var o=[],a=0;a<n.length;a+=2)o.push(n[a+1]);return o},i.F.nonZero=function(n){for(var o="",a=0;a<n.length;a+=2)n[a+1]!=0&&(o+=(a>>1)+",");return o},i.F.contSize=function(n,o){for(var a=0,l=0;l<o.length;l++)a+=o[l]*n[1+(l<<1)];return a},i.F._codeTiny=function(n,o,a,l){for(var w=0;w<n.length;w+=2){var E=n[w],u=n[w+1];l=i.F._writeLit(E,o,a,l);var h=E==16?2:E==17?3:7;E>15&&(i.F._putsE(a,l,u,h),l+=h)}return l},i.F._lenCodes=function(n,o){for(var a=n.length;a!=2&&n[a-1]==0;)a-=2;for(var l=0;l<a;l+=2){var w=n[l+1],E=l+3<a?n[l+3]:-1,u=l+5<a?n[l+5]:-1,h=l==0?-1:n[l-1];if(w==0&&E==w&&u==w){for(var c=l+5;c+2<a&&n[c+2]==w;)c+=2;(g=Math.min(c+1-l>>>1,138))<11?o.push(17,g-3):o.push(18,g-11),l+=2*g-2}else if(w==h&&E==w&&u==w){for(c=l+5;c+2<a&&n[c+2]==w;)c+=2;var g=Math.min(c+1-l>>>1,6);o.push(16,g-3),l+=2*g-2}else o.push(w,0)}return a>>>1},i.F._hufTree=function(n,o,a){var l=[],w=n.length,E=o.length,u=0;for(u=0;u<E;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<w;u++)n[u]!=0&&l.push({lit:u,f:n[u]});var h=l.length,c=l.slice(0);if(h==0)return 0;if(h==1){var g=l[0].lit;return c=g==0?1:0,o[1+(g<<1)]=1,o[1+(c<<1)]=1,1}l.sort(function(_,W){return _.f-W.f});var v=l[0],U=l[1],M=0,S=1,j=2;for(l[0]={lit:-1,f:v.f+U.f,l:v,r:U,d:0};S!=h-1;)v=M!=S&&(j==h||l[M].f<l[j].f)?l[M++]:l[j++],U=M!=S&&(j==h||l[M].f<l[j].f)?l[M++]:l[j++],l[S++]={lit:-1,f:v.f+U.f,l:v,r:U};var P=i.F.setDepth(l[S-1],0);for(P>a&&(i.F.restrictDepth(c,a,P),P=a),u=0;u<h;u++)o[1+(c[u].lit<<1)]=c[u].d;return P},i.F.setDepth=function(n,o){return n.lit!=-1?(n.d=o,o):Math.max(i.F.setDepth(n.l,o+1),i.F.setDepth(n.r,o+1))},i.F.restrictDepth=function(n,o,a){var l=0,w=1<<a-o,E=0;for(n.sort(function(h,c){return c.d==h.d?h.f-c.f:c.d-h.d}),l=0;l<n.length&&n[l].d>o;l++){var u=n[l].d;n[l].d=o,E+=w-(1<<a-u)}for(E>>>=a-o;E>0;)(u=n[l].d)<o?(n[l].d++,E-=1<<o-u-1):l++;for(;l>=0;l--)n[l].d==o&&E<0&&(n[l].d--,E++);E!=0&&console.log("debt left")},i.F._goodIndex=function(n,o){var a=0;return o[16|a]<=n&&(a|=16),o[8|a]<=n&&(a|=8),o[4|a]<=n&&(a|=4),o[2|a]<=n&&(a|=2),o[1|a]<=n&&(a|=1),a},i.F._writeLit=function(n,o,a,l){return i.F._putsF(a,l,o[n<<1]),l+o[1+(n<<1)]},i.F.inflate=function(n,o){var a=Uint8Array;if(n[0]==3&&n[1]==0)return o||new a(0);var l=i.F,w=l._bitsF,E=l._bitsE,u=l._decodeTiny,h=l.makeCodes,c=l.codes2map,g=l._get17,v=l.U,U=o==null;U&&(o=new a(n.length>>>2<<3));for(var M,S,j=0,P=0,_=0,W=0,A=0,D=0,x=0,m=0,O=0;j==0;)if(j=w(n,O,1),P=w(n,O+1,2),O+=3,P!=0){if(U&&(o=i.F._check(o,m+(1<<17))),P==1&&(M=v.flmap,S=v.fdmap,D=511,x=31),P==2){_=E(n,O,5)+257,W=E(n,O+5,5)+1,A=E(n,O+10,4)+4,O+=14;for(var F=0;F<38;F+=2)v.itree[F]=0,v.itree[F+1]=0;var B=1;for(F=0;F<A;F++){var R=E(n,O+3*F,3);v.itree[1+(v.ordr[F]<<1)]=R,R>B&&(B=R)}O+=3*A,h(v.itree,B),c(v.itree,B,v.imap),M=v.lmap,S=v.dmap,O=u(v.imap,(1<<B)-1,_+W,n,O,v.ttree);var N=l._copyOut(v.ttree,0,_,v.ltree);D=(1<<N)-1;var L=l._copyOut(v.ttree,_,W,v.dtree);x=(1<<L)-1,h(v.ltree,N),c(v.ltree,N,M),h(v.dtree,L),c(v.dtree,L,S)}for(;;){var b=M[g(n,O)&D];O+=15&b;var d=b>>>4;if(!(d>>>8))o[m++]=d;else{if(d==256)break;var k=m+d-254;if(d>264){var T=v.ldef[d-257];k=m+(T>>>3)+E(n,O,7&T),O+=7&T}var C=S[g(n,O)&x];O+=15&C;var z=C>>>4,q=v.ddef[z],Z=(q>>>4)+w(n,O,15&q);for(O+=15&q,U&&(o=i.F._check(o,m+(1<<17)));m<k;)o[m]=o[m++-Z],o[m]=o[m++-Z],o[m]=o[m++-Z],o[m]=o[m++-Z];m=k}}}else{7&O&&(O+=8-(7&O));var J=4+(O>>>3),$=n[J-4]|n[J-3]<<8;U&&(o=i.F._check(o,m+$)),o.set(new a(n.buffer,n.byteOffset+J,$),m),O=J+$<<3,m+=$}return o.length==m?o:o.slice(0,m)},i.F._check=function(n,o){var a=n.length;if(o<=a)return n;var l=new Uint8Array(Math.max(a<<1,o));return l.set(n,0),l},i.F._decodeTiny=function(n,o,a,l,w,E){for(var u=i.F._bitsE,h=i.F._get17,c=0;c<a;){var g=n[h(l,w)&o];w+=15&g;var v=g>>>4;if(v<=15)E[c]=v,c++;else{var U=0,M=0;v==16?(M=3+u(l,w,2),w+=2,U=E[c-1]):v==17?(M=3+u(l,w,3),w+=3):v==18&&(M=11+u(l,w,7),w+=7);for(var S=c+M;c<S;)E[c]=U,c++}}return w},i.F._copyOut=function(n,o,a,l){for(var w=0,E=0,u=l.length>>>1;E<a;){var h=n[E+o];l[E<<1]=0,l[1+(E<<1)]=h,h>w&&(w=h),E++}for(;E<u;)l[E<<1]=0,l[1+(E<<1)]=0,E++;return w},i.F.makeCodes=function(n,o){for(var a,l,w,E,u=i.F.U,h=n.length,c=u.bl_count,g=0;g<=o;g++)c[g]=0;for(g=1;g<h;g+=2)c[n[g]]++;var v=u.next_code;for(a=0,c[0]=0,l=1;l<=o;l++)a=a+c[l-1]<<1,v[l]=a;for(w=0;w<h;w+=2)(E=n[w+1])!=0&&(n[w]=v[E],v[E]++)},i.F.codes2map=function(n,o,a){for(var l=n.length,w=i.F.U.rev15,E=0;E<l;E+=2)if(n[E+1]!=0)for(var u=E>>1,h=n[E+1],c=u<<4|h,g=o-h,v=n[E]<<g,U=v+(1<<g);v!=U;)a[w[v]>>>15-o]=c,v++},i.F.revCodes=function(n,o){for(var a=i.F.U.rev15,l=15-o,w=0;w<n.length;w+=2){var E=n[w]<<o-n[w+1];n[w]=a[E]>>>l}},i.F._putsE=function(n,o,a){a<<=7&o;var l=o>>>3;n[l]|=a,n[l+1]|=a>>>8},i.F._putsF=function(n,o,a){a<<=7&o;var l=o>>>3;n[l]|=a,n[l+1]|=a>>>8,n[l+2]|=a>>>16},i.F._bitsE=function(n,o,a){return(n[o>>>3]|n[1+(o>>>3)]<<8)>>>(7&o)&(1<<a)-1},i.F._bitsF=function(n,o,a){return(n[o>>>3]|n[1+(o>>>3)]<<8|n[2+(o>>>3)]<<16)>>>(7&o)&(1<<a)-1},i.F._get17=function(n,o){return(n[o>>>3]|n[1+(o>>>3)]<<8|n[2+(o>>>3)]<<16)>>>(7&o)},i.F._get25=function(n,o){return(n[o>>>3]|n[1+(o>>>3)]<<8|n[2+(o>>>3)]<<16|n[3+(o>>>3)]<<24)>>>(7&o)},i.F.U=(e=Uint16Array,r=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new r(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new r(286),dhst:new r(30),ihst:new r(19),lits:new r(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var n=i.F.U,o=0;o<32768;o++){var a=o;a=(4278255360&(a=(4042322160&(a=(3435973836&(a=(2863311530&a)>>>1|(1431655765&a)<<1))>>>2|(858993459&a)<<2))>>>4|(252645135&a)<<4))>>>8|(16711935&a)<<8,n.rev15[o]=(a>>>16|a<<16)>>>17}function l(w,E,u){for(;E--!=0;)w.push(0,u)}for(o=0;o<32;o++)n.ldef[o]=n.of0[o]<<3|n.exb[o],n.ddef[o]=n.df0[o]<<4|n.dxb[o];l(n.fltree,144,8),l(n.fltree,112,9),l(n.fltree,24,7),l(n.fltree,8,8),i.F.makeCodes(n.fltree,9),i.F.codes2map(n.fltree,9,n.flmap),i.F.revCodes(n.fltree,9),l(n.fdtree,32,5),i.F.makeCodes(n.fdtree,5),i.F.codes2map(n.fdtree,5,n.fdmap),i.F.revCodes(n.fdtree,5),l(n.itree,19,0),l(n.ltree,286,0),l(n.dtree,30,0),l(n.ttree,320,0)}()})();var Kn=Xn({__proto__:null,default:ft},[ft]);const ve=function(){var t={nextZero(u,h){for(;u[h]!=0;)h++;return h},readUshort:(u,h)=>u[h]<<8|u[h+1],writeUshort(u,h,c){u[h]=c>>8&255,u[h+1]=255&c},readUint:(u,h)=>16777216*u[h]+(u[h+1]<<16|u[h+2]<<8|u[h+3]),writeUint(u,h,c){u[h]=c>>24&255,u[h+1]=c>>16&255,u[h+2]=c>>8&255,u[h+3]=255&c},readASCII(u,h,c){let g="";for(let v=0;v<c;v++)g+=String.fromCharCode(u[h+v]);return g},writeASCII(u,h,c){for(let g=0;g<c.length;g++)u[h+g]=c.charCodeAt(g)},readBytes(u,h,c){const g=[];for(let v=0;v<c;v++)g.push(u[h+v]);return g},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,h,c){let g,v="";for(let U=0;U<c;U++)v+=`%${t.pad(u[h+U].toString(16))}`;try{g=decodeURIComponent(v)}catch{return t.readASCII(u,h,c)}return g}};function e(u,h,c,g){const v=h*c,U=o(g),M=Math.ceil(h*U/8),S=new Uint8Array(4*v),j=new Uint32Array(S.buffer),{ctype:P}=g,{depth:_}=g,W=t.readUshort;if(P==6){const T=v<<2;if(_==8)for(var A=0;A<T;A+=4)S[A]=u[A],S[A+1]=u[A+1],S[A+2]=u[A+2],S[A+3]=u[A+3];if(_==16)for(A=0;A<T;A++)S[A]=u[A<<1]}else if(P==2){const T=g.tabs.tRNS;if(T==null){if(_==8)for(A=0;A<v;A++){var D=3*A;j[A]=255<<24|u[D+2]<<16|u[D+1]<<8|u[D]}if(_==16)for(A=0;A<v;A++)D=6*A,j[A]=255<<24|u[D+4]<<16|u[D+2]<<8|u[D]}else{var x=T[0];const C=T[1],z=T[2];if(_==8)for(A=0;A<v;A++){var m=A<<2;D=3*A,j[A]=255<<24|u[D+2]<<16|u[D+1]<<8|u[D],u[D]==x&&u[D+1]==C&&u[D+2]==z&&(S[m+3]=0)}if(_==16)for(A=0;A<v;A++)m=A<<2,D=6*A,j[A]=255<<24|u[D+4]<<16|u[D+2]<<8|u[D],W(u,D)==x&&W(u,D+2)==C&&W(u,D+4)==z&&(S[m+3]=0)}}else if(P==3){const T=g.tabs.PLTE,C=g.tabs.tRNS,z=C?C.length:0;if(_==1)for(var O=0;O<c;O++){var F=O*M,B=O*h;for(A=0;A<h;A++){m=B+A<<2;var R=3*(N=u[F+(A>>3)]>>7-((7&A)<<0)&1);S[m]=T[R],S[m+1]=T[R+1],S[m+2]=T[R+2],S[m+3]=N<z?C[N]:255}}if(_==2)for(O=0;O<c;O++)for(F=O*M,B=O*h,A=0;A<h;A++)m=B+A<<2,R=3*(N=u[F+(A>>2)]>>6-((3&A)<<1)&3),S[m]=T[R],S[m+1]=T[R+1],S[m+2]=T[R+2],S[m+3]=N<z?C[N]:255;if(_==4)for(O=0;O<c;O++)for(F=O*M,B=O*h,A=0;A<h;A++)m=B+A<<2,R=3*(N=u[F+(A>>1)]>>4-((1&A)<<2)&15),S[m]=T[R],S[m+1]=T[R+1],S[m+2]=T[R+2],S[m+3]=N<z?C[N]:255;if(_==8)for(A=0;A<v;A++){var N;m=A<<2,R=3*(N=u[A]),S[m]=T[R],S[m+1]=T[R+1],S[m+2]=T[R+2],S[m+3]=N<z?C[N]:255}}else if(P==4){if(_==8)for(A=0;A<v;A++){m=A<<2;var L=u[b=A<<1];S[m]=L,S[m+1]=L,S[m+2]=L,S[m+3]=u[b+1]}if(_==16)for(A=0;A<v;A++){var b;m=A<<2,L=u[b=A<<2],S[m]=L,S[m+1]=L,S[m+2]=L,S[m+3]=u[b+2]}}else if(P==0)for(x=g.tabs.tRNS?g.tabs.tRNS:-1,O=0;O<c;O++){const T=O*M,C=O*h;if(_==1)for(var d=0;d<h;d++){var k=(L=255*(u[T+(d>>>3)]>>>7-(7&d)&1))==255*x?0:255;j[C+d]=k<<24|L<<16|L<<8|L}else if(_==2)for(d=0;d<h;d++)k=(L=85*(u[T+(d>>>2)]>>>6-((3&d)<<1)&3))==85*x?0:255,j[C+d]=k<<24|L<<16|L<<8|L;else if(_==4)for(d=0;d<h;d++)k=(L=17*(u[T+(d>>>1)]>>>4-((1&d)<<2)&15))==17*x?0:255,j[C+d]=k<<24|L<<16|L<<8|L;else if(_==8)for(d=0;d<h;d++)k=(L=u[T+d])==x?0:255,j[C+d]=k<<24|L<<16|L<<8|L;else if(_==16)for(d=0;d<h;d++)L=u[T+(d<<1)],k=W(u,T+(d<<1))==x?0:255,j[C+d]=k<<24|L<<16|L<<8|L}return S}function r(u,h,c,g){const v=o(u),U=Math.ceil(c*v/8),M=new Uint8Array((U+1+u.interlace)*g);return h=u.tabs.CgBI?n(h,M):i(h,M),u.interlace==0?h=a(h,u,0,c,g):u.interlace==1&&(h=function(j,P){const _=P.width,W=P.height,A=o(P),D=A>>3,x=Math.ceil(_*A/8),m=new Uint8Array(W*x);let O=0;const F=[0,0,4,0,2,0,1],B=[0,4,0,2,0,1,0],R=[8,8,8,4,4,2,2],N=[8,8,4,4,2,2,1];let L=0;for(;L<7;){const d=R[L],k=N[L];let T=0,C=0,z=F[L];for(;z<W;)z+=d,C++;let q=B[L];for(;q<_;)q+=k,T++;const Z=Math.ceil(T*A/8);a(j,P,O,T,C);let J=0,$=F[L];for(;$<W;){let K=B[L],se=O+J*Z<<3;for(;K<_;){var b;if(A==1&&(b=(b=j[se>>3])>>7-(7&se)&1,m[$*x+(K>>3)]|=b<<7-((7&K)<<0)),A==2&&(b=(b=j[se>>3])>>6-(7&se)&3,m[$*x+(K>>2)]|=b<<6-((3&K)<<1)),A==4&&(b=(b=j[se>>3])>>4-(7&se)&15,m[$*x+(K>>1)]|=b<<4-((1&K)<<2)),A>=8){const oe=$*x+K*D;for(let ee=0;ee<D;ee++)m[oe+ee]=j[(se>>3)+ee]}se+=A,K+=k}J++,$+=d}T*C!=0&&(O+=C*(1+Z)),L+=1}return m}(h,u)),h}function i(u,h){return n(new Uint8Array(u.buffer,2,u.length-6),h)}var n=function(){const u={H:{}};return u.H.N=function(h,c){const g=Uint8Array;let v,U,M=0,S=0,j=0,P=0,_=0,W=0,A=0,D=0,x=0;if(h[0]==3&&h[1]==0)return c||new g(0);const m=u.H,O=m.b,F=m.e,B=m.R,R=m.n,N=m.A,L=m.Z,b=m.m,d=c==null;for(d&&(c=new g(h.length>>>2<<5));M==0;)if(M=O(h,x,1),S=O(h,x+1,2),x+=3,S!=0){if(d&&(c=u.H.W(c,D+(1<<17))),S==1&&(v=b.J,U=b.h,W=511,A=31),S==2){j=F(h,x,5)+257,P=F(h,x+5,5)+1,_=F(h,x+10,4)+4,x+=14;let T=1;for(var k=0;k<38;k+=2)b.Q[k]=0,b.Q[k+1]=0;for(k=0;k<_;k++){const q=F(h,x+3*k,3);b.Q[1+(b.X[k]<<1)]=q,q>T&&(T=q)}x+=3*_,R(b.Q,T),N(b.Q,T,b.u),v=b.w,U=b.d,x=B(b.u,(1<<T)-1,j+P,h,x,b.v);const C=m.V(b.v,0,j,b.C);W=(1<<C)-1;const z=m.V(b.v,j,P,b.D);A=(1<<z)-1,R(b.C,C),N(b.C,C,v),R(b.D,z),N(b.D,z,U)}for(;;){const T=v[L(h,x)&W];x+=15&T;const C=T>>>4;if(!(C>>>8))c[D++]=C;else{if(C==256)break;{let z=D+C-254;if(C>264){const K=b.q[C-257];z=D+(K>>>3)+F(h,x,7&K),x+=7&K}const q=U[L(h,x)&A];x+=15&q;const Z=q>>>4,J=b.c[Z],$=(J>>>4)+O(h,x,15&J);for(x+=15&J;D<z;)c[D]=c[D++-$],c[D]=c[D++-$],c[D]=c[D++-$],c[D]=c[D++-$];D=z}}}}else{7&x&&(x+=8-(7&x));const T=4+(x>>>3),C=h[T-4]|h[T-3]<<8;d&&(c=u.H.W(c,D+C)),c.set(new g(h.buffer,h.byteOffset+T,C),D),x=T+C<<3,D+=C}return c.length==D?c:c.slice(0,D)},u.H.W=function(h,c){const g=h.length;if(c<=g)return h;const v=new Uint8Array(g<<1);return v.set(h,0),v},u.H.R=function(h,c,g,v,U,M){const S=u.H.e,j=u.H.Z;let P=0;for(;P<g;){const _=h[j(v,U)&c];U+=15&_;const W=_>>>4;if(W<=15)M[P]=W,P++;else{let A=0,D=0;W==16?(D=3+S(v,U,2),U+=2,A=M[P-1]):W==17?(D=3+S(v,U,3),U+=3):W==18&&(D=11+S(v,U,7),U+=7);const x=P+D;for(;P<x;)M[P]=A,P++}}return U},u.H.V=function(h,c,g,v){let U=0,M=0;const S=v.length>>>1;for(;M<g;){const j=h[M+c];v[M<<1]=0,v[1+(M<<1)]=j,j>U&&(U=j),M++}for(;M<S;)v[M<<1]=0,v[1+(M<<1)]=0,M++;return U},u.H.n=function(h,c){const g=u.H.m,v=h.length;let U,M,S,j;const P=g.j;for(var _=0;_<=c;_++)P[_]=0;for(_=1;_<v;_+=2)P[h[_]]++;const W=g.K;for(U=0,P[0]=0,M=1;M<=c;M++)U=U+P[M-1]<<1,W[M]=U;for(S=0;S<v;S+=2)j=h[S+1],j!=0&&(h[S]=W[j],W[j]++)},u.H.A=function(h,c,g){const v=h.length,U=u.H.m.r;for(let M=0;M<v;M+=2)if(h[M+1]!=0){const S=M>>1,j=h[M+1],P=S<<4|j,_=c-j;let W=h[M]<<_;const A=W+(1<<_);for(;W!=A;)g[U[W]>>>15-c]=P,W++}},u.H.l=function(h,c){const g=u.H.m.r,v=15-c;for(let U=0;U<h.length;U+=2){const M=h[U]<<c-h[U+1];h[U]=g[M]>>>v}},u.H.M=function(h,c,g){g<<=7&c;const v=c>>>3;h[v]|=g,h[v+1]|=g>>>8},u.H.I=function(h,c,g){g<<=7&c;const v=c>>>3;h[v]|=g,h[v+1]|=g>>>8,h[v+2]|=g>>>16},u.H.e=function(h,c,g){return(h[c>>>3]|h[1+(c>>>3)]<<8)>>>(7&c)&(1<<g)-1},u.H.b=function(h,c,g){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16)>>>(7&c)&(1<<g)-1},u.H.Z=function(h,c){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16)>>>(7&c)},u.H.i=function(h,c){return(h[c>>>3]|h[1+(c>>>3)]<<8|h[2+(c>>>3)]<<16|h[3+(c>>>3)]<<24)>>>(7&c)},u.H.m=function(){const h=Uint16Array,c=Uint32Array;return{K:new h(16),j:new h(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new h(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new h(512),_:[],h:new h(32),$:[],w:new h(32768),C:[],v:[],d:new h(32768),D:[],u:new h(512),Q:[],r:new h(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new h(65536),g:new h(32768)}}(),function(){const h=u.H.m;for(var c=0;c<32768;c++){let v=c;v=(2863311530&v)>>>1|(1431655765&v)<<1,v=(3435973836&v)>>>2|(858993459&v)<<2,v=(4042322160&v)>>>4|(252645135&v)<<4,v=(4278255360&v)>>>8|(16711935&v)<<8,h.r[c]=(v>>>16|v<<16)>>>17}function g(v,U,M){for(;U--!=0;)v.push(0,M)}for(c=0;c<32;c++)h.q[c]=h.S[c]<<3|h.T[c],h.c[c]=h.p[c]<<4|h.z[c];g(h._,144,8),g(h._,112,9),g(h._,24,7),g(h._,8,8),u.H.n(h._,9),u.H.A(h._,9,h.J),u.H.l(h._,9),g(h.$,32,5),u.H.n(h.$,5),u.H.A(h.$,5,h.h),u.H.l(h.$,5),g(h.Q,19,0),g(h.C,286,0),g(h.D,30,0),g(h.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function a(u,h,c,g,v){let U=o(h);const M=Math.ceil(g*U/8);let S,j;U=Math.ceil(U/8);let P=u[c],_=0;if(P>1&&(u[c]=[0,0,1][P-2]),P==3)for(_=U;_<M;_++)u[_+1]=u[_+1]+(u[_+1-U]>>>1)&255;for(let W=0;W<v;W++)if(S=c+W*M,j=S+W+1,P=u[j-1],_=0,P==0)for(;_<M;_++)u[S+_]=u[j+_];else if(P==1){for(;_<U;_++)u[S+_]=u[j+_];for(;_<M;_++)u[S+_]=u[j+_]+u[S+_-U]}else if(P==2)for(;_<M;_++)u[S+_]=u[j+_]+u[S+_-M];else if(P==3){for(;_<U;_++)u[S+_]=u[j+_]+(u[S+_-M]>>>1);for(;_<M;_++)u[S+_]=u[j+_]+(u[S+_-M]+u[S+_-U]>>>1)}else{for(;_<U;_++)u[S+_]=u[j+_]+l(0,u[S+_-M],0);for(;_<M;_++)u[S+_]=u[j+_]+l(u[S+_-U],u[S+_-M],u[S+_-U-M])}return u}function l(u,h,c){const g=u+h-c,v=g-u,U=g-h,M=g-c;return v*v<=U*U&&v*v<=M*M?u:U*U<=M*M?h:c}function w(u,h,c){c.width=t.readUint(u,h),h+=4,c.height=t.readUint(u,h),h+=4,c.depth=u[h],h++,c.ctype=u[h],h++,c.compress=u[h],h++,c.filter=u[h],h++,c.interlace=u[h],h++}function E(u,h,c,g,v,U,M,S,j){const P=Math.min(h,v),_=Math.min(c,U);let W=0,A=0;for(let L=0;L<_;L++)for(let b=0;b<P;b++)if(M>=0&&S>=0?(W=L*h+b<<2,A=(S+L)*v+M+b<<2):(W=(-S+L)*h-M+b<<2,A=L*v+b<<2),j==0)g[A]=u[W],g[A+1]=u[W+1],g[A+2]=u[W+2],g[A+3]=u[W+3];else if(j==1){var D=u[W+3]*.00392156862745098,x=u[W]*D,m=u[W+1]*D,O=u[W+2]*D,F=g[A+3]*(1/255),B=g[A]*F,R=g[A+1]*F,N=g[A+2]*F;const d=1-D,k=D+F*d,T=k==0?0:1/k;g[A+3]=255*k,g[A+0]=(x+B*d)*T,g[A+1]=(m+R*d)*T,g[A+2]=(O+N*d)*T}else if(j==2)D=u[W+3],x=u[W],m=u[W+1],O=u[W+2],F=g[A+3],B=g[A],R=g[A+1],N=g[A+2],D==F&&x==B&&m==R&&O==N?(g[A]=0,g[A+1]=0,g[A+2]=0,g[A+3]=0):(g[A]=x,g[A+1]=m,g[A+2]=O,g[A+3]=D);else if(j==3){if(D=u[W+3],x=u[W],m=u[W+1],O=u[W+2],F=g[A+3],B=g[A],R=g[A+1],N=g[A+2],D==F&&x==B&&m==R&&O==N)continue;if(D<220&&F>20)return!1}return!0}return{decode:function(h){const c=new Uint8Array(h);let g=8;const v=t,U=v.readUshort,M=v.readUint,S={tabs:{},frames:[]},j=new Uint8Array(c.length);let P,_=0,W=0;const A=[137,80,78,71,13,10,26,10];for(var D=0;D<8;D++)if(c[D]!=A[D])throw"The input is not a PNG file!";for(;g<c.length;){const L=v.readUint(c,g);g+=4;const b=v.readASCII(c,g,4);if(g+=4,b=="IHDR")w(c,g,S);else if(b=="iCCP"){for(var x=g;c[x]!=0;)x++;v.readASCII(c,g,x-g),c[x+1];const d=c.slice(x+2,g+L);let k=null;try{k=i(d)}catch{k=n(d)}S.tabs[b]=k}else if(b=="CgBI")S.tabs[b]=c.slice(g,g+4);else if(b=="IDAT"){for(D=0;D<L;D++)j[_+D]=c[g+D];_+=L}else if(b=="acTL")S.tabs[b]={num_frames:M(c,g),num_plays:M(c,g+4)},P=new Uint8Array(c.length);else if(b=="fcTL"){W!=0&&((N=S.frames[S.frames.length-1]).data=r(S,P.slice(0,W),N.rect.width,N.rect.height),W=0);const d={x:M(c,g+12),y:M(c,g+16),width:M(c,g+4),height:M(c,g+8)};let k=U(c,g+22);k=U(c,g+20)/(k==0?100:k);const T={rect:d,delay:Math.round(1e3*k),dispose:c[g+24],blend:c[g+25]};S.frames.push(T)}else if(b=="fdAT"){for(D=0;D<L-4;D++)P[W+D]=c[g+D+4];W+=L-4}else if(b=="pHYs")S.tabs[b]=[v.readUint(c,g),v.readUint(c,g+4),c[g+8]];else if(b=="cHRM")for(S.tabs[b]=[],D=0;D<8;D++)S.tabs[b].push(v.readUint(c,g+4*D));else if(b=="tEXt"||b=="zTXt"){S.tabs[b]==null&&(S.tabs[b]={});var m=v.nextZero(c,g),O=v.readASCII(c,g,m-g),F=g+L-m-1;if(b=="tEXt")R=v.readASCII(c,m+1,F);else{var B=i(c.slice(m+2,m+2+F));R=v.readUTF8(B,0,B.length)}S.tabs[b][O]=R}else if(b=="iTXt"){S.tabs[b]==null&&(S.tabs[b]={}),m=0,x=g,m=v.nextZero(c,x),O=v.readASCII(c,x,m-x);const d=c[x=m+1];var R;c[x+1],x+=2,m=v.nextZero(c,x),v.readASCII(c,x,m-x),x=m+1,m=v.nextZero(c,x),v.readUTF8(c,x,m-x),F=L-((x=m+1)-g),d==0?R=v.readUTF8(c,x,F):(B=i(c.slice(x,x+F)),R=v.readUTF8(B,0,B.length)),S.tabs[b][O]=R}else if(b=="PLTE")S.tabs[b]=v.readBytes(c,g,L);else if(b=="hIST"){const d=S.tabs.PLTE.length/3;for(S.tabs[b]=[],D=0;D<d;D++)S.tabs[b].push(U(c,g+2*D))}else if(b=="tRNS")S.ctype==3?S.tabs[b]=v.readBytes(c,g,L):S.ctype==0?S.tabs[b]=U(c,g):S.ctype==2&&(S.tabs[b]=[U(c,g),U(c,g+2),U(c,g+4)]);else if(b=="gAMA")S.tabs[b]=v.readUint(c,g)/1e5;else if(b=="sRGB")S.tabs[b]=c[g];else if(b=="bKGD")S.ctype==0||S.ctype==4?S.tabs[b]=[U(c,g)]:S.ctype==2||S.ctype==6?S.tabs[b]=[U(c,g),U(c,g+2),U(c,g+4)]:S.ctype==3&&(S.tabs[b]=c[g]);else if(b=="IEND")break;g+=L,v.readUint(c,g),g+=4}var N;return W!=0&&((N=S.frames[S.frames.length-1]).data=r(S,P.slice(0,W),N.rect.width,N.rect.height)),S.data=r(S,j,S.width,S.height),delete S.compress,delete S.interlace,delete S.filter,S},toRGBA8:function(h){const c=h.width,g=h.height;if(h.tabs.acTL==null)return[e(h.data,c,g,h).buffer];const v=[];h.frames[0].data==null&&(h.frames[0].data=h.data);const U=c*g*4,M=new Uint8Array(U),S=new Uint8Array(U),j=new Uint8Array(U);for(let _=0;_<h.frames.length;_++){const W=h.frames[_],A=W.rect.x,D=W.rect.y,x=W.rect.width,m=W.rect.height,O=e(W.data,x,m,h);if(_!=0)for(var P=0;P<U;P++)j[P]=M[P];if(W.blend==0?E(O,x,m,M,c,g,A,D,0):W.blend==1&&E(O,x,m,M,c,g,A,D,1),v.push(M.buffer.slice(0)),W.dispose!=0){if(W.dispose==1)E(S,x,m,M,c,g,A,D,0);else if(W.dispose==2)for(P=0;P<U;P++)M[P]=j[P]}}return v},_paeth:l,_copyTile:E,_bin:t}}();(function(){const{_copyTile:t}=ve,{_bin:e}=ve,r=ve._paeth;var i={table:function(){const x=new Uint32Array(256);for(let m=0;m<256;m++){let O=m;for(let F=0;F<8;F++)1&O?O=3988292384^O>>>1:O>>>=1;x[m]=O}return x}(),update(x,m,O,F){for(let B=0;B<F;B++)x=i.table[255&(x^m[O+B])]^x>>>8;return x},crc:(x,m,O)=>4294967295^i.update(4294967295,x,m,O)};function n(x,m,O,F){m[O]+=x[0]*F>>4,m[O+1]+=x[1]*F>>4,m[O+2]+=x[2]*F>>4,m[O+3]+=x[3]*F>>4}function o(x){return Math.max(0,Math.min(255,x))}function a(x,m){const O=x[0]-m[0],F=x[1]-m[1],B=x[2]-m[2],R=x[3]-m[3];return O*O+F*F+B*B+R*R}function l(x,m,O,F,B,R,N){N==null&&(N=1);const L=F.length,b=[];for(var d=0;d<L;d++){const $=F[d];b.push([$>>>0&255,$>>>8&255,$>>>16&255,$>>>24&255])}for(d=0;d<L;d++){let $=4294967295;for(var k=0,T=0;T<L;T++){var C=a(b[d],b[T]);T!=d&&C<$&&($=C,k=T)}}const z=new Uint32Array(B.buffer),q=new Int16Array(m*O*4),Z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(d=0;d<Z.length;d++)Z[d]=255*((Z[d]+.5)/16-.5);for(let $=0;$<O;$++)for(let K=0;K<m;K++){var J;d=4*($*m+K),N!=2?J=[o(x[d]+q[d]),o(x[d+1]+q[d+1]),o(x[d+2]+q[d+2]),o(x[d+3]+q[d+3])]:(C=Z[4*(3&$)+(3&K)],J=[o(x[d]+C),o(x[d+1]+C),o(x[d+2]+C),o(x[d+3]+C)]),k=0;let se=16777215;for(T=0;T<L;T++){const fe=a(J,b[T]);fe<se&&(se=fe,k=T)}const oe=b[k],ee=[J[0]-oe[0],J[1]-oe[1],J[2]-oe[2],J[3]-oe[3]];N==1&&(K!=m-1&&n(ee,q,d+4,7),$!=O-1&&(K!=0&&n(ee,q,d+4*m-4,3),n(ee,q,d+4*m,5),K!=m-1&&n(ee,q,d+4*m+4,1))),R[d>>2]=k,z[d>>2]=F[k]}}function w(x,m,O,F,B){B==null&&(B={});const{crc:R}=i,N=e.writeUint,L=e.writeUshort,b=e.writeASCII;let d=8;const k=x.frames.length>1;let T,C=!1,z=33+(k?20:0);if(B.sRGB!=null&&(z+=13),B.pHYs!=null&&(z+=21),B.iCCP!=null&&(T=pako.deflate(B.iCCP),z+=21+T.length+4),x.ctype==3){for(var q=x.plte.length,Z=0;Z<q;Z++)x.plte[Z]>>>24!=255&&(C=!0);z+=8+3*q+4+(C?8+1*q+4:0)}for(var J=0;J<x.frames.length;J++)k&&(z+=38),z+=(oe=x.frames[J]).cimg.length+12,J!=0&&(z+=4);z+=12;const $=new Uint8Array(z),K=[137,80,78,71,13,10,26,10];for(Z=0;Z<8;Z++)$[Z]=K[Z];if(N($,d,13),d+=4,b($,d,"IHDR"),d+=4,N($,d,m),d+=4,N($,d,O),d+=4,$[d]=x.depth,d++,$[d]=x.ctype,d++,$[d]=0,d++,$[d]=0,d++,$[d]=0,d++,N($,d,R($,d-17,17)),d+=4,B.sRGB!=null&&(N($,d,1),d+=4,b($,d,"sRGB"),d+=4,$[d]=B.sRGB,d++,N($,d,R($,d-5,5)),d+=4),B.iCCP!=null){const ee=13+T.length;N($,d,ee),d+=4,b($,d,"iCCP"),d+=4,b($,d,"ICC profile"),d+=11,d+=2,$.set(T,d),d+=T.length,N($,d,R($,d-(ee+4),ee+4)),d+=4}if(B.pHYs!=null&&(N($,d,9),d+=4,b($,d,"pHYs"),d+=4,N($,d,B.pHYs[0]),d+=4,N($,d,B.pHYs[1]),d+=4,$[d]=B.pHYs[2],d++,N($,d,R($,d-13,13)),d+=4),k&&(N($,d,8),d+=4,b($,d,"acTL"),d+=4,N($,d,x.frames.length),d+=4,N($,d,B.loop!=null?B.loop:0),d+=4,N($,d,R($,d-12,12)),d+=4),x.ctype==3){for(N($,d,3*(q=x.plte.length)),d+=4,b($,d,"PLTE"),d+=4,Z=0;Z<q;Z++){const ee=3*Z,fe=x.plte[Z],ae=255&fe,ne=fe>>>8&255,be=fe>>>16&255;$[d+ee+0]=ae,$[d+ee+1]=ne,$[d+ee+2]=be}if(d+=3*q,N($,d,R($,d-3*q-4,3*q+4)),d+=4,C){for(N($,d,q),d+=4,b($,d,"tRNS"),d+=4,Z=0;Z<q;Z++)$[d+Z]=x.plte[Z]>>>24&255;d+=q,N($,d,R($,d-q-4,q+4)),d+=4}}let se=0;for(J=0;J<x.frames.length;J++){var oe=x.frames[J];k&&(N($,d,26),d+=4,b($,d,"fcTL"),d+=4,N($,d,se++),d+=4,N($,d,oe.rect.width),d+=4,N($,d,oe.rect.height),d+=4,N($,d,oe.rect.x),d+=4,N($,d,oe.rect.y),d+=4,L($,d,F[J]),d+=2,L($,d,1e3),d+=2,$[d]=oe.dispose,d++,$[d]=oe.blend,d++,N($,d,R($,d-30,30)),d+=4);const ee=oe.cimg;N($,d,(q=ee.length)+(J==0?0:4)),d+=4;const fe=d;b($,d,J==0?"IDAT":"fdAT"),d+=4,J!=0&&(N($,d,se++),d+=4),$.set(ee,d),d+=q,N($,d,R($,fe,d-fe)),d+=4}return N($,d,0),d+=4,b($,d,"IEND"),d+=4,N($,d,R($,d-4,4)),d+=4,$.buffer}function E(x,m,O){for(let F=0;F<x.frames.length;F++){const B=x.frames[F];B.rect.width;const R=B.rect.height,N=new Uint8Array(R*B.bpl+R);B.cimg=g(B.img,R,B.bpp,B.bpl,N,m,O)}}function u(x,m,O,F,B){const R=B[0],N=B[1],L=B[2],b=B[3],d=B[4],k=B[5];let T=6,C=8,z=255;for(var q=0;q<x.length;q++){const s=new Uint8Array(x[q]);for(var Z=s.length,J=0;J<Z;J+=4)z&=s[J+3]}const $=z!=255,K=function(f,y,I,H,V,Q){const Y=[];for(var X=0;X<f.length;X++){const le=new Uint8Array(f[X]),xe=new Uint32Array(le.buffer);var ie;let de=0,Ie=0,Se=y,Le=I,wt=H?1:0;if(X!=0){const Tr=Q||H||X==1||Y[X-2].dispose!=0?1:2;let bt=0,Ct=1e9;for(let Ge=0;Ge<Tr;Ge++){var te=new Uint8Array(f[X-1-Ge]);const Fr=new Uint32Array(f[X-1-Ge]);let Te=y,Fe=I,He=-1,Xe=-1;for(let Ce=0;Ce<I;Ce++)for(let Pe=0;Pe<y;Pe++)xe[ce=Ce*y+Pe]!=Fr[ce]&&(Pe<Te&&(Te=Pe),Pe>He&&(He=Pe),Ce<Fe&&(Fe=Ce),Ce>Xe&&(Xe=Ce));He==-1&&(Te=Fe=He=Xe=0),V&&((1&Te)==1&&Te--,(1&Fe)==1&&Fe--);const Pt=(He-Te+1)*(Xe-Fe+1);Pt<Ct&&(Ct=Pt,bt=Ge,de=Te,Ie=Fe,Se=He-Te+1,Le=Xe-Fe+1)}te=new Uint8Array(f[X-1-bt]),bt==1&&(Y[X-1].dispose=2),ie=new Uint8Array(Se*Le*4),t(te,y,I,ie,Se,Le,-de,-Ie,0),wt=t(le,y,I,ie,Se,Le,-de,-Ie,3)?1:0,wt==1?c(le,y,I,ie,{x:de,y:Ie,width:Se,height:Le}):t(le,y,I,ie,Se,Le,-de,-Ie,0)}else ie=le.slice(0);Y.push({rect:{x:de,y:Ie,width:Se,height:Le},img:ie,blend:wt,dispose:0})}if(H)for(X=0;X<Y.length;X++){if((Ae=Y[X]).blend==1)continue;const le=Ae.rect,xe=Y[X-1].rect,de=Math.min(le.x,xe.x),Ie=Math.min(le.y,xe.y),Se={x:de,y:Ie,width:Math.max(le.x+le.width,xe.x+xe.width)-de,height:Math.max(le.y+le.height,xe.y+xe.height)-Ie};Y[X-1].dispose=1,X-1!=0&&h(f,y,I,Y,X-1,Se,V),h(f,y,I,Y,X,Se,V)}let Oe=0;if(f.length!=1)for(var ce=0;ce<Y.length;ce++){var Ae;Oe+=(Ae=Y[ce]).rect.width*Ae.rect.height}return Y}(x,m,O,R,N,L),se={},oe=[],ee=[];if(F!=0){const s=[];for(J=0;J<K.length;J++)s.push(K[J].img.buffer);const f=function(V){let Q=0;for(var Y=0;Y<V.length;Y++)Q+=V[Y].byteLength;const X=new Uint8Array(Q);let ie=0;for(Y=0;Y<V.length;Y++){const te=new Uint8Array(V[Y]),Oe=te.length;for(let ce=0;ce<Oe;ce+=4){let Ae=te[ce],le=te[ce+1],xe=te[ce+2];const de=te[ce+3];de==0&&(Ae=le=xe=0),X[ie+ce]=Ae,X[ie+ce+1]=le,X[ie+ce+2]=xe,X[ie+ce+3]=de}ie+=Oe}return X.buffer}(s),y=U(f,F);for(J=0;J<y.plte.length;J++)oe.push(y.plte[J].est.rgba);let I=0;for(J=0;J<K.length;J++){const H=(ae=K[J]).img.length;var fe=new Uint8Array(y.inds.buffer,I>>2,H>>2);ee.push(fe);const V=new Uint8Array(y.abuf,I,H);k&&l(ae.img,ae.rect.width,ae.rect.height,oe,V,fe),ae.img.set(V),I+=H}}else for(q=0;q<K.length;q++){var ae=K[q];const s=new Uint32Array(ae.img.buffer);var ne=ae.rect.width;for(Z=s.length,fe=new Uint8Array(Z),ee.push(fe),J=0;J<Z;J++){const f=s[J];if(J!=0&&f==s[J-1])fe[J]=fe[J-1];else if(J>ne&&f==s[J-ne])fe[J]=fe[J-ne];else{let y=se[f];if(y==null&&(se[f]=y=oe.length,oe.push(f),oe.length>=300))break;fe[J]=y}}}const be=oe.length;for(be<=256&&d==0&&(C=be<=2?1:be<=4?2:be<=16?4:8,C=Math.max(C,b)),q=0;q<K.length;q++){(ae=K[q]).rect.x,ae.rect.y,ne=ae.rect.width;const s=ae.rect.height;let f=ae.img;new Uint32Array(f.buffer);let y=4*ne,I=4;if(be<=256&&d==0){y=Math.ceil(C*ne/8);var ge=new Uint8Array(y*s);const H=ee[q];for(let V=0;V<s;V++){J=V*y;const Q=V*ne;if(C==8)for(var p=0;p<ne;p++)ge[J+p]=H[Q+p];else if(C==4)for(p=0;p<ne;p++)ge[J+(p>>1)]|=H[Q+p]<<4-4*(1&p);else if(C==2)for(p=0;p<ne;p++)ge[J+(p>>2)]|=H[Q+p]<<6-2*(3&p);else if(C==1)for(p=0;p<ne;p++)ge[J+(p>>3)]|=H[Q+p]<<7-1*(7&p)}f=ge,T=3,I=1}else if($==0&&K.length==1){ge=new Uint8Array(ne*s*3);const H=ne*s;for(J=0;J<H;J++){const V=3*J,Q=4*J;ge[V]=f[Q],ge[V+1]=f[Q+1],ge[V+2]=f[Q+2]}f=ge,T=2,I=3,y=3*ne}ae.img=f,ae.bpl=y,ae.bpp=I}return{ctype:T,depth:C,plte:oe,frames:K}}function h(x,m,O,F,B,R,N){const L=Uint8Array,b=Uint32Array,d=new L(x[B-1]),k=new b(x[B-1]),T=B+1<x.length?new L(x[B+1]):null,C=new L(x[B]),z=new b(C.buffer);let q=m,Z=O,J=-1,$=-1;for(let se=0;se<R.height;se++)for(let oe=0;oe<R.width;oe++){const ee=R.x+oe,fe=R.y+se,ae=fe*m+ee,ne=z[ae];ne==0||F[B-1].dispose==0&&k[ae]==ne&&(T==null||T[4*ae+3]!=0)||(ee<q&&(q=ee),ee>J&&(J=ee),fe<Z&&(Z=fe),fe>$&&($=fe))}J==-1&&(q=Z=J=$=0),N&&((1&q)==1&&q--,(1&Z)==1&&Z--),R={x:q,y:Z,width:J-q+1,height:$-Z+1};const K=F[B];K.rect=R,K.blend=1,K.img=new Uint8Array(R.width*R.height*4),F[B-1].dispose==0?(t(d,m,O,K.img,R.width,R.height,-R.x,-R.y,0),c(C,m,O,K.img,R)):t(C,m,O,K.img,R.width,R.height,-R.x,-R.y,0)}function c(x,m,O,F,B){t(x,m,O,F,B.width,B.height,-B.x,-B.y,2)}function g(x,m,O,F,B,R,N){const L=[];let b,d=[0,1,2,3,4];R!=-1?d=[R]:(m*F>5e5||O==1)&&(d=[0]),N&&(b={level:0});const k=Kn;for(var T=0;T<d.length;T++){for(let q=0;q<m;q++)v(B,x,q,F,O,d[T]);L.push(k.deflate(B,b))}let C,z=1e9;for(T=0;T<L.length;T++)L[T].length<z&&(C=T,z=L[T].length);return L[C]}function v(x,m,O,F,B,R){const N=O*F;let L=N+O;if(x[L]=R,L++,R==0)if(F<500)for(var b=0;b<F;b++)x[L+b]=m[N+b];else x.set(new Uint8Array(m.buffer,N,F),L);else if(R==1){for(b=0;b<B;b++)x[L+b]=m[N+b];for(b=B;b<F;b++)x[L+b]=m[N+b]-m[N+b-B]+256&255}else if(O==0){for(b=0;b<B;b++)x[L+b]=m[N+b];if(R==2)for(b=B;b<F;b++)x[L+b]=m[N+b];if(R==3)for(b=B;b<F;b++)x[L+b]=m[N+b]-(m[N+b-B]>>1)+256&255;if(R==4)for(b=B;b<F;b++)x[L+b]=m[N+b]-r(m[N+b-B],0,0)+256&255}else{if(R==2)for(b=0;b<F;b++)x[L+b]=m[N+b]+256-m[N+b-F]&255;if(R==3){for(b=0;b<B;b++)x[L+b]=m[N+b]+256-(m[N+b-F]>>1)&255;for(b=B;b<F;b++)x[L+b]=m[N+b]+256-(m[N+b-F]+m[N+b-B]>>1)&255}if(R==4){for(b=0;b<B;b++)x[L+b]=m[N+b]+256-r(0,m[N+b-F],0)&255;for(b=B;b<F;b++)x[L+b]=m[N+b]+256-r(m[N+b-B],m[N+b-F],m[N+b-B-F])&255}}}function U(x,m){const O=new Uint8Array(x),F=O.slice(0),B=new Uint32Array(F.buffer),R=M(F,m),N=R[0],L=R[1],b=O.length,d=new Uint8Array(b>>2);let k;if(O.length<2e7)for(var T=0;T<b;T+=4)k=S(N,C=O[T]*(1/255),z=O[T+1]*(1/255),q=O[T+2]*(1/255),Z=O[T+3]*(1/255)),d[T>>2]=k.ind,B[T>>2]=k.est.rgba;else for(T=0;T<b;T+=4){var C=O[T]*.00392156862745098,z=O[T+1]*(1/255),q=O[T+2]*(1/255),Z=O[T+3]*(1/255);for(k=N;k.left;)k=j(k.est,C,z,q,Z)<=0?k.left:k.right;d[T>>2]=k.ind,B[T>>2]=k.est.rgba}return{abuf:F.buffer,inds:d,plte:L}}function M(x,m,O){O==null&&(O=1e-4);const F=new Uint32Array(x.buffer),B={i0:0,i1:x.length,bst:null,est:null,tdst:0,left:null,right:null};B.bst=W(x,B.i0,B.i1),B.est=A(B.bst);const R=[B];for(;R.length<m;){let L=0,b=0;for(var N=0;N<R.length;N++)R[N].est.L>L&&(L=R[N].est.L,b=N);if(L<O)break;const d=R[b],k=P(x,F,d.i0,d.i1,d.est.e,d.est.eMq255);if(d.i0>=k||d.i1<=k){d.est.L=0;continue}const T={i0:d.i0,i1:k,bst:null,est:null,tdst:0,left:null,right:null};T.bst=W(x,T.i0,T.i1),T.est=A(T.bst);const C={i0:k,i1:d.i1,bst:null,est:null,tdst:0,left:null,right:null};for(C.bst={R:[],m:[],N:d.bst.N-T.bst.N},N=0;N<16;N++)C.bst.R[N]=d.bst.R[N]-T.bst.R[N];for(N=0;N<4;N++)C.bst.m[N]=d.bst.m[N]-T.bst.m[N];C.est=A(C.bst),d.left=T,d.right=C,R[b]=T,R.push(C)}for(R.sort((L,b)=>b.bst.N-L.bst.N),N=0;N<R.length;N++)R[N].ind=N;return[B,R]}function S(x,m,O,F,B){if(x.left==null)return x.tdst=function(T,C,z,q,Z){const J=C-T[0],$=z-T[1],K=q-T[2],se=Z-T[3];return J*J+$*$+K*K+se*se}(x.est.q,m,O,F,B),x;const R=j(x.est,m,O,F,B);let N=x.left,L=x.right;R>0&&(N=x.right,L=x.left);const b=S(N,m,O,F,B);if(b.tdst<=R*R)return b;const d=S(L,m,O,F,B);return d.tdst<b.tdst?d:b}function j(x,m,O,F,B){const{e:R}=x;return R[0]*m+R[1]*O+R[2]*F+R[3]*B-x.eMq}function P(x,m,O,F,B,R){for(F-=4;O<F;){for(;_(x,O,B)<=R;)O+=4;for(;_(x,F,B)>R;)F-=4;if(O>=F)break;const N=m[O>>2];m[O>>2]=m[F>>2],m[F>>2]=N,O+=4,F-=4}for(;_(x,O,B)>R;)O-=4;return O+4}function _(x,m,O){return x[m]*O[0]+x[m+1]*O[1]+x[m+2]*O[2]+x[m+3]*O[3]}function W(x,m,O){const F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,0,0,0],R=O-m>>2;for(let N=m;N<O;N+=4){const L=x[N]*.00392156862745098,b=x[N+1]*(1/255),d=x[N+2]*(1/255),k=x[N+3]*(1/255);B[0]+=L,B[1]+=b,B[2]+=d,B[3]+=k,F[0]+=L*L,F[1]+=L*b,F[2]+=L*d,F[3]+=L*k,F[5]+=b*b,F[6]+=b*d,F[7]+=b*k,F[10]+=d*d,F[11]+=d*k,F[15]+=k*k}return F[4]=F[1],F[8]=F[2],F[9]=F[6],F[12]=F[3],F[13]=F[7],F[14]=F[11],{R:F,m:B,N:R}}function A(x){const{R:m}=x,{m:O}=x,{N:F}=x,B=O[0],R=O[1],N=O[2],L=O[3],b=F==0?0:1/F,d=[m[0]-B*B*b,m[1]-B*R*b,m[2]-B*N*b,m[3]-B*L*b,m[4]-R*B*b,m[5]-R*R*b,m[6]-R*N*b,m[7]-R*L*b,m[8]-N*B*b,m[9]-N*R*b,m[10]-N*N*b,m[11]-N*L*b,m[12]-L*B*b,m[13]-L*R*b,m[14]-L*N*b,m[15]-L*L*b],k=d,T=D;let C=[Math.random(),Math.random(),Math.random(),Math.random()],z=0,q=0;if(F!=0)for(let J=0;J<16&&(C=T.multVec(k,C),q=Math.sqrt(T.dot(C,C)),C=T.sml(1/q,C),!(J!=0&&Math.abs(q-z)<1e-9));J++)z=q;const Z=[B*b,R*b,N*b,L*b];return{Cov:d,q:Z,e:C,L:z,eMq255:T.dot(T.sml(255,Z),C),eMq:T.dot(C,Z),rgba:(Math.round(255*Z[3])<<24|Math.round(255*Z[2])<<16|Math.round(255*Z[1])<<8|Math.round(255*Z[0])<<0)>>>0}}var D={multVec:(x,m)=>[x[0]*m[0]+x[1]*m[1]+x[2]*m[2]+x[3]*m[3],x[4]*m[0]+x[5]*m[1]+x[6]*m[2]+x[7]*m[3],x[8]*m[0]+x[9]*m[1]+x[10]*m[2]+x[11]*m[3],x[12]*m[0]+x[13]*m[1]+x[14]*m[2]+x[15]*m[3]],dot:(x,m)=>x[0]*m[0]+x[1]*m[1]+x[2]*m[2]+x[3]*m[3],sml:(x,m)=>[x*m[0],x*m[1],x*m[2],x*m[3]]};ve.encode=function(m,O,F,B,R,N,L){B==null&&(B=0),L==null&&(L=!1);const b=u(m,O,F,B,[!1,!1,!1,0,L,!1]);return E(b,-1),w(b,O,F,R,N)},ve.encodeLL=function(m,O,F,B,R,N,L,b){const d={ctype:0+(B==1?0:2)+(R==0?0:4),depth:N,frames:[]},k=(B+R)*N,T=k*O;for(let C=0;C<m.length;C++)d.frames.push({rect:{x:0,y:0,width:O,height:F},img:new Uint8Array(m[C]),blend:0,dispose:1,bpp:Math.ceil(k/8),bpl:Math.ceil(T/8)});return E(d,0,!0),w(d,O,F,L,b)},ve.encode.compress=u,ve.encode.dither=l,ve.quantize=U,ve.quantize.getKDtree=M,ve.quantize.getNearest=S})();const vr={toArrayBuffer(t,e){const r=t.width,i=t.height,n=r<<2,o=t.getContext("2d").getImageData(0,0,r,i),a=new Uint32Array(o.data.buffer),l=(32*r+31)/32<<2,w=l*i,E=122+w,u=new ArrayBuffer(E),h=new DataView(u),c=1<<20;let g,v,U,M,S=c,j=0,P=0,_=0;function W(x){h.setUint16(P,x,!0),P+=2}function A(x){h.setUint32(P,x,!0),P+=4}function D(x){P+=x}W(19778),A(E),D(4),A(122),A(108),A(r),A(-i>>>0),W(1),W(32),A(3),A(w),A(2835),A(2835),D(8),A(16711680),A(65280),A(255),A(4278190080),A(1466527264),function x(){for(;j<i&&S>0;){for(M=122+j*l,g=0;g<n;)S--,v=a[_++],U=v>>>24,h.setUint32(M+g,v<<8|U),g+=4;j++}_<a.length?(S=c,setTimeout(x,vr._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,r=>{e(new Blob([r],{type:"image/bmp"}))})},_dly:9};var pe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ei={[pe.CHROME]:16384,[pe.FIREFOX]:11180,[pe.DESKTOP_SAFARI]:16384,[pe.IE]:8192,[pe.IOS]:4096,[pe.ETC]:8192};const Mt=typeof window<"u",Er=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,at=Mt&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),ti=(Mt||Er)&&(at&&at.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Ar=(Mt||Er)&&(at&&at.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Lt(t,e,r=Date.now()){return new Promise(i=>{const n=t.split(","),o=n[0].match(/:(.*?);/)[1],a=globalThis.atob(n[1]);let l=a.length;const w=new Uint8Array(l);for(;l--;)w[l]=a.charCodeAt(l);const E=new Blob([w],{type:o});E.name=e,E.lastModified=r,i(E)})}function Sr(t){return new Promise((e,r)=>{const i=new Ar;i.onload=()=>e(i.result),i.onerror=n=>r(n),i.readAsDataURL(t)})}function _r(t){return new Promise((e,r)=>{const i=new Image;i.onload=()=>e(i),i.onerror=n=>r(n),i.src=t})}function $e(){if($e.cachedResult!==void 0)return $e.cachedResult;let t=pe.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=pe.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=pe.IOS:/Safari/i.test(e)?t=pe.DESKTOP_SAFARI:/Firefox/i.test(e)?t=pe.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=pe.IE),$e.cachedResult=t,$e.cachedResult}function Nr(t,e){const r=$e(),i=ei[r];let n=t,o=e,a=n*o;const l=n>o?o/n:n/o;for(;a>i*i;){const w=(i+n)/2,E=(i+o)/2;w<E?(o=E,n=E*l):(o=w*l,n=w),a=n*o}return{width:n,height:o}}function mt(t,e){let r,i;try{if(r=new OffscreenCanvas(t,e),i=r.getContext("2d"),i===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{r=document.createElement("canvas"),i=r.getContext("2d")}return r.width=t,r.height=e,[r,i]}function Ur(t,e){const{width:r,height:i}=Nr(t.width,t.height),[n,o]=mt(r,i);return e&&/jpe?g/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,n.width,n.height)),o.drawImage(t,0,0,n.width,n.height),n}function ot(){return ot.cachedResult!==void 0||(ot.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),ot.cachedResult}function ut(t,e={}){return new Promise(function(r,i){let n,o;var a=function(){try{return o=Ur(n,e.fileType||t.type),r([n,o])}catch(w){return i(w)}},l=function(w){try{var E=function(u){try{throw u}catch(h){return i(h)}};try{let u;return Sr(t).then(function(h){try{return u=h,_r(u).then(function(c){try{return n=c,function(){try{return a()}catch(g){return i(g)}}()}catch(g){return E(g)}},E)}catch(c){return E(c)}},E)}catch(u){E(u)}}catch(u){return i(u)}};try{if(ot()||[pe.DESKTOP_SAFARI,pe.MOBILE_SAFARI].includes($e()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(w){try{return n=w,a()}catch{return l()}},l)}catch{l()}})}function ct(t,e,r,i,n=1){return new Promise(function(o,a){let l;if(e==="image/png"){let E,u,h;return E=t.getContext("2d"),{data:u}=E.getImageData(0,0,t.width,t.height),h=ve.encode([u.buffer],t.width,t.height,4096*n),l=new Blob([h],{type:e}),l.name=r,l.lastModified=i,w.call(this)}{let E=function(){return w.call(this)};if(e==="image/bmp")return new Promise(u=>vr.toBlob(t,u)).then((function(u){try{return l=u,l.name=r,l.lastModified=i,E.call(this)}catch(h){return a(h)}}).bind(this),a);{let u=function(){return E.call(this)};if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:n}).then((function(h){try{return l=h,l.name=r,l.lastModified=i,u.call(this)}catch(c){return a(c)}}).bind(this),a);{let h;return h=t.toDataURL(e,n),Lt(h,r,i).then((function(c){try{return l=c,u.call(this)}catch(g){return a(g)}}).bind(this),a)}}}function w(){return o(l)}})}function Ne(t){t.width=0,t.height=0}function Ze(){return new Promise(function(t,e){let r,i,n,o;return Ze.cachedResult!==void 0?t(Ze.cachedResult):Lt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(a){try{return r=a,ut(r).then(function(l){try{return i=l[1],ct(i,r.type,r.name,r.lastModified).then(function(w){try{return n=w,Ne(i),ut(n).then(function(E){try{return o=E[0],Ze.cachedResult=o.width===1&&o.height===2,t(Ze.cachedResult)}catch(u){return e(u)}},e)}catch(E){return e(E)}},e)}catch(w){return e(w)}},e)}catch(l){return e(l)}},e)})}function Or(t){return new Promise((e,r)=>{const i=new Ar;i.onload=n=>{const o=new DataView(n.target.result);if(o.getUint16(0,!1)!=65496)return e(-2);const a=o.byteLength;let l=2;for(;l<a;){if(o.getUint16(l+2,!1)<=8)return e(-1);const w=o.getUint16(l,!1);if(l+=2,w==65505){if(o.getUint32(l+=2,!1)!=1165519206)return e(-1);const E=o.getUint16(l+=6,!1)==18761;l+=o.getUint32(l+4,E);const u=o.getUint16(l,E);l+=2;for(let h=0;h<u;h++)if(o.getUint16(l+12*h,E)==274)return e(o.getUint16(l+12*h+8,E))}else{if((65280&w)!=65280)break;l+=o.getUint16(l,!1)}}return e(-1)},i.onerror=n=>r(n),i.readAsArrayBuffer(t)})}function Ir(t,e){const{width:r}=t,{height:i}=t,{maxWidthOrHeight:n}=e;let o,a=t;return isFinite(n)&&(r>n||i>n)&&([a,o]=mt(r,i),r>i?(a.width=n,a.height=i/r*n):(a.width=r/i*n,a.height=n),o.drawImage(t,0,0,a.width,a.height),Ne(t)),a}function Br(t,e){const{width:r}=t,{height:i}=t,[n,o]=mt(r,i);switch(e>4&&e<9?(n.width=i,n.height=r):(n.width=r,n.height=i),e){case 2:o.transform(-1,0,0,1,r,0);break;case 3:o.transform(-1,0,0,-1,r,i);break;case 4:o.transform(1,0,0,-1,0,i);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,i,0);break;case 7:o.transform(0,-1,-1,0,i,r);break;case 8:o.transform(0,-1,1,0,0,r)}return o.drawImage(t,0,0,r,i),Ne(t),n}function sr(t,e,r=0){return new Promise(function(i,n){let o,a,l,w,E,u,h,c,g,v,U,M,S,j,P,_,W,A,D,x;function m(F=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;o+=F,e.onProgress(Math.min(o,100))}function O(F){if(e.signal&&e.signal.aborted)throw e.signal.reason;o=Math.min(Math.max(F,o),100),e.onProgress(o)}return o=r,a=e.maxIteration||10,l=1024*e.maxSizeMB*1024,m(),ut(t,e).then((function(F){try{return[,w]=F,m(),E=Ir(w,e),m(),new Promise(function(B,R){var N;if(!(N=e.exifOrientation))return Or(t).then((function(b){try{return N=b,L.call(this)}catch(d){return R(d)}}).bind(this),R);function L(){return B(N)}return L.call(this)}).then((function(B){try{return u=B,m(),Ze().then((function(R){try{return h=R?E:Br(E,u),m(),c=e.initialQuality||1,g=e.fileType||t.type,ct(h,g,t.name,t.lastModified,c).then((function(N){try{{let b=function(){if(a--&&(P>l||P>S)){let k,T;return k=x?.95*D.width:D.width,T=x?.95*D.height:D.height,[W,A]=mt(k,T),A.drawImage(D,0,0,k,T),c*=g==="image/png"?.85:.95,ct(W,g,t.name,t.lastModified,c).then(function(C){try{return _=C,Ne(D),D=W,P=_.size,O(Math.min(99,Math.floor((j-P)/(j-l)*100))),b}catch(z){return n(z)}},n)}return[1]},d=function(){return Ne(D),Ne(W),Ne(E),Ne(h),Ne(w),O(100),i(_)};if(v=N,m(),U=v.size>l,M=v.size>t.size,!U&&!M)return O(100),i(v);var L;return S=t.size,j=v.size,P=j,D=h,x=!e.alwaysKeepResolution&&U,(L=(function(k){for(;k;){if(k.then)return void k.then(L,n);try{if(k.pop){if(k.length)return k.pop()?d.call(this):k;k=b}else k=k.call(this)}catch(T){return n(T)}}}).bind(this))(b)}}catch(b){return n(b)}}).bind(this),n)}catch(N){return n(N)}}).bind(this),n)}catch(R){return n(R)}}).bind(this),n)}catch(B){return n(B)}}).bind(this),n)})}const ri=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Nt;function ni(t,e){return new Promise((r,i)=>{Nt||(Nt=function(a){const l=[];return l.push(a),URL.createObjectURL(new Blob(l))}(ri));const n=new Worker(Nt);n.addEventListener("message",function(a){if(e.signal&&e.signal.aborted)n.terminate();else if(a.data.progress===void 0){if(a.data.error)return i(new Error(a.data.error)),void n.terminate();r(a.data.file),n.terminate()}else e.onProgress(a.data.progress)}),n.addEventListener("error",i),e.signal&&e.signal.addEventListener("abort",()=>{i(e.signal.reason),n.terminate()}),n.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function he(t,e){return new Promise(function(r,i){let n,o,a,l,w,E;if(n={...e},a=0,{onProgress:l}=n,n.maxSizeMB=n.maxSizeMB||Number.POSITIVE_INFINITY,w=typeof n.useWebWorker!="boolean"||n.useWebWorker,delete n.useWebWorker,n.onProgress=g=>{a=g,typeof l=="function"&&l(a)},!(t instanceof Blob||t instanceof ti))return i(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return i(new Error("The file given is not an image"));if(E=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!w||typeof Worker!="function"||E)return sr(t,n).then((function(g){try{return o=g,c.call(this)}catch(v){return i(v)}}).bind(this),i);var u=(function(){try{return c.call(this)}catch(g){return i(g)}}).bind(this),h=function(g){try{return sr(t,n).then(function(v){try{return o=v,u()}catch(U){return i(U)}},i)}catch(v){return i(v)}};try{return n.libURL=n.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",ni(t,n).then(function(g){try{return o=g,u()}catch{return h()}},h)}catch{h()}function c(){try{o.name=t.name,o.lastModified=t.lastModified}catch{}try{n.preserveExif&&t.type==="image/jpeg"&&(!n.fileType||n.fileType&&n.fileType===t.type)&&(o=xr(t,o))}catch{}return r(o)}})}he.getDataUrlFromFile=Sr,he.getFilefromDataUrl=Lt,he.loadImage=_r,he.drawImageInCanvas=Ur,he.drawFileInCanvas=ut,he.canvasToFile=ct,he.getExifOrientation=Or,he.handleMaxWidthOrHeight=Ir,he.followExifOrientation=Br,he.cleanupCanvasMemory=Ne,he.isAutoOrientationInBrowser=Ze,he.approximateBelowMaximumCanvasSizeOfBrowser=Nr,he.copyExifWithoutOrientation=xr,he.getBrowserName=$e,he.version="2.0.2";async function ii(t){try{const r=await he(t,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0,onProgress:n=>{console.log(`Compression Progress: ${n}%`)}});return new File([r],t.name,{type:r.type})}catch(e){console.error("Error in compression or upload:",e)}return null}async function oi(t){return new Promise((e,r)=>{const i=new FileReader;i.onload=n=>{if(n.target&&n.target.result){const o=new Me(new Uint8Array(n.target.result));e(o)}else r(new Error("Failed to read file"))},i.onerror=n=>r(n),i.readAsArrayBuffer(t)})}const ke=class ke{constructor(){rt(this,"request");rt(this,"store");this.request=new Lr,this.store=Cr()}static getInstance(){return ke.instance||(ke.instance=new ke),ke.instance}async login(e,r){try{const i=await this.request.post("/login",{data:{username:e,password:r}});return i.code==200?(this.store.setAccessToken(i.data.token,i.data.refreshToken,i.data.expiration),this.store.setUser(i.data.user),{success:!0}):{success:!1,error:i.message}}catch(i){return{success:!1,error:i.message}}}async register(e,r,i){try{const n=await this.request.post("/register",{data:{email:r,username:e,password:i}});return n.code==200?{success:!0}:{success:!1,error:n.message}}catch(n){return{success:!1,error:n.message}}}async confirmUser(e){try{const r=await this.request.post("/user/confirm",{data:{token:e}});return r.code==200?{success:!0}:{success:!1,error:r.message}}catch(r){return{success:!1,error:r.message}}}async resendConfirmationEmail(e){try{const r=await this.request.post("/user/resend-email",{data:{email:e}});return r.code==200?{success:!0}:{success:!1,error:r.message}}catch(r){return{success:!1,error:r.message}}}async sendResetPasswordEmail(e){try{return await this.request.get(`/reset-password/${e}`)?{success:!0}:{success:!1}}catch(r){return{success:!1,error:r.message}}}async findUserById(e){try{const r=await this.request.get(`/user/info/${e}`,{headers:{Authorization:this.store.accessToken}});return r.code==200?{success:!0,data:r.data}:{success:!1,error:r.message,data:r.data}}catch(r){return{success:!1,error:r.message}}}async findUserByUsername(e){try{const r=await this.request.get(`/user/info-username/${e}`);return r.code==200?{success:!0,data:r.data}:{success:!1,error:r.message,data:r.data}}catch(r){return{success:!1,error:r.message}}}async existUserByUsername(e,r={}){try{const i=await this.request.get(`/user/exist-username/${e}`,r);return i.code==200?{success:!0,data:i.data}:{success:!1,error:i.message,data:i.data}}catch(i){return{success:!1,error:i.message}}}async existUserByEmail(e,r={}){try{const i=await this.request.get(`/user/exist-email/${e}`,r);return i.code==200?{success:!0,data:i.data}:{success:!1,error:i.message,data:i.data}}catch(i){return{success:!1,error:i.message}}}async findUserInfoById(e){try{const r=await this.request.get(`/user/info/${e}`);return r.code==200?{success:!0,data:r.data}:{success:!1,error:r.message,data:r.data}}catch(r){return{success:!1,error:r.message}}}async findUsers(e={},r={page:0,pageSize:10}){try{const[i,n]=await Promise.all([this.request.get("/user",{params:e})]);return{success:!0,data:{users:i,total:n}}}catch(i){return{success:!1,error:i.message}}}async createUser(e){try{const r=await this.request.post("/user",{data:{...e}});return r.code==200?{success:!0,data:r.data}:{success:!1,error:r.message}}catch(r){return{success:!1,error:r.message}}}async updateUser(e,r){try{const i=await this.request.put(`/user/${e}`,{data:r});return i.code==200?{success:!0,data:i.data,message:i.message}:{success:!1,error:i.message}}catch(i){return{success:!1,error:i.message}}}async updateAvatar(e,r){try{const i=await ii(r);if(!i)throw new Error("Image compression failed");const n=await oi(i),o={filename:r.name,type:r.type,size:r.size,data:n};return await this.updateUser(e,{avatar:o})}catch(i){return{success:!1,error:i.message}}}async deleteById(e){try{const r=await this.request.delete(`/user/${e}`);return r.code==200?{success:!0,data:!0}:{success:!1,error:r.message}}catch(r){return{success:!1,error:r.message}}}};rt(ke,"instance");let fr=ke;export{fr as U};
