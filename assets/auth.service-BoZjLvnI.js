var u=Object.defineProperty;var i=(a,s,e)=>s in a?u(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e;var n=(a,s,e)=>i(a,typeof s!="symbol"?s+"":s,e);import{R as f}from"./request-CAHUC_tE.js";import{ah as l}from"./index-Bkva_4QA.js";const t=class t{constructor(){n(this,"request");n(this,"store");this.request=new f,this.store=l()}static getInstance(){return t.instance||(t.instance=new t),t.instance}async login(s,e){try{const r=await this.request.post("/login",{data:{username:s,password:e}});return r.code==200?(this.store.login(r.data.token,r.data.refreshToken,r.data.user),{success:!0}):{success:!1,error:r.message}}catch(r){return{success:!1,error:r.message}}}async register(s,e,r){try{const c=await this.request.post("/register",{data:{email:e,username:s,password:r}});return c.code==200?{success:!0}:{success:!1,error:c.message}}catch(c){return{success:!1,error:c.message}}}async refreshToken(s){try{const e=await this.request.post("/refresh",{data:{token:s}});return e.code==200?{success:!0}:{success:!1,error:e.message}}catch(e){return{success:!1,error:e.message}}}async confirmAuth(s){try{const e=await this.request.post("/confirm",{data:{token:s}});return e.code==200?{success:!0}:{success:!1,error:e.message}}catch(e){return{success:!1,error:e.message}}}async resendConfirmationEmail(s){try{const e=await this.request.post("/resend-email",{data:{email:s}});return e.code==200?{success:!0}:{success:!1,error:e.message}}catch(e){return{success:!1,error:e.message}}}async sendResetPasswordEmail(s){try{return await this.request.get(`/reset-password/${s}`)?{success:!0}:{success:!1}}catch(e){return{success:!1,error:e.message}}}};n(t,"instance");let o=t;export{o as A};
