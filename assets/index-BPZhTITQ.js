var Ft=Object.defineProperty;var jt=(e,n,t)=>n in e?Ft(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var se=(e,n,t)=>jt(e,typeof n!="symbol"?n+"":n,t);import{aD as at,aI as $t,aJ as _t,G as L,g as $e,m as _e,_ as I,r as pe,ap as qt,d as V,i as ze,u as te,J as he,D as be,o as Pe,k as Ce,au as Y,c as i,a as H,b as Wt,W as Ct,h as M,n as Q,aW as it,j as Vt,aX as Gt,ad as Yt,aa as q,a5 as Xt,ae as we,a1 as St,an as Zt,aN as We,af as De,A as Ee,B as Me,ag as Le,w as wt,a2 as Ut,aY as Jt,a0 as Qt,aZ as Kt,a_ as en,a$ as tn,b0 as nn,b1 as on,b2 as rn,am as xt,b3 as lt,$ as ie,b4 as Bt,a9 as an,av as Ot,ac as ve,V as Ie,e as ln,f as ye,F as ge,b5 as sn,Z as Ne,b6 as cn,b7 as un,b8 as dn,b9 as mn,ba as fn,I as Ve,p as R,P as W,K as O,t as re,C as ne,O as j,bb as Re,q as me,L as fe,y as Ge,x as U,M as z,Q as Ye,E as It,a7 as pn,ay as gn,aU as hn,aw as vn,ax as bn,az as yn,R as $n}from"./index-CorvJS88.js";import{d as st}from"./dayjs.min-CNgtDw1V.js";import{A as kt}from"./ArticleService-BV4Xr5v_.js";import{L as _n,U as Cn}from"./UserService-44F7kqZC.js";import{R as Tt}from"./request-DbUJaofx.js";import{h as ct}from"./moment-C5S46NFB.js";import{L as Sn}from"./LikeOutlined-CzPy-W7A.js";import{D as wn,T as xn}from"./index-aD2pe-_V.js";import{R as Bn}from"./RightOutlined-Cu8YZTQd.js";import{A as At,T as zt}from"./Text-Cl0HkLD1.js";import{B as Xe}from"./index-CMYvEKCm.js";import{S as Ze,_ as On}from"./index-DrHQ6tjo.js";import{s as In,_ as kn,F as Tn,Q as An}from"./index-BoY7cWxL.js";import{_ as zn,a as Pn,b as Dn}from"./index-BVVtlcms.js";import{i as En}from"./fade-B7FYbLeO.js";import{u as Mn}from"./Base-C89d3xn4.js";import"./Col-BpkG6ykq.js";import"./Dropdown-Bfe-joDI.js";import"./ActionButton-BakDm9yD.js";import"./index-BenU8wJE.js";function Ln(e,n,t,o){const r=t-n;return e/=o/2,e<1?r/2*e*e*e+n:r/2*((e-=2)*e*e+2)+n}function Fe(e){return e!=null&&e===e.window}function Ue(e,n){var t,o;if(typeof window>"u")return 0;const r="scrollTop";let a=0;return Fe(e)?a=e.scrollY:e instanceof Document?a=e.documentElement[r]:(e instanceof HTMLElement||e)&&(a=e[r]),e&&!Fe(e)&&typeof a!="number"&&(a=(o=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||o===void 0?void 0:o[r]),a}function Pt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:t=()=>window,callback:o,duration:r=450}=n,a=t(),u=Ue(a),h=Date.now(),v=()=>{const c=Date.now()-h,b=Ln(c>r?r:c,u,e,r);Fe(a)?a.scrollTo(window.scrollX,b):a instanceof Document?a.documentElement.scrollTop=b:a.scrollTop=b,c<r?at(v):typeof o=="function"&&o()};at(v)}function xe(){}const Dt=Symbol("anchorContextKey"),Nn=e=>{$t(Dt,e)},Hn=()=>_t(Dt,{registerLink:xe,unregisterLink:xe,scrollTo:xe,activeLink:L(()=>""),handleClick:xe,direction:L(()=>"vertical")}),Rn=e=>{const{componentCls:n,holderOffsetBlock:t,motionDurationSlow:o,lineWidthBold:r,colorPrimary:a,lineType:u,colorSplit:h}=e;return{[`${n}-wrapper`]:{marginBlockStart:-t,paddingBlockStart:t,backgroundColor:"transparent",[n]:I(I({},pe(e)),{position:"relative",paddingInlineStart:r,[`${n}-link`]:{paddingBlock:e.anchorPaddingBlock,paddingInline:`${e.anchorPaddingInline}px 0`,"&-title":I(I({},qt),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${n}-link-title`]:{color:e.colorPrimary},[`${n}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${n}-wrapper-horizontal)`]:{[n]:{"&::before":{position:"absolute",left:{_skip_check_:!0,value:0},top:0,height:"100%",borderInlineStart:`${r}px ${u} ${h}`,content:'" "'},[`${n}-ink`]:{position:"absolute",left:{_skip_check_:!0,value:0},display:"none",transform:"translateY(-50%)",transition:`top ${o} ease-in-out`,width:r,backgroundColor:a,[`&${n}-ink-visible`]:{display:"inline-block"}}}},[`${n}-fixed ${n}-ink ${n}-ink`]:{display:"none"}}}},Fn=e=>{const{componentCls:n,motionDurationSlow:t,lineWidthBold:o,colorPrimary:r}=e;return{[`${n}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`1px ${e.lineType} ${e.colorSplit}`,content:'" "'},[n]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${n}-link:first-of-type`]:{paddingInline:0},[`${n}-ink`]:{position:"absolute",bottom:0,transition:`left ${t} ease-in-out, width ${t} ease-in-out`,height:o,backgroundColor:r}}}}},jn=$e("Anchor",e=>{const{fontSize:n,fontSizeLG:t,padding:o,paddingXXS:r}=e,a=_e(e,{holderOffsetBlock:r,anchorPaddingBlock:r,anchorPaddingBlockSecondary:r/2,anchorPaddingInline:o,anchorTitleBlock:n/14*3,anchorBallSize:t/2});return[Rn(a),Fn(a)]}),qn=()=>({prefixCls:String,href:String,title:Wt(),target:String,customTitleProps:Ct()}),Et=V({compatConfig:{MODE:3},name:"AAnchorLink",inheritAttrs:!1,props:ze(qn(),{href:"#"}),slots:Object,setup(e,n){let{slots:t,attrs:o}=n,r=null;const{handleClick:a,scrollTo:u,unregisterLink:h,registerLink:v,activeLink:f}=Hn(),{prefixCls:c}=te("anchor",e),b=d=>{const{href:y}=e;a(d,{title:r,href:y}),u(y)};return he(()=>e.href,(d,y)=>{be(()=>{h(y),v(d)})}),Pe(()=>{v(e.href)}),Ce(()=>{h(e.href)}),()=>{var d;const{href:y,target:B,title:x=t.title,customTitleProps:S={}}=e,m=c.value;r=typeof x=="function"?x(S):x;const $=f.value===y,P=Y(`${m}-link`,{[`${m}-link-active`]:$},o.class),A=Y(`${m}-link-title`,{[`${m}-link-title-active`]:$});return i("div",H(H({},o),{},{class:P}),[i("a",{class:A,href:y,title:typeof r=="string"?r:"",target:B,onClick:b},[t.customTitle?t.customTitle(S):r]),(d=t.default)===null||d===void 0?void 0:d.call(t)])}}});function Wn(){return window}function ut(e,n){if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect();return t.width||t.height?n===window?(n=e.ownerDocument.documentElement,t.top-n.clientTop):t.top-n.getBoundingClientRect().top:t.top}const dt=/#([\S ]+)$/,Vn=()=>({prefixCls:String,offsetTop:Number,bounds:Number,affix:{type:Boolean,default:!0},showInkInFixed:{type:Boolean,default:!1},getContainer:Function,wrapperClass:String,wrapperStyle:{type:Object,default:void 0},getCurrentAnchor:Function,targetOffset:Number,items:Yt(),direction:q.oneOf(["vertical","horizontal"]).def("vertical"),onChange:Function,onClick:Function}),ce=V({compatConfig:{MODE:3},name:"AAnchor",inheritAttrs:!1,props:Vn(),setup(e,n){let{emit:t,attrs:o,slots:r,expose:a}=n;const{prefixCls:u,getTargetContainer:h,direction:v}=te("anchor",e),f=L(()=>{var s;return(s=e.direction)!==null&&s!==void 0?s:"vertical"}),c=M(null),b=M(),d=Q({links:[],scrollContainer:null,scrollEvent:null,animating:!1}),y=M(null),B=L(()=>{const{getContainer:s}=e;return s||(h==null?void 0:h.value)||Wn}),x=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;const p=[],C=B.value();return d.links.forEach(g=>{const T=dt.exec(g.toString());if(!T)return;const D=document.getElementById(T[1]);if(D){const k=ut(D,C);k<s+_&&p.push({link:g,top:k})}}),p.length?p.reduce((T,D)=>D.top>T.top?D:T).link:""},S=s=>{const{getCurrentAnchor:_}=e;y.value!==s&&(y.value=typeof _=="function"?_(s):s,t("change",s))},m=s=>{const{offsetTop:_,targetOffset:p}=e;S(s);const C=dt.exec(s);if(!C)return;const g=document.getElementById(C[1]);if(!g)return;const T=B.value(),D=Ue(T),k=ut(g,T);let E=D+k;E-=p!==void 0?p:_||0,d.animating=!0,Pt(E,{callback:()=>{d.animating=!1},getContainer:B.value})};a({scrollTo:m});const $=()=>{if(d.animating)return;const{offsetTop:s,bounds:_,targetOffset:p}=e,C=x(p!==void 0?p:s||0,_);S(C)},P=()=>{const s=b.value.querySelector(`.${u.value}-link-title-active`);if(s&&c.value){const _=f.value==="horizontal";c.value.style.top=_?"":`${s.offsetTop+s.clientHeight/2}px`,c.value.style.height=_?"":`${s.clientHeight}px`,c.value.style.left=_?`${s.offsetLeft}px`:"",c.value.style.width=_?`${s.clientWidth}px`:"",_&&In(s,{scrollMode:"if-needed",block:"nearest"})}};Nn({registerLink:s=>{d.links.includes(s)||d.links.push(s)},unregisterLink:s=>{const _=d.links.indexOf(s);_!==-1&&d.links.splice(_,1)},activeLink:y,scrollTo:m,handleClick:(s,_)=>{t("click",s,_)},direction:f}),Pe(()=>{be(()=>{const s=B.value();d.scrollContainer=s,d.scrollEvent=it(d.scrollContainer,"scroll",$),$()})}),Ce(()=>{d.scrollEvent&&d.scrollEvent.remove()}),Vt(()=>{if(d.scrollEvent){const s=B.value();d.scrollContainer!==s&&(d.scrollContainer=s,d.scrollEvent.remove(),d.scrollEvent=it(d.scrollContainer,"scroll",$),$())}P()});const A=s=>Array.isArray(s)?s.map(_=>{const{children:p,key:C,href:g,target:T,class:D,style:k,title:E}=_;return i(Et,{key:C,href:g,target:T,class:D,style:k,title:E,customTitleProps:_},{default:()=>[f.value==="vertical"?A(p):null],customTitle:r.customTitle})}):null,[w,l]=jn(u);return()=>{var s;const{offsetTop:_,affix:p,showInkInFixed:C}=e,g=u.value,T=Y(`${g}-ink`,{[`${g}-ink-visible`]:y.value}),D=Y(l.value,e.wrapperClass,`${g}-wrapper`,{[`${g}-wrapper-horizontal`]:f.value==="horizontal",[`${g}-rtl`]:v.value==="rtl"}),k=Y(g,{[`${g}-fixed`]:!p&&!C}),E=I({maxHeight:_?`calc(100vh - ${_}px)`:"100vh"},e.wrapperStyle),F=i("div",{class:D,style:E,ref:b},[i("div",{class:k},[i("span",{class:T,ref:c},null),Array.isArray(e.items)?A(e.items):(s=r.default)===null||s===void 0?void 0:s.call(r)])]);return w(p?i(Gt,H(H({},o),{},{offsetTop:_,target:B.value}),{default:()=>[F]}):F)}}});ce.Link=Et;ce.install=function(e){return e.component(ce.name,ce),e.component(ce.Link.name,ce.Link),e};const Be=(e,n,t,o,r)=>({backgroundColor:e,border:`${o.lineWidth}px ${o.lineType} ${n}`,[`${r}-icon`]:{color:t}}),Gn=e=>{const{componentCls:n,motionDurationSlow:t,marginXS:o,marginSM:r,fontSize:a,fontSizeLG:u,lineHeight:h,borderRadiusLG:v,motionEaseInOutCirc:f,alertIconSizeLG:c,colorText:b,paddingContentVerticalSM:d,alertPaddingHorizontal:y,paddingMD:B,paddingContentHorizontalLG:x}=e;return{[n]:I(I({},pe(e)),{position:"relative",display:"flex",alignItems:"center",padding:`${d}px ${y}px`,wordWrap:"break-word",borderRadius:v,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:a,lineHeight:h},"&-message":{color:b},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${f}, opacity ${t} ${f},
        padding-top ${t} ${f}, padding-bottom ${t} ${f},
        margin-bottom ${t} ${f}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",paddingInline:x,paddingBlock:B,[`${n}-icon`]:{marginInlineEnd:r,fontSize:c,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:o,color:b,fontSize:u},[`${n}-description`]:{display:"block"}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Yn=e=>{const{componentCls:n,colorSuccess:t,colorSuccessBorder:o,colorSuccessBg:r,colorWarning:a,colorWarningBorder:u,colorWarningBg:h,colorError:v,colorErrorBorder:f,colorErrorBg:c,colorInfo:b,colorInfoBorder:d,colorInfoBg:y}=e;return{[n]:{"&-success":Be(r,o,t,e,n),"&-info":Be(y,d,b,e,n),"&-warning":Be(h,u,a,e,n),"&-error":I(I({},Be(c,f,v,e,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},Xn=e=>{const{componentCls:n,iconCls:t,motionDurationMid:o,marginXS:r,fontSizeIcon:a,colorIcon:u,colorIconHover:h}=e;return{[n]:{"&-action":{marginInlineStart:r},[`${n}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:a,lineHeight:`${a}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:u,transition:`color ${o}`,"&:hover":{color:h}}},"&-close-text":{color:u,transition:`color ${o}`,"&:hover":{color:h}}}}},Zn=e=>[Gn(e),Yn(e),Xn(e)],Un=$e("Alert",e=>{const{fontSizeHeading3:n}=e,t=_e(e,{alertIconSizeLG:n,alertPaddingHorizontal:12});return[Zn(t)]}),Jn={success:Ut,info:Jt,error:Qt,warning:Kt},Qn={success:en,info:tn,error:nn,warning:on},Kn=Xt("success","info","warning","error"),eo=()=>({type:q.oneOf(Kn),closable:{type:Boolean,default:void 0},closeText:q.any,message:q.any,description:q.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:q.any,closeIcon:q.any,onClose:Function}),to=V({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:eo(),setup(e,n){let{slots:t,emit:o,attrs:r,expose:a}=n;const{prefixCls:u,direction:h}=te("alert",e),[v,f]=Un(u),c=we(!1),b=we(!1),d=we(),y=m=>{m.preventDefault();const $=d.value;$.style.height=`${$.offsetHeight}px`,$.style.height=`${$.offsetHeight}px`,c.value=!0,o("close",m)},B=()=>{var m;c.value=!1,b.value=!0,(m=e.afterClose)===null||m===void 0||m.call(e)},x=L(()=>{const{type:m}=e;return m!==void 0?m:e.banner?"warning":"info"});a({animationEnd:B});const S=we({});return()=>{var m,$,P,A,w,l,s,_,p,C;const{banner:g,closeIcon:T=(m=t.closeIcon)===null||m===void 0?void 0:m.call(t)}=e;let{closable:D,showIcon:k}=e;const E=($=e.closeText)!==null&&$!==void 0?$:(P=t.closeText)===null||P===void 0?void 0:P.call(t),F=(A=e.description)!==null&&A!==void 0?A:(w=t.description)===null||w===void 0?void 0:w.call(t),J=(l=e.message)!==null&&l!==void 0?l:(s=t.message)===null||s===void 0?void 0:s.call(t),X=(_=e.icon)!==null&&_!==void 0?_:(p=t.icon)===null||p===void 0?void 0:p.call(t),oe=(C=t.action)===null||C===void 0?void 0:C.call(t);k=g&&k===void 0?!0:k;const le=(F?Qn:Jn)[x.value]||null;E&&(D=!0);const N=u.value,G=Y(N,{[`${N}-${x.value}`]:!0,[`${N}-closing`]:c.value,[`${N}-with-description`]:!!F,[`${N}-no-icon`]:!k,[`${N}-banner`]:!!g,[`${N}-closable`]:D,[`${N}-rtl`]:h.value==="rtl",[f.value]:!0}),Z=D?i("button",{type:"button",onClick:y,class:`${N}-close-icon`,tabindex:0},[E?i("span",{class:`${N}-close-text`},[E]):T===void 0?i(St,null,null):T]):null,K=X&&(Zt(X)?We(X,{class:`${N}-icon`}):i("span",{class:`${N}-icon`},[X]))||i(le,{class:`${N}-icon`},null),ee=De(`${N}-motion`,{appear:!1,css:!0,onAfterLeave:B,onBeforeLeave:Se=>{Se.style.maxHeight=`${Se.offsetHeight}px`},onLeave:Se=>{Se.style.maxHeight="0px"}});return v(b.value?null:i(Le,ee,{default:()=>[Ee(i("div",H(H({role:"alert"},r),{},{style:[r.style,S.value],class:[r.class,G],"data-show":!c.value,ref:d}),[k?K:null,i("div",{class:`${N}-content`},[J?i("div",{class:`${N}-message`},[J]):null,F?i("div",{class:`${N}-description`},[F]):null]),oe?i("div",{class:`${N}-action`},[oe]):null,Z]),[[Me,!c.value]])]}))}}}),no=wt(to);function mt(e){let{prefixCls:n,value:t,current:o,offset:r=0}=e,a;return r&&(a={position:"absolute",top:`${r}00%`,left:0}),i("p",{style:a,class:Y(`${n}-only-unit`,{current:o})},[t])}function oo(e,n,t){let o=e,r=0;for(;(o+10)%10!==n;)o+=t,r+=t;return r}const ro=V({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup(e){const n=L(()=>Number(e.value)),t=L(()=>Math.abs(e.count)),o=Q({prevValue:n.value,prevCount:t.value}),r=()=>{o.prevValue=n.value,o.prevCount=t.value},a=M();return he(n,()=>{clearTimeout(a.value),a.value=setTimeout(()=>{r()},1e3)},{flush:"post"}),rn(()=>{clearTimeout(a.value)}),()=>{let u,h={};const v=n.value;if(o.prevValue===v||Number.isNaN(v)||Number.isNaN(o.prevValue))u=[mt(I(I({},e),{current:!0}))],h={transition:"none"};else{u=[];const f=v+10,c=[];for(let y=v;y<=f;y+=1)c.push(y);const b=c.findIndex(y=>y%10===o.prevValue);u=c.map((y,B)=>{const x=y%10;return mt(I(I({},e),{value:x,offset:B-b,current:B===b}))});const d=o.prevCount<t.value?1:-1;h={transform:`translateY(${-oo(o.prevValue,v,d)}00%)`}}return i("span",{class:`${e.prefixCls}-only`,style:h,onTransitionend:()=>r()},[u])}}});var ao=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};const io={prefixCls:String,count:q.any,component:String,title:q.any,show:Boolean},lo=V({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:io,setup(e,n){let{attrs:t,slots:o}=n;const{prefixCls:r}=te("scroll-number",e);return()=>{var a;const u=I(I({},e),t),{prefixCls:h,count:v,title:f,show:c,component:b="sup",class:d,style:y}=u,B=ao(u,["prefixCls","count","title","show","component","class","style"]),x=I(I({},B),{style:y,"data-show":e.show,class:Y(r.value,d),title:f});let S=v;if(v&&Number(v)%1===0){const $=String(v).split("");S=$.map((P,A)=>i(ro,{prefixCls:r.value,count:Number(v),value:P,key:$.length-A},null))}y&&y.borderColor&&(x.style=I(I({},y),{boxShadow:`0 0 0 1px ${y.borderColor} inset`}));const m=xt((a=o.default)===null||a===void 0?void 0:a.call(o));return m&&m.length?We(m,{class:Y(`${r.value}-custom-component`)},!1):i(b,x,{default:()=>[S]})}}}),so=new ie("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),co=new ie("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),uo=new ie("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),mo=new ie("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),fo=new ie("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),po=new ie("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),go=e=>{const{componentCls:n,iconCls:t,antCls:o,badgeFontHeight:r,badgeShadowSize:a,badgeHeightSm:u,motionDurationSlow:h,badgeStatusSize:v,marginXS:f,badgeRibbonOffset:c}=e,b=`${o}-scroll-number`,d=`${o}-ribbon`,y=`${o}-ribbon-wrapper`,B=lt(e,(S,m)=>{let{darkColor:$}=m;return{[`&${n} ${n}-color-${S}`]:{background:$,[`&:not(${n}-count)`]:{color:$}}}}),x=lt(e,(S,m)=>{let{darkColor:$}=m;return{[`&${d}-color-${S}`]:{background:$,color:$}}});return{[n]:I(I(I(I({},pe(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${n}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${a}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${n}-count-sm`]:{minWidth:u,height:u,fontSize:e.badgeFontSizeSm,lineHeight:`${u}px`,borderRadius:u/2},[`${n}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${n}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${a}px ${e.badgeShadowColor}`},[`${n}-dot${b}`]:{transition:`background ${h}`},[`${n}-count, ${n}-dot, ${b}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${t}-spin`]:{animationName:po,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${n}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${n}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:v,height:v,verticalAlign:"middle",borderRadius:"50%"},[`${n}-status-success`]:{backgroundColor:e.colorSuccess},[`${n}-status-processing`]:{overflow:"visible",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:a,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:so,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${n}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${n}-status-error`]:{backgroundColor:e.colorError},[`${n}-status-warning`]:{backgroundColor:e.colorWarning},[`${n}-status-text`]:{marginInlineStart:f,color:e.colorText,fontSize:e.fontSize}}}),B),{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:co,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${n}-zoom-leave`]:{animationName:uo,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${n}-not-a-wrapper`]:{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:mo,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${n}-zoom-leave`]:{animationName:fo,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${n}-status)`]:{verticalAlign:"middle"},[`${b}-custom-component, ${n}-count`]:{transform:"none"},[`${b}-custom-component, ${b}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${b}`]:{overflow:"hidden",[`${b}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${b}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${b}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${n}-count, ${n}-dot, ${b}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${y}`]:{position:"relative"},[`${d}`]:I(I(I(I({},pe(e)),{position:"absolute",top:f,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${r}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${d}-text`]:{color:e.colorTextLightSolid},[`${d}-corner`]:{position:"absolute",top:"100%",width:c,height:c,color:"currentcolor",border:`${c/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),x),{[`&${d}-placement-end`]:{insetInlineEnd:-c,borderEndEndRadius:0,[`${d}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${d}-placement-start`]:{insetInlineStart:-c,borderEndStartRadius:0,[`${d}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Mt=$e("Badge",e=>{const{fontSize:n,lineHeight:t,fontSizeSM:o,lineWidth:r,marginXS:a,colorBorderBg:u}=e,h=Math.round(n*t),v=r,f="auto",c=h-2*v,b=e.colorBgContainer,d="normal",y=o,B=e.colorError,x=e.colorErrorHover,S=n,m=o/2,$=o,P=o/2,A=_e(e,{badgeFontHeight:h,badgeShadowSize:v,badgeZIndex:f,badgeHeight:c,badgeTextColor:b,badgeFontWeight:d,badgeFontSize:y,badgeColor:B,badgeColorHover:x,badgeShadowColor:u,badgeHeightSm:S,badgeDotSize:m,badgeFontSizeSm:$,badgeStatusSize:P,badgeProcessingDuration:"1.2s",badgeRibbonOffset:a,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[go(A)]});var ho=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};const vo=()=>({prefix:String,color:{type:String},text:q.any,placement:{type:String,default:"end"}}),je=V({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:vo(),slots:Object,setup(e,n){let{attrs:t,slots:o}=n;const{prefixCls:r,direction:a}=te("ribbon",e),[u,h]=Mt(r),v=L(()=>Bt(e.color,!1)),f=L(()=>[r.value,`${r.value}-placement-${e.placement}`,{[`${r.value}-rtl`]:a.value==="rtl",[`${r.value}-color-${e.color}`]:v.value}]);return()=>{var c,b;const{class:d,style:y}=t,B=ho(t,["class","style"]),x={},S={};return e.color&&!v.value&&(x.background=e.color,S.color=e.color),u(i("div",H({class:`${r.value}-wrapper ${h.value}`},B),[(c=o.default)===null||c===void 0?void 0:c.call(o),i("div",{class:[f.value,d,h.value],style:I(I({},x),y)},[i("span",{class:`${r.value}-text`},[e.text||((b=o.text)===null||b===void 0?void 0:b.call(o))]),i("div",{class:`${r.value}-corner`,style:S},null)])]))}}}),bo=e=>!isNaN(parseFloat(e))&&isFinite(e),yo=()=>({count:q.any.def(null),showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:q.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}),Oe=V({compatConfig:{MODE:3},name:"ABadge",Ribbon:je,inheritAttrs:!1,props:yo(),slots:Object,setup(e,n){let{slots:t,attrs:o}=n;const{prefixCls:r,direction:a}=te("badge",e),[u,h]=Mt(r),v=L(()=>e.count>e.overflowCount?`${e.overflowCount}+`:e.count),f=L(()=>v.value==="0"||v.value===0),c=L(()=>e.count===null||f.value&&!e.showZero),b=L(()=>(e.status!==null&&e.status!==void 0||e.color!==null&&e.color!==void 0)&&c.value),d=L(()=>e.dot&&!f.value),y=L(()=>d.value?"":v.value),B=L(()=>(y.value===null||y.value===void 0||y.value===""||f.value&&!e.showZero)&&!d.value),x=M(e.count),S=M(y.value),m=M(d.value);he([()=>e.count,y,d],()=>{B.value||(x.value=e.count,S.value=y.value,m.value=d.value)},{immediate:!0});const $=L(()=>Bt(e.color,!1)),P=L(()=>({[`${r.value}-status-dot`]:b.value,[`${r.value}-status-${e.status}`]:!!e.status,[`${r.value}-color-${e.color}`]:$.value})),A=L(()=>e.color&&!$.value?{background:e.color,color:e.color}:{}),w=L(()=>({[`${r.value}-dot`]:m.value,[`${r.value}-count`]:!m.value,[`${r.value}-count-sm`]:e.size==="small",[`${r.value}-multiple-words`]:!m.value&&S.value&&S.value.toString().length>1,[`${r.value}-status-${e.status}`]:!!e.status,[`${r.value}-color-${e.color}`]:$.value}));return()=>{var l,s;const{offset:_,title:p,color:C}=e,g=o.style,T=an(t,e,"text"),D=r.value,k=x.value;let E=Ot((l=t.default)===null||l===void 0?void 0:l.call(t));E=E.length?E:null;const F=!!(!B.value||t.count),J=(()=>{if(!_)return I({},g);const K={marginTop:bo(_[1])?`${_[1]}px`:_[1]};return a.value==="rtl"?K.left=`${parseInt(_[0],10)}px`:K.right=`${-parseInt(_[0],10)}px`,I(I({},K),g)})(),X=p??(typeof k=="string"||typeof k=="number"?k:void 0),oe=F||!T?null:i("span",{class:`${D}-status-text`},[T]),le=typeof k=="object"||k===void 0&&t.count?We(k??((s=t.count)===null||s===void 0?void 0:s.call(t)),{style:J},!1):null,N=Y(D,{[`${D}-status`]:b.value,[`${D}-not-a-wrapper`]:!E,[`${D}-rtl`]:a.value==="rtl"},o.class,h.value);if(!E&&b.value){const K=J.color;return u(i("span",H(H({},o),{},{class:N,style:J}),[i("span",{class:P.value,style:A.value},null),i("span",{style:{color:K},class:`${D}-status-text`},[T])]))}const G=De(E?`${D}-zoom`:"",{appear:!1});let Z=I(I({},J),e.numberStyle);return C&&!$.value&&(Z=Z||{},Z.background=C),u(i("span",H(H({},o),{},{class:N}),[E,i(Le,G,{default:()=>[Ee(i(lo,{prefixCls:e.scrollNumberPrefixCls,show:F,class:w.value,count:S.value,title:X,style:Z,key:"scrollNumber"},{default:()=>[le]}),[[Me,F]])]}),oe]))}}});Oe.install=function(e){return e.component(Oe.name,Oe),e.component(je.name,je),e};const $o=e=>{const{componentCls:n,commentBg:t,commentPaddingBase:o,commentNestIndent:r,commentFontSizeBase:a,commentFontSizeSm:u,commentAuthorNameColor:h,commentAuthorTimeColor:v,commentActionColor:f,commentActionHoverColor:c,commentActionsMarginBottom:b,commentActionsMarginTop:d,commentContentDetailPMarginBottom:y}=e;return{[n]:{position:"relative",backgroundColor:t,[`${n}-inner`]:{display:"flex",padding:o},[`${n}-avatar`]:{position:"relative",flexShrink:0,marginRight:e.marginSM,cursor:"pointer",img:{width:"32px",height:"32px",borderRadius:"50%"}},[`${n}-content`]:{position:"relative",flex:"1 1 auto",minWidth:"1px",fontSize:a,wordWrap:"break-word","&-author":{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",marginBottom:e.marginXXS,fontSize:a,"& > a,& > span":{paddingRight:e.paddingXS,fontSize:u,lineHeight:"18px"},"&-name":{color:h,fontSize:a,transition:`color ${e.motionDurationSlow}`,"> *":{color:h,"&:hover":{color:h}}},"&-time":{color:v,whiteSpace:"nowrap",cursor:"auto"}},"&-detail p":{marginBottom:y,whiteSpace:"pre-wrap"}},[`${n}-actions`]:{marginTop:d,marginBottom:b,paddingLeft:0,"> li":{display:"inline-block",color:f,"> span":{marginRight:"10px",color:f,fontSize:u,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,userSelect:"none","&:hover":{color:c}}}},[`${n}-nested`]:{marginLeft:r},"&-rtl":{direction:"rtl"}}}},_o=$e("Comment",e=>{const n=_e(e,{commentBg:"inherit",commentPaddingBase:`${e.paddingMD}px 0`,commentNestIndent:"44px",commentFontSizeBase:e.fontSize,commentFontSizeSm:e.fontSizeSM,commentAuthorNameColor:e.colorTextTertiary,commentAuthorTimeColor:e.colorTextPlaceholder,commentActionColor:e.colorTextTertiary,commentActionHoverColor:e.colorTextSecondary,commentActionsMarginBottom:"inherit",commentActionsMarginTop:e.marginSM,commentContentDetailPMarginBottom:"inherit"});return[$o(n)]}),Co=()=>({actions:Array,author:q.any,avatar:q.any,content:q.any,prefixCls:String,datetime:q.any}),So=V({compatConfig:{MODE:3},name:"AComment",inheritAttrs:!1,props:Co(),slots:Object,setup(e,n){let{slots:t,attrs:o}=n;const{prefixCls:r,direction:a}=te("comment",e),[u,h]=_o(r),v=(c,b)=>i("div",{class:`${c}-nested`},[b]),f=c=>!c||!c.length?null:c.map((d,y)=>i("li",{key:`action-${y}`},[d]));return()=>{var c,b,d,y,B,x,S,m,$,P,A;const w=r.value,l=(c=e.actions)!==null&&c!==void 0?c:(b=t.actions)===null||b===void 0?void 0:b.call(t),s=(d=e.author)!==null&&d!==void 0?d:(y=t.author)===null||y===void 0?void 0:y.call(t),_=(B=e.avatar)!==null&&B!==void 0?B:(x=t.avatar)===null||x===void 0?void 0:x.call(t),p=(S=e.content)!==null&&S!==void 0?S:(m=t.content)===null||m===void 0?void 0:m.call(t),C=($=e.datetime)!==null&&$!==void 0?$:(P=t.datetime)===null||P===void 0?void 0:P.call(t),g=i("div",{class:`${w}-avatar`},[typeof _=="string"?i("img",{src:_,alt:"comment-avatar"},null):_]),T=l?i("ul",{class:`${w}-actions`},[f(Array.isArray(l)?l:[l])]):null,D=i("div",{class:`${w}-content-author`},[s&&i("span",{class:`${w}-content-author-name`},[s]),C&&i("span",{class:`${w}-content-author-time`},[C])]),k=i("div",{class:`${w}-content`},[D,i("div",{class:`${w}-content-detail`},[p]),T]),E=i("div",{class:`${w}-inner`},[g,k]),F=Ot((A=t.default)===null||A===void 0?void 0:A.call(t));return u(i("div",H(H({},o),{},{class:[w,{[`${w}-rtl`]:a.value==="rtl"},o.class,h.value]}),[E,F&&F.length?v(w,F):null]))}}}),Lt=wt(So);var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};function ft(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(r){xo(e,r,t[r])})}return e}function xo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var He=function(n,t){var o=ft({},n,t.attrs);return i(ve,ft({},o,{icon:wo}),null)};He.displayName="FileTextOutlined";He.inheritAttrs=!1;const Je=()=>({prefixCls:String,description:q.any,type:Ie("default"),shape:Ie("circle"),tooltip:q.any,href:String,target:String,badge:Ct(),onClick:ye()}),Bo=()=>({prefixCls:Ie()}),Oo=()=>I(I({},Je()),{trigger:Ie(),open:ln(),onOpenChange:ye(),"onUpdate:open":ye()}),Io=()=>I(I({},Je()),{prefixCls:String,duration:Number,target:ye(),visibilityHeight:Number,onClick:ye()}),ko=V({compatConfig:{MODE:3},name:"AFloatButtonContent",inheritAttrs:!1,props:Bo(),setup(e,n){let{attrs:t,slots:o}=n;return()=>{var r;const{prefixCls:a}=e,u=xt((r=o.description)===null||r===void 0?void 0:r.call(o));return i("div",H(H({},t),{},{class:[t.class,`${a}-content`]}),[o.icon||u.length?i(ge,null,[o.icon&&i("div",{class:`${a}-icon`},[o.icon()]),u.length?i("div",{class:`${a}-description`},[u]):null]):i("div",{class:`${a}-icon`},[i(He,null,null)])])}}}),Nt=Symbol("floatButtonGroupContext"),To=e=>($t(Nt,e),e),Ht=()=>_t(Nt,{shape:M()}),pt=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),Ao=e=>{const{componentCls:n,floatButtonSize:t,motionDurationSlow:o,motionEaseInOutCirc:r}=e,a=`${n}-group`,u=new ie("antFloatButtonMoveDownIn",{"0%":{transform:`translate3d(0, ${t}px, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),h=new ie("antFloatButtonMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${t}px, 0)`,transformOrigin:"0 0",opacity:0}});return[{[`${a}-wrap`]:I({},sn(`${a}-wrap`,u,h,o,!0))},{[`${a}-wrap`]:{[`
          &${a}-wrap-enter,
          &${a}-wrap-appear
        `]:{opacity:0,animationTimingFunction:r},[`&${a}-wrap-leave`]:{animationTimingFunction:r}}}]},zo=e=>{const{antCls:n,componentCls:t,floatButtonSize:o,margin:r,borderRadiusLG:a,borderRadiusSM:u,badgeOffset:h,floatButtonBodyPadding:v}=e,f=`${t}-group`;return{[f]:I(I({},pe(e)),{zIndex:99,display:"block",border:"none",position:"fixed",width:o,height:"auto",boxShadow:"none",minHeight:o,insetInlineEnd:e.floatButtonInsetInlineEnd,insetBlockEnd:e.floatButtonInsetBlockEnd,borderRadius:a,[`${f}-wrap`]:{zIndex:-1,display:"block",position:"relative",marginBottom:r},[`&${f}-rtl`]:{direction:"rtl"},[t]:{position:"static"}}),[`${f}-circle`]:{[`${t}-circle:not(:last-child)`]:{marginBottom:e.margin,[`${t}-body`]:{width:o,height:o,borderRadius:"50%"}}},[`${f}-square`]:{[`${t}-square`]:{borderRadius:0,padding:0,"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${n}-badge`]:{[`${n}-badge-count`]:{top:-(v+h),insetInlineEnd:-(v+h)}}},[`${f}-wrap`]:{display:"block",borderRadius:a,boxShadow:e.boxShadowSecondary,[`${t}-square`]:{boxShadow:"none",marginTop:0,borderRadius:0,padding:v,"&:first-child":{borderStartStartRadius:a,borderStartEndRadius:a},"&:last-child":{borderEndStartRadius:a,borderEndEndRadius:a},"&:not(:last-child)":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize}}}},[`${f}-circle-shadow`]:{boxShadow:"none"},[`${f}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${t}-square`]:{boxShadow:"none",padding:v,[`${t}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:u}}}}},Po=e=>{const{antCls:n,componentCls:t,floatButtonBodyPadding:o,floatButtonIconSize:r,floatButtonSize:a,borderRadiusLG:u,badgeOffset:h,dotOffsetInSquare:v,dotOffsetInCircle:f}=e;return{[t]:I(I({},pe(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:99,display:"block",justifyContent:"center",alignItems:"center",width:a,height:a,insetInlineEnd:e.floatButtonInsetInlineEnd,insetBlockEnd:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${n}-badge`]:{width:"100%",height:"100%",[`${n}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:-h,insetInlineEnd:-h}},[`${t}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${t}-content`]:{overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${o/2}px ${o}px`,[`${t}-icon`]:{textAlign:"center",margin:"auto",width:r,fontSize:r,lineHeight:1}}}}),[`${t}-rtl`]:{direction:"rtl"},[`${t}-circle`]:{height:a,borderRadius:"50%",[`${n}-badge`]:{[`${n}-badge-dot`]:{top:f,insetInlineEnd:f}},[`${t}-body`]:{borderRadius:"50%"}},[`${t}-square`]:{height:"auto",minHeight:a,borderRadius:u,[`${n}-badge`]:{[`${n}-badge-dot`]:{top:v,insetInlineEnd:v}},[`${t}-body`]:{height:"auto",borderRadius:u}},[`${t}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${t}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${t}-content`]:{[`${t}-icon`]:{color:e.colorText},[`${t}-description`]:{display:"flex",alignItems:"center",lineHeight:`${e.fontSizeLG}px`,color:e.colorText,fontSize:e.fontSizeSM}}}},[`${t}-primary`]:{backgroundColor:e.colorPrimary,[`${t}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${t}-content`]:{[`${t}-icon`]:{color:e.colorTextLightSolid},[`${t}-description`]:{display:"flex",alignItems:"center",lineHeight:`${e.fontSizeLG}px`,color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},Qe=$e("FloatButton",e=>{const{colorTextLightSolid:n,colorBgElevated:t,controlHeightLG:o,marginXXL:r,marginLG:a,fontSize:u,fontSizeIcon:h,controlItemBgHover:v,paddingXXS:f,borderRadiusLG:c}=e,b=_e(e,{floatButtonBackgroundColor:t,floatButtonColor:n,floatButtonHoverBackgroundColor:v,floatButtonFontSize:u,floatButtonIconSize:h*1.5,floatButtonSize:o,floatButtonInsetBlockEnd:r,floatButtonInsetInlineEnd:a,floatButtonBodySize:o-f*2,floatButtonBodyPadding:f,badgeOffset:f*1.5,dotOffsetInCircle:pt(o/2),dotOffsetInSquare:pt(c)});return[zo(b),Po(b),En(e),Ao(b)]});var Do=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};const Ke="float-btn",ae=V({compatConfig:{MODE:3},name:"AFloatButton",inheritAttrs:!1,props:ze(Je(),{type:"default",shape:"circle"}),setup(e,n){let{attrs:t,slots:o}=n;const{prefixCls:r,direction:a}=te(Ke,e),[u,h]=Qe(r),{shape:v}=Ht(),f=M(null),c=L(()=>(v==null?void 0:v.value)||e.shape);return()=>{var b;const{prefixCls:d,type:y="default",shape:B="circle",description:x=(b=o.description)===null||b===void 0?void 0:b.call(o),tooltip:S,badge:m={}}=e,$=Do(e,["prefixCls","type","shape","description","tooltip","badge"]),P=Y(r.value,`${r.value}-${y}`,`${r.value}-${c.value}`,{[`${r.value}-rtl`]:a.value==="rtl"},t.class,h.value),A=i(Ne,{placement:"left"},{title:o.tooltip||S?()=>o.tooltip&&o.tooltip()||S:void 0,default:()=>i(Oe,m,{default:()=>[i("div",{class:`${r.value}-body`},[i(ko,{prefixCls:r.value},{icon:o.icon,description:()=>x})])]})});return u(e.href?i("a",H(H(H({ref:f},t),$),{},{class:P}),[A]):i("button",H(H(H({ref:f},t),$),{},{class:P,type:"button"}),[A]))}}}),ke=V({compatConfig:{MODE:3},name:"AFloatButtonGroup",inheritAttrs:!1,props:ze(Oo(),{type:"default",shape:"circle"}),setup(e,n){let{attrs:t,slots:o,emit:r}=n;const{prefixCls:a,direction:u}=te(Ke,e),[h,v]=Qe(a),[f,c]=Mn(!1,{value:L(()=>e.open)}),b=M(null),d=M(null);To({shape:L(()=>e.shape)});const y={onMouseenter(){var m;c(!0),r("update:open",!0),(m=e.onOpenChange)===null||m===void 0||m.call(e,!0)},onMouseleave(){var m;c(!1),r("update:open",!1),(m=e.onOpenChange)===null||m===void 0||m.call(e,!1)}},B=L(()=>e.trigger==="hover"?y:{}),x=()=>{var m;const $=!f.value;r("update:open",$),(m=e.onOpenChange)===null||m===void 0||m.call(e,$),c($)},S=m=>{var $,P,A;if(!(($=b.value)===null||$===void 0)&&$.contains(m.target)){!((P=un(d.value))===null||P===void 0)&&P.contains(m.target)&&x();return}c(!1),r("update:open",!1),(A=e.onOpenChange)===null||A===void 0||A.call(e,!1)};return he(L(()=>e.trigger),m=>{cn()&&(document.removeEventListener("click",S),m==="click"&&document.addEventListener("click",S))},{immediate:!0}),Ce(()=>{document.removeEventListener("click",S)}),()=>{var m;const{shape:$="circle",type:P="default",tooltip:A,description:w,trigger:l}=e,s=`${a.value}-group`,_=Y(s,v.value,t.class,{[`${s}-rtl`]:u.value==="rtl",[`${s}-${$}`]:$,[`${s}-${$}-shadow`]:!l}),p=Y(v.value,`${s}-wrap`),C=De(`${s}-wrap`);return h(i("div",H(H({ref:b},t),{},{class:_},B.value),[l&&["click","hover"].includes(l)?i(ge,null,[i(Le,C,{default:()=>[Ee(i("div",{class:p},[o.default&&o.default()]),[[Me,f.value]])]}),i(ae,{ref:d,type:P,shape:$,tooltip:A,description:w},{icon:()=>{var g,T;return f.value?((g=o.closeIcon)===null||g===void 0?void 0:g.call(o))||i(St,null,null):((T=o.icon)===null||T===void 0?void 0:T.call(o))||i(He,null,null)},tooltip:o.tooltip,description:o.description})]):(m=o.default)===null||m===void 0?void 0:m.call(o)]))}}});var Eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};function gt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(r){Mo(e,r,t[r])})}return e}function Mo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var et=function(n,t){var o=gt({},n,t.attrs);return i(ve,gt({},o,{icon:Eo}),null)};et.displayName="VerticalAlignTopOutlined";et.inheritAttrs=!1;const Te=V({compatConfig:{MODE:3},name:"ABackTop",inheritAttrs:!1,props:ze(Io(),{visibilityHeight:400,target:()=>window,duration:450,type:"default",shape:"circle"}),setup(e,n){let{slots:t,attrs:o,emit:r}=n;const{prefixCls:a,direction:u}=te(Ke,e),[h]=Qe(a),v=M(),f=Q({visible:e.visibilityHeight===0,scrollEvent:null}),c=()=>v.value&&v.value.ownerDocument?v.value.ownerDocument:window,b=S=>{const{target:m=c,duration:$}=e;Pt(0,{getContainer:m,duration:$}),r("click",S)},d=fn(S=>{const{visibilityHeight:m}=e,$=Ue(S.target);f.visible=$>=m}),y=()=>{const{target:S}=e,$=(S||c)();d({target:$}),$==null||$.addEventListener("scroll",d)},B=()=>{const{target:S}=e,$=(S||c)();d.cancel(),$==null||$.removeEventListener("scroll",d)};he(()=>e.target,()=>{B(),be(()=>{y()})}),Pe(()=>{be(()=>{y()})}),dn(()=>{be(()=>{y()})}),mn(()=>{B()}),Ce(()=>{B()});const x=Ht();return()=>{const{description:S,type:m,shape:$,tooltip:P,badge:A}=e,w=I(I({},o),{shape:(x==null?void 0:x.shape.value)||$,onClick:b,class:{[`${a.value}`]:!0,[`${o.class}`]:o.class,[`${a.value}-rtl`]:u.value==="rtl"},description:S,type:m,tooltip:P,badge:A}),l=De("fade");return h(i(Le,l,{default:()=>[Ee(i(ae,H(H({},w),{},{ref:v}),{icon:()=>{var s;return((s=t.icon)===null||s===void 0?void 0:s.call(t))||i(et,null,null)}}),[[Me,f.visible]])]}))}}});ae.Group=ke;ae.BackTop=Te;ae.install=function(e){return e.component(ae.name,ae),e.component(ke.name,ke),e.component(Te.name,Te),e};var Lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H273v428h.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32z"}}]},name:"dislike",theme:"filled"};function ht(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(r){No(e,r,t[r])})}return e}function No(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var tt=function(n,t){var o=ht({},n,t.attrs);return i(ve,ht({},o,{icon:Lo}),null)};tt.displayName="DislikeFilled";tt.inheritAttrs=!1;var Ho={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"};function vt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(r){Ro(e,r,t[r])})}return e}function Ro(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var nt=function(n,t){var o=vt({},n,t.attrs);return i(ve,vt({},o,{icon:Ho}),null)};nt.displayName="DislikeOutlined";nt.inheritAttrs=!1;var Fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"};function bt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(r){jo(e,r,t[r])})}return e}function jo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ot=function(n,t){var o=bt({},n,t.attrs);return i(ve,bt({},o,{icon:Fo}),null)};ot.displayName="LikeFilled";ot.inheritAttrs=!1;var qo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function yt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),o.forEach(function(r){Wo(e,r,t[r])})}return e}function Wo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var rt=function(n,t){var o=yt({},n,t.attrs);return i(ve,yt({},o,{icon:qo}),null)};rt.displayName="SendOutlined";rt.inheritAttrs=!1;const Vo=(e,n)=>{const t=[],r=new DOMParser().parseFromString(e,"text/html"),a=Array.from(r.querySelectorAll("h1, h2, h3, h4, h5, h6"));let u=1;const h=[];return a.forEach(v=>{const f=parseInt(v.tagName.slice(1)),c={key:u++,title:v.textContent,href:"#"+v.getAttribute("data-v-md-line"),lineIndex:v.getAttribute("data-v-md-line"),children:[]};for(;h.length>0&&h[h.length-1].level>=f;)h.pop();h.length===0?t.push(c):h[h.length-1].item.children.push(c),h.push({level:f,item:c})}),t},ue=class ue{constructor(){se(this,"collection","comment");se(this,"request");this.request=new Tt}static getInstance(){return ue.instance||(ue.instance=new ue),ue.instance}async findCommentById(n){try{const t=await this.request.get(`/comment/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async findComments(n={},t={current:1,size:10}){try{const o=await this.request.get("/comment",{params:{...n,...t}});return o.code==200?{success:!0,data:{comments:o.data.data,pagination:o.data.pagination}}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async findChildComments(n,t={current:1,size:10}){try{const o=await this.request.get("/comment/child",{params:{...n,...t}});return o.code==200?{success:!0,data:{comments:o.data.data,pagination:o.data.pagination}}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async createComment(n){try{const t=await this.request.post("/comment",{data:n});return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async updateComment(n,t){try{const o=await this.request.put(`/comment/${n}`,{data:t});return o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async like(n,t){try{let o=null;return t===1?o=await this.request.put(`/comment/like/${n}`):o=await this.request.put(`/comment/cancel-like/${n}`),o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async dislike(n,t){try{let o=null;return t===1?o=await this.request.put(`/comment/dislike/${n}`):o=await this.request.put(`/comment/cancel-dislike/${n}`),o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async deleteById(n){try{const t=await this.request.delete(`/comment/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}};se(ue,"instance");let Ae=ue;const Go=["href"],Yo={key:"comment-basic-like"},Xo={style:{"padding-left":"8px",cursor:"auto"}},Zo={key:"comment-basic-dislike"},Uo={style:{"padding-left":"8px",cursor:"auto"}},Jo={key:0},Rt=V({__name:"index",props:{comment:{type:Object,default:{}},comment_interaction_list:{type:Object,default:[]}},emits:["replay","like","dislike","delete"],setup(e,{emit:n}){const t=n,o=e,r=Ve(),a=Q({...o.comment,children:[]}),u=M(!1),h=M(!1),v=Ae.getInstance(),f=M(!1),c=Q({current:1,size:3,total:0,pages:0}),b=(w,l=!1)=>{w&&t("like",w,l)},d=(w,l=!1)=>{w&&t("dislike",w,l)};function y(w){t("replay",w)}const B=L(()=>ct(o.comment.updatedAt).format("YYYY-MM-DD: HH-mm-ss")),x=L(()=>ct(o.comment.createdAt).fromNow()),S=w=>{for(let l of o.comment_interaction_list)if(l.commentId===w)return l.action==="like";return!1},m=w=>{for(let l of o.comment_interaction_list)if(l.commentId===w)return l.action==="dislike";return!1};function $(w){w&&t("delete",w)}function P(w){f.value?(c.current=1,w.children.splice(0,w.children.length)):(h.value=!0,v.findChildComments({parentComment:w._id},{current:c.current,size:c.size}).then(l=>{l.data&&(c.current=l.data.pagination.current,c.size=l.data.pagination.size,c.total=l.data.pagination.total,Array.isArray(w.children)||(w.children=[]),w.children.push(...l.data.comments.map(s=>({...s,children:[]}))))}).catch(l=>{z.error(l.message)}).finally(()=>h.value=!1)),f.value=!f.value}function A(w){c.current+=1,u.value=!0,v.findChildComments({parentComment:w._id},{current:c.current,size:c.size}).then(l=>{l.data&&(c.current=l.data.pagination.current,c.size=l.data.pagination.size,c.total=l.data.pagination.total,w.children.push(...l.data.comments.map(s=>({...s,children:[]}))))}).catch(l=>{z.error(l.message)}).finally(()=>u.value=!1)}return(w,l)=>{const s=At,_=Ne,p=Xe,C=no,g=Ze,T=Ye,D=Lt;return R(),W(D,{class:"comment"},{author:O(()=>{var k,E;return[re("a",{href:`#/user-info?use_id=${(k=a==null?void 0:a.author)==null?void 0:k.userId}`},ne((E=a==null?void 0:a.author)==null?void 0:E.username),9,Go)]}),avatar:O(()=>{var k,E;return[i(s,{src:(k=a.author)==null?void 0:k.avatar,alt:(E=a==null?void 0:a.author)==null?void 0:E.username},null,8,["src","alt"])]}),datetime:O(()=>[i(_,{title:B.value},{default:O(()=>[re("span",null,ne(x.value),1)]),_:1},8,["title"])]),actions:O(()=>{var k;return[re("span",Yo,[i(_,{title:"Like"},{default:O(()=>[S(a._id)?(R(),W(j(ot),{key:0,onClick:l[0]||(l[0]=()=>b(a._id,!0))})):(R(),W(j(Sn),{key:1,onClick:l[1]||(l[1]=()=>b(a._id))}))]),_:1}),re("span",Xo,ne(a.like),1)]),re("span",Zo,[i(_,{title:"Dislike"},{default:O(()=>[m(a._id)?(R(),W(j(tt),{key:0,onClick:l[2]||(l[2]=()=>d(a._id,!0))})):(R(),W(j(nt),{key:1,onClick:l[3]||(l[3]=()=>d(a._id))}))]),_:1}),re("span",Uo,ne(a.dislike),1)]),re("span",{key:"comment-nested-reply-to",onClick:l[4]||(l[4]=Re(E=>y(a),["prevent"]))},"回复"),j(r).user._id===((k=a.author)==null?void 0:k.userId)?(R(),me("span",{key:"comment-nested-delete",onClick:l[5]||(l[5]=Re(E=>$(a._id),["prevent"]))},"删除")):fe("",!0)]}),content:O(()=>[re("p",null,ne(a==null?void 0:a.content),1)]),default:O(()=>[i(g,{spinning:h.value},{default:O(()=>[a.childrenLen?(R(),W(C,{key:0,style:{color:"#666"},message:`Total replay: ${a.childrenLen}`,type:"info"},{action:O(()=>[i(p,{size:"small",type:"text",onClick:l[6]||(l[6]=()=>P(a))},{default:O(()=>[f.value?(R(),W(j(wn),{key:0})):(R(),W(j(Bn),{key:1}))]),_:1})]),_:1},8,["message"])):fe("",!0)]),_:1},8,["spinning"]),a.children&&a.children.length?(R(),me("div",Jo,[(R(!0),me(ge,null,Ge(a.children,k=>(R(),W(Rt,{key:k._id,comment:k,comment_interaction_list:e.comment_interaction_list,onReplay:y,onLike:b,onDislike:d},null,8,["comment","comment_interaction_list"]))),128)),i(g,{spinning:u.value},{default:O(()=>[a.children.length<c.total?(R(),W(T,{key:0,justify:"center"},{default:O(()=>[i(p,{type:"link",onClick:l[7]||(l[7]=k=>A(a))},{default:O(()=>l[8]||(l[8]=[U("加载更多")])),_:1})]),_:1})):fe("",!0)]),_:1},8,["spinning"])])):fe("",!0)]),_:1})}}}),de=class de{constructor(){se(this,"collection","commentInteraction");se(this,"request");this.request=new Tt}static getInstance(){return de.instance||(de.instance=new de),de.instance}async findCommentInteractionById(n){try{const t=await this.request.get(`/commentInteraction/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async findCommentInteractions(n={},t={current:1,size:10}){try{const o=await this.request.get("/commentInteraction",{params:{...n,...t}});return o.code==200?{success:!0,data:{commentInteractions:o.data.data,pagination:o.data.pagination}}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async findAllCommentInteractionsByFilter(n={}){try{const t=await this.request.get("/commentInteraction-all",{params:{...n}});return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async countCommentInteractionByArticleId(n){try{const t=await this.request.post(`/commentInteraction/count-article/${n}`);return t.code==200?{success:!0,data:t.data,message:t.message}:{success:!1,error:t.message,message:t.message}}catch(t){return{success:!1,error:t.message,message:t.message}}}async createCommentInteraction(n){try{const t=await this.request.post("/commentInteraction",{data:n});return t.code==200?{success:!0,data:t.data,message:t.message}:{success:!1,error:t.message,message:t.message}}catch(t){return{success:!1,error:t.message,message:t.message}}}async updateCommentInteraction(n,t){try{const o=await this.request.put(`/commentInteraction/${n}`,{data:t});return o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async deleteByCommentIdAndAction(n,t){try{const o=await this.request.delete(`/commentInteraction/${n}/${t}`);return o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async deleteById(n){try{const t=await this.request.delete(`/commentInteraction/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}};se(de,"instance");let qe=de;const Qo=V({__name:"index",props:{articleId:{type:String,required:!0}},setup(e){const n=e,t=Ve(),o=kt.getInstance(),r=Ae.getInstance(),a=qe.getInstance(),u=Q([]),h=M(!0),v=M(!1),f=M(null),c=M(null),b=M(null),d=Q([]),y=M(null),B=M(!1),x=Q({current:1,size:3,total:0,pages:0});function S(p=!1){p&&u.splice(0,u.length),h.value=!0,r.findChildComments({article:n.articleId,parentComment:""},{current:x.current,size:x.size}).then(C=>{var g,T;C.success?(u.push(...((g=C.data)==null?void 0:g.comments)||[]),(T=C.data)!=null&&T.pagination&&(x.current=C.data.pagination.current,x.size=C.data.pagination.size,x.total=C.data.pagination.total,x.pages=C.data.pagination.pages)):z.error(C.error)}).catch(C=>z.error(C.message)).finally(()=>h.value=!1)}function m(){d.splice(0,d.length),a.findAllCommentInteractionsByFilter({articleId:n.articleId,userId:t.user._id}).then(p=>{d.push(...p.data||[])})}Pe(()=>{S(!0),m()});function $(){x.current+=1,S()}function P(p){var C,g;b.value=p._id||null,y.value=((C=p==null?void 0:p.author)==null?void 0:C.username)||null,(g=c.value)==null||g.focus()}async function A(p,C){if(C)await r.like(p,-1).catch(g=>z.error(g.message)),a.deleteByCommentIdAndAction(p,"like").then(g=>{g.data?(z.success("Cancel like successfully!"),m(),S(!0)):z.error(g.message)}).catch(g=>z.error(g.message));else{for(let g of d)g.commentId===p&&g.action==="dislike"&&(await r.dislike(p,-1).catch(T=>z.error(T.message)),await a.deleteByCommentIdAndAction(p,"dislike"));await r.like(p,1),a.createCommentInteraction({userId:t.user._id,articleId:n.articleId,commentId:p,action:"like"}).then(g=>{g.data?(z.success(g.message),m(),S(!0)):z.error(g.message)}).catch(g=>z.error(g.message))}}async function w(p,C){if(C)await r.dislike(p,-1).catch(g=>z.error(g.message)),a.deleteByCommentIdAndAction(p,"dislike").then(g=>{g.data?(z.success("Cancel dislike successfully!"),m(),S(!0)):z.error(g.message)}).catch(g=>z.error(g.message));else{for(let g of d)g.commentId===p&&g.action==="like"&&(await r.like(p,-1).catch(T=>z.error(T.message)),await a.deleteByCommentIdAndAction(p,"like"));await r.dislike(p,1).catch(g=>z.error(g.message)),a.createCommentInteraction({userId:t.user._id,articleId:n.articleId,commentId:p,action:"dislike"}).then(g=>{g.data?(z.success("Dislike successfully!"),m(),S(!0)):z.error(g.message)}).catch(g=>z.error(g.message))}}async function l(p){r.deleteById(p).then(C=>{C.data?(o.deleteArticleCommentCount(n.articleId),z.success(C.message)):z.error(C.message)}).catch(C=>z.error(C.message))}function s(){y.value=null}function _(){f.value?(B.value=!0,r.createComment({article:n.articleId,content:f.value,parentComment:b.value||void 0,author:{userId:t.user._id,username:t.user.username,avatar:t.user.avatar||void 0}}).then(p=>{p.data?(o.addArticleCommentCount(n.articleId),z.success(p.message),y.value=null,f.value=null,b.value=null,S(!0)):z.error(p.message)}).catch(p=>z.error(p.message)).finally(()=>B.value=!1)):z.error("Please input your comment first before submit")}return(p,C)=>{const g=Xe,T=Ye,D=Ze,k=At,E=zt,F=_n,J=On,X=kn,oe=Ne,le=Tn,N=Lt;return R(),me(ge,null,[(R(!0),me(ge,null,Ge(u,G=>(R(),W(Rt,{key:G._id+"",comment:G,comment_interaction_list:d,onReplay:P,onLike:A,onDislike:w,onDelete:l},null,8,["comment","comment_interaction_list"]))),128)),i(D,{spinning:h.value},{default:O(()=>[u.length<x.total?(R(),W(T,{key:0,justify:"center"},{default:O(()=>[i(g,{type:"link",onClick:$},{default:O(()=>C[1]||(C[1]=[U("加载更多")])),_:1})]),_:1})):fe("",!0)]),_:1},8,["spinning"]),i(N,{class:"comment-input-container"},{avatar:O(()=>{var G,Z;return[i(k,{src:(G=j(t).user)==null?void 0:G.avatar,alt:(Z=j(t).user)==null?void 0:Z.username},null,8,["src","alt"])]}),content:O(()=>[y.value?(R(),W(T,{key:0,justify:"space-between",gap:10,class:"replay-placeholder"},{default:O(()=>[i(E,{type:"secondary"},{default:O(()=>[U("回复: "+ne(y.value),1)]),_:1}),i(F,{type:"secondary",class:"close",onClick:s},{default:O(()=>C[2]||(C[2]=[U("x")])),_:1})]),_:1})):fe("",!0),i(D,{spinning:B.value},{default:O(()=>[i(le,null,{default:O(()=>[i(X,null,{default:O(()=>[i(J,{value:f.value,"onUpdate:value":C[0]||(C[0]=G=>f.value=G),rows:4,placeholder:j(t).isAuthenticated?"Input your comment":"Login for comment",ref_key:"comment_ref",ref:c,disabled:!j(t).isAuthenticated},null,8,["value","placeholder","disabled"])]),_:1}),i(X,null,{default:O(()=>[i(oe,{title:j(t).isAuthenticated?"comment":"login for comment"},{default:O(()=>[i(g,{"html-type":"submit",loading:v.value,type:"primary",onClick:_,disabled:!j(t).isAuthenticated},{default:O(()=>C[3]||(C[3]=[U(" 添加评论 ")])),_:1},8,["loading","disabled"])]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1})],64)}}}),Ko=It(Qo,[["__scopeId","data-v-f6df1fa7"]]),er={key:0,class:"article-detail"},tr=V({__name:"index",setup(e){var w;const n=vn(),t=bn(),o=Ve(),r=Cn.getInstance(),a=kt.getInstance(),u=M(),h=M(),v=M(o.user),f=Q(o.tags),c=M(),b=Q([]);let d=M(!0);const y=Q([{path:"/",breadcrumbName:"Home"},{path:"/article",breadcrumbName:"Article"},{path:"/article-info",breadcrumbName:((w=u.value)==null?void 0:w.title)||""}]),B=M("");pn(async()=>{await a.findArticleById(n.query._id+"").then(l=>{var s;l.success&&(u.value=l.data||void 0,y[2].breadcrumbName=((s=u.value)==null?void 0:s.title)||""),l.success||z.error(l.error)}).catch(l=>{z.error(l.message)}).finally(()=>d.value=!1),u.value&&r.findUserInfoById(u.value.createdBy).then(l=>{l.success?h.value=l.data:z.error(l.error)}).catch(l=>z.error(l.message))}),he(c,(l,s)=>{var _;if(l){n.fullPath,b.push(...Vo(l.html));let p=(_=l.$el.children[0])==null?void 0:_.firstChild;p&&(B.value="#"+p.getAttribute("data-v-md-line"))}}),window.onscroll=()=>{var p,C;const l=window.scrollY,s=Array.from(((p=c.value)==null?void 0:p.$el.querySelectorAll("h1, h2, h3, h4, h5, h6"))||[]);let _=(C=s[0])==null?void 0:C.getAttribute("data-v-md-line");s.forEach(g=>{g.offsetTop<=l+50&&(_="#"+g.getAttribute("data-v-md-line"))}),B.value=_||""},Ce(()=>{window.onscroll=null});const x=()=>B.value;function S(l){var _;B.value=l.target.getAttribute("href")||"";const s=l.target.getAttribute("href")||"";if(s){const p=s.slice(1,s.length),C=(_=c.value)==null?void 0:_.$el.querySelector(`[data-v-md-line="${p}"]`);window.scrollTo({top:C.offsetTop,behavior:"smooth"})}}function m(){var l;t.push({path:"/publish",query:{_id:((l=u.value)==null?void 0:l._id)+"",type:"Article"}})}const $=()=>new Promise(async l=>{var s,_;(s=u.value)!=null&&s._id&&await a.deleteById((_=u.value)==null?void 0:_._id).then(p=>{console.log(p),p.success?(z.success("Delete article successfully!"),setTimeout(()=>{t.push("/article")},yn),l(!0)):l(!1)}).catch(p=>{l(p)})}),P=l=>{z.warning("Delete operation canceled")},A=()=>{navigator.clipboard.writeText(location.href),z.success("Copied the link")};return(l,s)=>{const _=Xe,p=zn,C=xn,g=Pn,T=zt,D=Ne,k=Ye,E=ce,F=gn("v-md-preview"),J=Dn,X=ae,oe=Te,le=ke,N=$n,G=Ze;return R(),W(G,{spinning:j(d)},{default:O(()=>{var Z,K;return[u.value?(R(),me("div",er,[i(g,{title:u.value.title,class:"article-detail-header",avatar:{src:(Z=h.value)==null?void 0:Z.avatar},breadcrumb:{routes:y},onBack:s[0]||(s[0]=()=>l.$router.go(-1))},hn({tags:O(()=>[(R(!0),me(ge,null,Ge(f,ee=>(R(),W(C,{color:"blue",key:ee._id},{default:O(()=>[U(ne(ee.name),1)]),_:2},1024))),128))]),_:2},[u.value.createdBy==((K=v.value)==null?void 0:K._id)?{name:"extra",fn:O(()=>[i(_,{type:"primary",onClick:m},{default:O(()=>s[1]||(s[1]=[U("修改")])),_:1}),i(p,{title:"Ready to delete?",onConfirm:$,onCancel:P},{default:O(()=>[i(_,{type:"primary",danger:""},{default:O(()=>s[2]||(s[2]=[U("删除")])),_:1})]),_:1})]),key:"0"}:void 0]),1032,["title","avatar","breadcrumb"]),i(k,{gap:"20",wrap:"wrap",class:"repository-function",justify:"flex-end"},{default:O(()=>[i(D,null,{title:O(()=>s[3]||(s[3]=[U("创建时间")])),default:O(()=>[i(T,{type:"secondary"},{default:O(()=>{var ee;return[U("创建于: "+ne(j(st)((ee=u.value)==null?void 0:ee.createdAt).format("YYYY-MM-DD")),1)]}),_:1})]),_:1}),i(D,null,{title:O(()=>s[4]||(s[4]=[U("更新时间")])),default:O(()=>[i(T,{type:"secondary"},{default:O(()=>{var ee;return[U("更新于: "+ne(j(st)((ee=u.value)==null?void 0:ee.updatedAt).format("YYYY-MM-DD")),1)]}),_:1})]),_:1})]),_:1}),i(E,{items:b,affix:!1,wrapperClass:"article-toc",onClick:Re(S,["prevent"]),"get-current-anchor":x},null,8,["items"]),i(F,{text:u.value.content,ref_key:"preview",ref:c},null,8,["text"]),i(J,{style:{height:"2px"}}),i(Ko,{"article-id":u.value._id+""},null,8,["article-id"]),i(le,{shape:"circle",style:{right:"24px"}},{default:O(()=>[i(X,null,{icon:O(()=>[i(j(An))]),_:1}),i(X,{onClick:A},{icon:O(()=>[i(j(rt))]),_:1}),i(oe,{"visibility-height":0})]),_:1})])):(R(),W(N,{key:1}))]}),_:1},8,["spinning"])}}}),Sr=It(tr,[["__scopeId","data-v-f1c2d1b6"]]);export{Sr as default};
