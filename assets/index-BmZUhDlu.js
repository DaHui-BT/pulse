import{d as Ke,aH as Wt,G as D,aI as Xt,ad as U,c as E,a9 as me,bu as Yt,_ as O,n as Jt,o as Zt,j as Qt,a as Z,at as fe,bv as Nn,al as Ge,aO as Dn,l as gt,h as se,ag as Ce,ai as Pn,J as ve,D as bt,k as $n,A as _n,B as Tn,af as In,F as An,i as mt,bw as Nt,b1 as Ln,aa as De,ab as $e,a7 as jn,am as Fn,be as Mn,g as Bn,ap as Hn,m as Rn,r as zn,bx as Dt,Z as Vn,u as en,W as Un,s as ft,e as ce,ac as Pe,f as Re,V as qn,p as tn,O as Gn,q as Wn,K as Xn,x as Yn}from"./index-SOpI9FpR.js";import{d as Jn}from"./debounce-Bgu7iTiv.js";import{p as nn,L as Zn}from"./List-ByU_8-H-.js";import{e as ue}from"./eagerComputed-B7P1C1Xq.js";import{g as Qn}from"./index-DUOUjr_d.js";import{T as eo}from"./Title-Dm-7efyC.js";import"./isSymbol-CW36MqQr.js";import"./Base-CHPoRBu2.js";import"./TextArea-CAlpz53q.js";import"./compact-item-BC1Pdjk_.js";const on=Symbol("TreeContextKey"),to=Ke({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Wt(on,D(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),Kt=()=>Xt(on,D(()=>({}))),an=Symbol("KeysStateKey"),no=e=>{Wt(an,e)},ln=()=>Xt(an,{expandedKeys:U([]),selectedKeys:U([]),loadedKeys:U([]),loadingKeys:U([]),checkedKeys:U([]),halfCheckedKeys:U([]),expandedKeysSet:D(()=>new Set),selectedKeysSet:D(()=>new Set),loadedKeysSet:D(()=>new Set),loadingKeysSet:D(()=>new Set),checkedKeysSet:D(()=>new Set),halfCheckedKeysSet:D(()=>new Set),flattenNodes:U([])}),oo=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const r=`${t}-indent-unit`,l=[];for(let s=0;s<n;s+=1)l.push(E("span",{key:s,class:{[r]:!0,[`${r}-start`]:o[s],[`${r}-end`]:a[s]}},null));return E("span",{"aria-hidden":"true",class:`${t}-indent`},[l])},rn={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},ao={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},sn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var lo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Pt="open",$t="close",ro="---",vt=Ke({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:rn,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;Yt(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(i=>"`v-slot:"+i+"` ")}instead`);const r=U(!1),l=Kt(),{expandedKeysSet:s,selectedKeysSet:h,loadedKeysSet:v,loadingKeysSet:b,checkedKeysSet:f,halfCheckedKeysSet:k}=ln(),{dragOverNodeKey:x,dropPosition:C,keyEntities:m}=l.value,c=D(()=>ze(e.eventKey,{expandedKeysSet:s.value,selectedKeysSet:h.value,loadedKeysSet:v.value,loadingKeysSet:b.value,checkedKeysSet:f.value,halfCheckedKeysSet:k.value,dragOverNodeKey:x,dropPosition:C,keyEntities:m})),K=ue(()=>c.value.expanded),A=ue(()=>c.value.selected),I=ue(()=>c.value.checked),$=ue(()=>c.value.loaded),_=ue(()=>c.value.loading),W=ue(()=>c.value.halfChecked),G=ue(()=>c.value.dragOver),j=ue(()=>c.value.dragOverGapTop),y=ue(()=>c.value.dragOverGapBottom),N=ue(()=>c.value.pos),F=U(),J=D(()=>{const{eventKey:i}=e,{keyEntities:p}=l.value,{children:R}=p[i]||{};return!!(R||[]).length}),q=D(()=>{const{isLeaf:i}=e,{loadData:p}=l.value,R=J.value;return i===!1?!1:i||!p&&!R||p&&$.value&&!R}),oe=D(()=>q.value?null:K.value?Pt:$t),te=D(()=>{const{disabled:i}=e,{disabled:p}=l.value;return!!(p||i)}),ke=D(()=>{const{checkable:i}=e,{checkable:p}=l.value;return!p||i===!1?!1:p}),re=D(()=>{const{selectable:i}=e,{selectable:p}=l.value;return typeof i=="boolean"?i:p}),H=D(()=>{const{data:i,active:p,checkable:R,disableCheckbox:Y,disabled:Q,selectable:ee}=e;return O(O({active:p,checkable:R,disableCheckbox:Y,disabled:Q,selectable:ee},i),{dataRef:i,data:i,isLeaf:q.value,checked:I.value,expanded:K.value,loading:_.value,selected:A.value,halfChecked:W.value})}),ye=Nn(),X=D(()=>{const{eventKey:i}=e,{keyEntities:p}=l.value,{parent:R}=p[i]||{};return O(O({},Ve(O({},e,c.value))),{parent:R})}),ne=Jt({eventData:X,eventKey:D(()=>e.eventKey),selectHandle:F,pos:N,key:ye.vnode.key});a(ne);const ie=i=>{const{onNodeDoubleClick:p}=l.value;p(i,X.value)},he=i=>{if(te.value)return;const{onNodeSelect:p}=l.value;i.preventDefault(),p(i,X.value)},we=i=>{if(te.value)return;const{disableCheckbox:p}=e,{onNodeCheck:R}=l.value;if(!ke.value||p)return;i.preventDefault();const Y=!I.value;R(i,X.value,Y)},Ne=i=>{const{onNodeClick:p}=l.value;p(i,X.value),re.value?he(i):we(i)},_e=i=>{const{onNodeMouseEnter:p}=l.value;p(i,X.value)},Ye=i=>{const{onNodeMouseLeave:p}=l.value;p(i,X.value)},Je=i=>{const{onNodeContextMenu:p}=l.value;p(i,X.value)},Ze=i=>{const{onNodeDragStart:p}=l.value;i.stopPropagation(),r.value=!0,p(i,ne);try{i.dataTransfer.setData("text/plain","")}catch{}},Qe=i=>{const{onNodeDragEnter:p}=l.value;i.preventDefault(),i.stopPropagation(),p(i,ne)},et=i=>{const{onNodeDragOver:p}=l.value;i.preventDefault(),i.stopPropagation(),p(i,ne)},Le=i=>{const{onNodeDragLeave:p}=l.value;i.stopPropagation(),p(i,ne)},tt=i=>{const{onNodeDragEnd:p}=l.value;i.stopPropagation(),r.value=!1,p(i,ne)},nt=i=>{const{onNodeDrop:p}=l.value;i.preventDefault(),i.stopPropagation(),r.value=!1,p(i,ne)},je=i=>{const{onNodeExpand:p}=l.value;_.value||p(i,X.value)},Fe=()=>{const{data:i}=e,{draggable:p}=l.value;return!!(p&&(!p.nodeDraggable||p.nodeDraggable(i)))},Me=()=>{const{draggable:i,prefixCls:p}=l.value;return i&&(i!=null&&i.icon)?E("span",{class:`${p}-draggable-icon`},[i.icon]):null},ot=()=>{var i,p,R;const{switcherIcon:Y=o.switcherIcon||((i=l.value.slots)===null||i===void 0?void 0:i[(R=(p=e.data)===null||p===void 0?void 0:p.slots)===null||R===void 0?void 0:R.switcherIcon])}=e,{switcherIcon:Q}=l.value,ee=Y||Q;return typeof ee=="function"?ee(H.value):ee},Be=()=>{const{loadData:i,onNodeLoad:p}=l.value;_.value||i&&K.value&&!q.value&&!J.value&&!$.value&&p(X.value)};Zt(()=>{Be()}),Qt(()=>{Be()});const at=()=>{const{prefixCls:i}=l.value,p=ot();if(q.value)return p!==!1?E("span",{class:fe(`${i}-switcher`,`${i}-switcher-noop`)},[p]):null;const R=fe(`${i}-switcher`,`${i}-switcher_${K.value?Pt:$t}`);return p!==!1?E("span",{onClick:je,class:R},[p]):null},lt=()=>{var i,p;const{disableCheckbox:R}=e,{prefixCls:Y}=l.value,Q=te.value;return ke.value?E("span",{class:fe(`${Y}-checkbox`,I.value&&`${Y}-checkbox-checked`,!I.value&&W.value&&`${Y}-checkbox-indeterminate`,(Q||R)&&`${Y}-checkbox-disabled`),onClick:we},[(p=(i=l.value).customCheckable)===null||p===void 0?void 0:p.call(i)]):null},He=()=>{const{prefixCls:i}=l.value;return E("span",{class:fe(`${i}-iconEle`,`${i}-icon__${oe.value||"docu"}`,_.value&&`${i}-icon_loading`)},null)},Oe=()=>{const{disabled:i,eventKey:p}=e,{draggable:R,dropLevelOffset:Y,dropPosition:Q,prefixCls:ee,indent:d,dropIndicatorRender:u,dragOverNodeKey:g,direction:w}=l.value;return!i&&R!==!1&&g===p?u({dropPosition:Q,dropLevelOffset:Y,indent:d,prefixCls:ee,direction:w}):null},rt=()=>{var i,p,R,Y,Q,ee;const{icon:d=o.icon,data:u}=e,g=o.title||((i=l.value.slots)===null||i===void 0?void 0:i[(R=(p=e.data)===null||p===void 0?void 0:p.slots)===null||R===void 0?void 0:R.title])||((Y=l.value.slots)===null||Y===void 0?void 0:Y.title)||e.title,{prefixCls:w,showIcon:T,icon:P,loadData:S}=l.value,M=te.value,V=`${w}-node-content-wrapper`;let L;if(T){const ae=d||((Q=l.value.slots)===null||Q===void 0?void 0:Q[(ee=u==null?void 0:u.slots)===null||ee===void 0?void 0:ee.icon])||P;L=ae?E("span",{class:fe(`${w}-iconEle`,`${w}-icon__customize`)},[typeof ae=="function"?ae(H.value):ae]):He()}else S&&_.value&&(L=He());let B;typeof g=="function"?B=g(H.value):B=g,B=B===void 0?ro:B;const z=E("span",{class:`${w}-title`},[B]);return E("span",{ref:F,title:typeof g=="string"?g:"",class:fe(`${V}`,`${V}-${oe.value||"normal"}`,!M&&(A.value||r.value)&&`${w}-node-selected`),onMouseenter:_e,onMouseleave:Ye,onContextmenu:Je,onClick:Ne,onDblclick:ie},[L,z,Oe()])};return()=>{const i=O(O({},e),n),{eventKey:p,isLeaf:R,isStart:Y,isEnd:Q,domRef:ee,active:d,data:u,onMousemove:g,selectable:w}=i,T=lo(i,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:P,filterTreeNode:S,keyEntities:M,dropContainerKey:V,dropTargetKey:L,draggingNodeKey:B}=l.value,z=te.value,ae=nn(T,{aria:!0,data:!0}),{level:pe}=M[p]||{},de=Q[Q.length-1],le=Fe(),xe=!z&&le,Te=B===p,it=w!==void 0?{"aria-selected":!!w}:void 0;return E("div",Z(Z({ref:ee,class:fe(n.class,`${P}-treenode`,{[`${P}-treenode-disabled`]:z,[`${P}-treenode-switcher-${K.value?"open":"close"}`]:!R,[`${P}-treenode-checkbox-checked`]:I.value,[`${P}-treenode-checkbox-indeterminate`]:W.value,[`${P}-treenode-selected`]:A.value,[`${P}-treenode-loading`]:_.value,[`${P}-treenode-active`]:d,[`${P}-treenode-leaf-last`]:de,[`${P}-treenode-draggable`]:xe,dragging:Te,"drop-target":L===p,"drop-container":V===p,"drag-over":!z&&G.value,"drag-over-gap-top":!z&&j.value,"drag-over-gap-bottom":!z&&y.value,"filter-node":S&&S(X.value)}),style:n.style,draggable:xe,"aria-grabbed":Te,onDragstart:xe?Ze:void 0,onDragenter:le?Qe:void 0,onDragover:le?et:void 0,onDragleave:le?Le:void 0,onDrop:le?nt:void 0,onDragend:le?tt:void 0,onMousemove:g},it),ae),[E(oo,{prefixCls:P,level:pe,isStart:Y,isEnd:Q},null),Me(),at(),lt(),rt()])}}});function ge(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function Se(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function kt(e){return e.split("-")}function dn(e,t){return`${e}-${t}`}function io(e){return e&&e.type&&e.type.isTreeNode}function so(e,t){const n=[],o=t[e];function a(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(l=>{let{key:s,children:h}=l;n.push(s),a(h)})}return a(o.children),n}function co(e){if(e.parent){const t=kt(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function uo(e){const t=kt(e.pos);return Number(t[t.length-1])===0}function _t(e,t,n,o,a,r,l,s,h,v){var b;const{clientX:f,clientY:k}=e,{top:x,height:C}=e.target.getBoundingClientRect(),c=((v==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-f)-12)/o;let K=s[n.eventKey];if(k<x+C/2){const N=l.findIndex(q=>q.key===K.key),F=N<=0?0:N-1,J=l[F].key;K=s[J]}const A=K.key,I=K,$=K.key;let _=0,W=0;if(!h.has(A))for(let N=0;N<c&&co(K);N+=1)K=K.parent,W+=1;const G=t.eventData,j=K.node;let y=!0;return uo(K)&&K.level===0&&k<x+C/2&&r({dragNode:G,dropNode:j,dropPosition:-1})&&K.key===n.eventKey?_=-1:(I.children||[]).length&&h.has($)?r({dragNode:G,dropNode:j,dropPosition:0})?_=0:y=!1:W===0?c>-1.5?r({dragNode:G,dropNode:j,dropPosition:1})?_=1:y=!1:r({dragNode:G,dropNode:j,dropPosition:0})?_=0:r({dragNode:G,dropNode:j,dropPosition:1})?_=1:y=!1:r({dragNode:G,dropNode:j,dropPosition:1})?_=1:y=!1,{dropPosition:_,dropLevelOffset:W,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:$,dropContainerKey:_===0?null:((b=K.parent)===null||b===void 0?void 0:b.key)||null,dropAllowed:y}}function Tt(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function st(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return t}function yt(e,t){const n=new Set;function o(a){if(n.has(a))return;const r=t[a];if(!r)return;n.add(a);const{parent:l,node:s}=r;s.disabled||l&&o(l.key)}return(e||[]).forEach(a=>{o(a)}),[...n]}var fo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};function Ae(e,t){return e??t}function We(e){const{title:t,_title:n,key:o,children:a}=e||{},r=t||"title";return{title:r,_title:n||[r],key:o||"key",children:a||"children"}}function ht(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Ge(n).map(a=>{var r,l,s,h;if(!io(a))return null;const v=a.children||{},b=a.key,f={};for(const[N,F]of Object.entries(a.props))f[Dn(N)]=F;const{isLeaf:k,checkable:x,selectable:C,disabled:m,disableCheckbox:c}=f,K={isLeaf:k||k===""||void 0,checkable:x||x===""||void 0,selectable:C||C===""||void 0,disabled:m||m===""||void 0,disableCheckbox:c||c===""||void 0},A=O(O({},f),K),{title:I=(r=v.title)===null||r===void 0?void 0:r.call(v,A),icon:$=(l=v.icon)===null||l===void 0?void 0:l.call(v,A),switcherIcon:_=(s=v.switcherIcon)===null||s===void 0?void 0:s.call(v,A)}=f,W=fo(f,["title","icon","switcherIcon"]),G=(h=v.default)===null||h===void 0?void 0:h.call(v),j=O(O(O({},W),{title:I,icon:$,switcherIcon:_,key:b,isLeaf:k}),K),y=t(G);return y.length&&(j.children=y),j})}return t(e)}function vo(e,t,n){const{_title:o,key:a,children:r}=We(n),l=new Set(t===!0?[]:t),s=[];function h(v){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v.map((f,k)=>{const x=dn(b?b.pos:"0",k),C=Ae(f[a],x);let m;for(let K=0;K<o.length;K+=1){const A=o[K];if(f[A]!==void 0){m=f[A];break}}const c=O(O({},gt(f,[...o,a,r])),{title:m,key:C,parent:b,pos:x,children:null,data:f,isStart:[...b?b.isStart:[],k===0],isEnd:[...b?b.isEnd:[],k===v.length-1]});return s.push(c),t===!0||l.has(C)?c.children=h(f[r]||[],c):c.children=[],c})}return h(e),s}function yo(e,t,n){let o={};typeof n=="object"?o=n:o={externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:r,fieldNames:l}=o,{key:s,children:h}=We(l),v=a||h;let b;r?typeof r=="string"?b=k=>k[r]:typeof r=="function"&&(b=k=>r(k)):b=(k,x)=>Ae(k[s],x);function f(k,x,C,m){const c=k?k[v]:e,K=k?dn(C.pos,x):"0",A=k?[...m,k]:[];if(k){const I=b(k,K),$={node:k,index:x,pos:K,key:I,parentPos:C.node?C.pos:null,level:C.level+1,nodes:A};t($)}c&&c.forEach((I,$)=>{f(I,$,{node:k,pos:K,level:C?C.level+1:-1},A)})}f(null)}function cn(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:r,fieldNames:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;const h=a||s,v={},b={};let f={posEntities:v,keyEntities:b};return t&&(f=t(f)||f),yo(e,k=>{const{node:x,index:C,pos:m,key:c,parentPos:K,level:A,nodes:I}=k,$={node:x,nodes:I,index:C,key:c,pos:m,level:A},_=Ae(c,m);v[m]=$,b[_]=$,$.parent=v[K],$.parent&&($.parent.children=$.parent.children||[],$.parent.children.push($)),n&&n($,f)},{externalGetKey:h,childrenPropName:r,fieldNames:l}),o&&o(f),f}function ze(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:r,checkedKeysSet:l,halfCheckedKeysSet:s,dragOverNodeKey:h,dropPosition:v,keyEntities:b}=t;const f=b[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:r.has(e),checked:l.has(e),halfChecked:s.has(e),pos:String(f?f.pos:""),parent:f.parent,dragOver:h===e&&v===0,dragOverGapTop:h===e&&v===-1,dragOverGapBottom:h===e&&v===1}}function Ve(e){const{data:t,expanded:n,selected:o,checked:a,loaded:r,loading:l,halfChecked:s,dragOver:h,dragOverGapTop:v,dragOverGapBottom:b,pos:f,active:k,eventKey:x}=e,C=O(O({dataRef:t},t),{expanded:n,selected:o,checked:a,loaded:r,loading:l,halfChecked:s,dragOver:h,dragOverGapTop:v,dragOverGapBottom:b,pos:f,active:k,eventKey:x,key:x});return"props"in C||Object.defineProperty(C,"props",{get(){return e}}),C}function un(e,t){const n=new Set;return e.forEach(o=>{t.has(o)||n.add(o)}),n}function ho(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!!(t||n)||o===!1}function po(e,t,n,o){const a=new Set(e),r=new Set;for(let s=0;s<=n;s+=1)(t.get(s)||new Set).forEach(v=>{const{key:b,node:f,children:k=[]}=v;a.has(b)&&!o(f)&&k.filter(x=>!o(x.node)).forEach(x=>{a.add(x.key)})});const l=new Set;for(let s=n;s>=0;s-=1)(t.get(s)||new Set).forEach(v=>{const{parent:b,node:f}=v;if(o(f)||!v.parent||l.has(v.parent.key))return;if(o(v.parent.node)){l.add(b.key);return}let k=!0,x=!1;(b.children||[]).filter(C=>!o(C.node)).forEach(C=>{let{key:m}=C;const c=a.has(m);k&&!c&&(k=!1),!x&&(c||r.has(m))&&(x=!0)}),k&&a.add(b.key),x&&r.add(b.key),l.add(b.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(un(r,a))}}function go(e,t,n,o,a){const r=new Set(e);let l=new Set(t);for(let h=0;h<=o;h+=1)(n.get(h)||new Set).forEach(b=>{const{key:f,node:k,children:x=[]}=b;!r.has(f)&&!l.has(f)&&!a(k)&&x.filter(C=>!a(C.node)).forEach(C=>{r.delete(C.key)})});l=new Set;const s=new Set;for(let h=o;h>=0;h-=1)(n.get(h)||new Set).forEach(b=>{const{parent:f,node:k}=b;if(a(k)||!b.parent||s.has(b.parent.key))return;if(a(b.parent.node)){s.add(f.key);return}let x=!0,C=!1;(f.children||[]).filter(m=>!a(m.node)).forEach(m=>{let{key:c}=m;const K=r.has(c);x&&!K&&(x=!1),!C&&(K||l.has(c))&&(C=!0)}),x||r.delete(f.key),C&&l.add(f.key),s.add(f.key)});return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(un(l,r))}}function dt(e,t,n,o,a,r){let l;l=ho;const s=new Set(e.filter(v=>!!n[v]));let h;return t===!0?h=po(s,a,o,l):h=go(s,t.halfCheckedKeys,a,o,l),h}function bo(e){const t=se(0),n=U();return Ce(()=>{const o=new Map;let a=0;const r=e.value||{};for(const l in r)if(Object.prototype.hasOwnProperty.call(r,l)){const s=r[l],{level:h}=s;let v=o.get(h);v||(v=new Set,o.set(h,v)),v.add(s),a=Math.max(a,h)}t.value=a,n.value=o}),{maxLevel:t,levelEntities:n}}var It=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const mo=Ke({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},rn),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=U(!0),r=Kt(),l=U(!1),s=D(()=>e.motion?e.motion:Pn()),h=(v,b)=>{var f,k,x,C;b==="appear"?(k=(f=s.value)===null||f===void 0?void 0:f.onAfterEnter)===null||k===void 0||k.call(f,v):b==="leave"&&((C=(x=s.value)===null||x===void 0?void 0:x.onAfterLeave)===null||C===void 0||C.call(x,v)),l.value||e.onMotionEnd(),l.value=!0};return ve(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&bt(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Zt(()=>{e.motionNodes&&e.onMotionStart()}),$n(()=>{e.motionNodes&&h()}),()=>{const{motion:v,motionNodes:b,motionType:f,active:k,eventKey:x}=e,C=It(e,["motion","motionNodes","motionType","active","eventKey"]);return b?E(In,Z(Z({},s.value),{},{appear:f==="show",onAfterAppear:m=>h(m,"appear"),onAfterLeave:m=>h(m,"leave")}),{default:()=>[_n(E("div",{class:`${r.value.prefixCls}-treenode-motion`},[b.map(m=>{const c=It(m.data,[]),{title:K,key:A,isStart:I,isEnd:$}=m;return delete c.children,E(vt,Z(Z({},c),{},{title:K,active:k,data:m.data,key:A,eventKey:A,isStart:I,isEnd:$}),o)})]),[[Tn,a.value]])]}):E(vt,Z(Z({class:n.class,style:n.style},C),{},{active:k,eventKey:x}),o)}}});function Ko(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(r,l){const s=new Map;r.forEach(v=>{s.set(v,!0)});const h=l.filter(v=>!s.has(v));return h.length===1?h[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function At(e,t,n){const o=e.findIndex(l=>l.key===n),a=e[o+1],r=t.findIndex(l=>l.key===n);if(a){const l=t.findIndex(s=>s.key===a.key);return t.slice(r+1,l)}return t.slice(r+1)}var Lt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const jt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ko=()=>{},Ee=`RC_TREE_MOTION_${Math.random()}`,pt={key:Ee},fn={key:Ee,level:0,index:0,pos:"0",node:pt,nodes:[pt]},Ft={parent:null,children:[],pos:fn.pos,data:pt,title:null,key:Ee,isStart:[],isEnd:[]};function Mt(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function Bt(e){const{key:t,pos:n}=e;return Ae(t,n)}function xo(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const So=Ke({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:ao,setup(e,t){let{expose:n,attrs:o}=t;const a=se(),r=se(),{expandedKeys:l,flattenNodes:s}=ln();n({scrollTo:m=>{a.value.scrollTo(m)},getIndentWidth:()=>r.value.offsetWidth});const h=U(s.value),v=U([]),b=se(null);function f(){h.value=s.value,v.value=[],b.value=null,e.onListChangeEnd()}const k=Kt();ve([()=>l.value.slice(),s],(m,c)=>{let[K,A]=m,[I,$]=c;const _=Ko(I,K);if(_.key!==null){const{virtual:W,height:G,itemHeight:j}=e;if(_.add){const y=$.findIndex(J=>{let{key:q}=J;return q===_.key}),N=Mt(At($,A,_.key),W,G,j),F=$.slice();F.splice(y+1,0,Ft),h.value=F,v.value=N,b.value="show"}else{const y=A.findIndex(J=>{let{key:q}=J;return q===_.key}),N=Mt(At(A,$,_.key),W,G,j),F=A.slice();F.splice(y+1,0,Ft),h.value=F,v.value=N,b.value="hide"}}else $!==A&&(h.value=A)}),ve(()=>k.value.dragging,m=>{m||f()});const x=D(()=>e.motion===void 0?h.value:s.value),C=()=>{e.onActiveChange(null)};return()=>{const m=O(O({},e),o),{prefixCls:c,selectable:K,checkable:A,disabled:I,motion:$,height:_,itemHeight:W,virtual:G,focusable:j,activeItem:y,focused:N,tabindex:F,onKeydown:J,onFocus:q,onBlur:oe,onListChangeStart:te,onListChangeEnd:ke}=m,re=Lt(m,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return E(An,null,[N&&y&&E("span",{style:jt,"aria-live":"assertive"},[xo(y)]),E("div",null,[E("input",{style:jt,disabled:j===!1||I,tabindex:j!==!1?F:null,onKeydown:J,onFocus:q,onBlur:oe,value:"",onChange:ko,"aria-label":"for screen reader"},null)]),E("div",{class:`${c}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[E("div",{class:`${c}-indent`},[E("div",{ref:r,class:`${c}-indent-unit`},null)])]),E(Zn,Z(Z({},gt(re,["onActiveChange"])),{},{data:x.value,itemKey:Bt,height:_,fullHeight:!1,virtual:G,itemHeight:W,prefixCls:`${c}-list`,ref:a,onVisibleChange:(H,ye)=>{const X=new Set(H);ye.filter(ie=>!X.has(ie)).some(ie=>Bt(ie)===Ee)&&f()}}),{default:H=>{const{pos:ye}=H,X=Lt(H.data,[]),{title:ne,key:ie,isStart:he,isEnd:we}=H,Ne=Ae(ie,ye);return delete X.key,delete X.children,E(mo,Z(Z({},X),{},{eventKey:Ne,title:ne,active:!!y&&ie===y.key,data:H.data,isStart:he,isEnd:we,motion:$,motionNodes:ie===Ee?v.value:null,motionType:b.value,onMotionStart:te,onMotionEnd:f,onMousemove:C}),null)}})])}}});function wo(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return E("div",{style:a},null)}const Oo=10,Co=Ke({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:mt(sn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:wo,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const r=U(!1);let l={};const s=U(),h=U([]),v=U([]),b=U([]),f=U([]),k=U([]),x=U([]),C={},m=Jt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),c=U([]);ve([()=>e.treeData,()=>e.children],()=>{c.value=e.treeData!==void 0?e.treeData.slice():ht(Nt(e.children))},{immediate:!0,deep:!0});const K=U({}),A=U(!1),I=U(null),$=U(!1),_=D(()=>We(e.fieldNames)),W=U();let G=null,j=null,y=null;const N=D(()=>({expandedKeysSet:F.value,selectedKeysSet:J.value,loadedKeysSet:q.value,loadingKeysSet:oe.value,checkedKeysSet:te.value,halfCheckedKeysSet:ke.value,dragOverNodeKey:m.dragOverNodeKey,dropPosition:m.dropPosition,keyEntities:K.value})),F=D(()=>new Set(x.value)),J=D(()=>new Set(h.value)),q=D(()=>new Set(f.value)),oe=D(()=>new Set(k.value)),te=D(()=>new Set(v.value)),ke=D(()=>new Set(b.value));Ce(()=>{if(c.value){const d=cn(c.value,{fieldNames:_.value});K.value=O({[Ee]:fn},d.keyEntities)}});let re=!1;ve([()=>e.expandedKeys,()=>e.autoExpandParent,K],(d,u)=>{let[g,w]=d,[T,P]=u,S=x.value;if(e.expandedKeys!==void 0||re&&w!==P)S=e.autoExpandParent||!re&&e.defaultExpandParent?yt(e.expandedKeys,K.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const M=O({},K.value);delete M[Ee],S=Object.keys(M).map(V=>M[V].key)}else!re&&e.defaultExpandedKeys&&(S=e.autoExpandParent||e.defaultExpandParent?yt(e.defaultExpandedKeys,K.value):e.defaultExpandedKeys);S&&(x.value=S),re=!0},{immediate:!0});const H=U([]);Ce(()=>{H.value=vo(c.value,x.value,_.value)}),Ce(()=>{e.selectable&&(e.selectedKeys!==void 0?h.value=Tt(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(h.value=Tt(e.defaultSelectedKeys,e)))});const{maxLevel:ye,levelEntities:X}=bo(K);Ce(()=>{if(e.checkable){let d;if(e.checkedKeys!==void 0?d=st(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?d=st(e.defaultCheckedKeys)||{}:c.value&&(d=st(e.checkedKeys)||{checkedKeys:v.value,halfCheckedKeys:b.value}),d){let{checkedKeys:u=[],halfCheckedKeys:g=[]}=d;e.checkStrictly||({checkedKeys:u,halfCheckedKeys:g}=dt(u,!0,K.value,ye.value,X.value)),v.value=u,b.value=g}}}),Ce(()=>{e.loadedKeys&&(f.value=e.loadedKeys)});const ne=()=>{O(m,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ie=d=>{W.value.scrollTo(d)};ve(()=>e.activeKey,()=>{e.activeKey!==void 0&&(I.value=e.activeKey)},{immediate:!0}),ve(I,d=>{bt(()=>{d!==null&&ie({key:d})})},{immediate:!0,flush:"post"});const he=d=>{e.expandedKeys===void 0&&(x.value=d)},we=()=>{m.draggingNodeKey!==null&&O(m,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),G=null,y=null},Ne=(d,u)=>{const{onDragend:g}=e;m.dragOverNodeKey=null,we(),g==null||g({event:d,node:u.eventData}),j=null},_e=d=>{Ne(d,null),window.removeEventListener("dragend",_e)},Ye=(d,u)=>{const{onDragstart:g}=e,{eventKey:w,eventData:T}=u;j=u,G={x:d.clientX,y:d.clientY};const P=ge(x.value,w);m.draggingNodeKey=w,m.dragChildrenKeys=so(w,K.value),s.value=W.value.getIndentWidth(),he(P),window.addEventListener("dragend",_e),g&&g({event:d,node:T})},Je=(d,u)=>{const{onDragenter:g,onExpand:w,allowDrop:T,direction:P}=e,{pos:S,eventKey:M}=u;if(y!==M&&(y=M),!j){ne();return}const{dropPosition:V,dropLevelOffset:L,dropTargetKey:B,dropContainerKey:z,dropTargetPos:ae,dropAllowed:pe,dragOverNodeKey:de}=_t(d,j,u,s.value,G,T,H.value,K.value,F.value,P);if(m.dragChildrenKeys.indexOf(B)!==-1||!pe){ne();return}if(l||(l={}),Object.keys(l).forEach(le=>{clearTimeout(l[le])}),j.eventKey!==u.eventKey&&(l[S]=window.setTimeout(()=>{if(m.draggingNodeKey===null)return;let le=x.value.slice();const xe=K.value[u.eventKey];xe&&(xe.children||[]).length&&(le=Se(x.value,u.eventKey)),he(le),w&&w(le,{node:u.eventData,expanded:!0,nativeEvent:d})},800)),j.eventKey===B&&L===0){ne();return}O(m,{dragOverNodeKey:de,dropPosition:V,dropLevelOffset:L,dropTargetKey:B,dropContainerKey:z,dropTargetPos:ae,dropAllowed:pe}),g&&g({event:d,node:u.eventData,expandedKeys:x.value})},Ze=(d,u)=>{const{onDragover:g,allowDrop:w,direction:T}=e;if(!j)return;const{dropPosition:P,dropLevelOffset:S,dropTargetKey:M,dropContainerKey:V,dropAllowed:L,dropTargetPos:B,dragOverNodeKey:z}=_t(d,j,u,s.value,G,w,H.value,K.value,F.value,T);m.dragChildrenKeys.indexOf(M)!==-1||!L||(j.eventKey===M&&S===0?m.dropPosition===null&&m.dropLevelOffset===null&&m.dropTargetKey===null&&m.dropContainerKey===null&&m.dropTargetPos===null&&m.dropAllowed===!1&&m.dragOverNodeKey===null||ne():P===m.dropPosition&&S===m.dropLevelOffset&&M===m.dropTargetKey&&V===m.dropContainerKey&&B===m.dropTargetPos&&L===m.dropAllowed&&z===m.dragOverNodeKey||O(m,{dropPosition:P,dropLevelOffset:S,dropTargetKey:M,dropContainerKey:V,dropTargetPos:B,dropAllowed:L,dragOverNodeKey:z}),g&&g({event:d,node:u.eventData}))},Qe=(d,u)=>{y===u.eventKey&&!d.currentTarget.contains(d.relatedTarget)&&(ne(),y=null);const{onDragleave:g}=e;g&&g({event:d,node:u.eventData})},et=function(d,u){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var w;const{dragChildrenKeys:T,dropPosition:P,dropTargetKey:S,dropTargetPos:M,dropAllowed:V}=m;if(!V)return;const{onDrop:L}=e;if(m.dragOverNodeKey=null,we(),S===null)return;const B=O(O({},ze(S,Nt(N.value))),{active:((w=R.value)===null||w===void 0?void 0:w.key)===S,data:K.value[S].node});T.indexOf(S);const z=kt(M),ae={event:d,node:Ve(B),dragNode:j?j.eventData:null,dragNodesKeys:[j.eventKey].concat(T),dropToGap:P!==0,dropPosition:P+Number(z[z.length-1])};g||L==null||L(ae),j=null},Le=(d,u)=>{const{expanded:g,key:w}=u,T=H.value.filter(S=>S.key===w)[0],P=Ve(O(O({},ze(w,N.value)),{data:T.data}));he(g?ge(x.value,w):Se(x.value,w)),Oe(d,P)},tt=(d,u)=>{const{onClick:g,expandAction:w}=e;w==="click"&&Le(d,u),g&&g(d,u)},nt=(d,u)=>{const{onDblclick:g,expandAction:w}=e;(w==="doubleclick"||w==="dblclick")&&Le(d,u),g&&g(d,u)},je=(d,u)=>{let g=h.value;const{onSelect:w,multiple:T}=e,{selected:P}=u,S=u[_.value.key],M=!P;M?T?g=Se(g,S):g=[S]:g=ge(g,S);const V=K.value,L=g.map(B=>{const z=V[B];return z?z.node:null}).filter(B=>B);e.selectedKeys===void 0&&(h.value=g),w&&w(g,{event:"select",selected:M,node:u,selectedNodes:L,nativeEvent:d})},Fe=(d,u,g)=>{const{checkStrictly:w,onCheck:T}=e,P=u[_.value.key];let S;const M={event:"check",node:u,checked:g,nativeEvent:d},V=K.value;if(w){const L=g?Se(v.value,P):ge(v.value,P),B=ge(b.value,P);S={checked:L,halfChecked:B},M.checkedNodes=L.map(z=>V[z]).filter(z=>z).map(z=>z.node),e.checkedKeys===void 0&&(v.value=L)}else{let{checkedKeys:L,halfCheckedKeys:B}=dt([...v.value,P],!0,V,ye.value,X.value);if(!g){const z=new Set(L);z.delete(P),{checkedKeys:L,halfCheckedKeys:B}=dt(Array.from(z),{checked:!1,halfCheckedKeys:B},V,ye.value,X.value)}S=L,M.checkedNodes=[],M.checkedNodesPositions=[],M.halfCheckedKeys=B,L.forEach(z=>{const ae=V[z];if(!ae)return;const{node:pe,pos:de}=ae;M.checkedNodes.push(pe),M.checkedNodesPositions.push({node:pe,pos:de})}),e.checkedKeys===void 0&&(v.value=L,b.value=B)}T&&T(S,M)},Me=d=>{const u=d[_.value.key],g=new Promise((w,T)=>{const{loadData:P,onLoad:S}=e;if(!P||q.value.has(u)||oe.value.has(u))return null;P(d).then(()=>{const V=Se(f.value,u),L=ge(k.value,u);S&&S(V,{event:"load",node:d}),e.loadedKeys===void 0&&(f.value=V),k.value=L,w()}).catch(V=>{const L=ge(k.value,u);if(k.value=L,C[u]=(C[u]||0)+1,C[u]>=Oo){const B=Se(f.value,u);e.loadedKeys===void 0&&(f.value=B),w()}T(V)}),k.value=Se(k.value,u)});return g.catch(()=>{}),g},ot=(d,u)=>{const{onMouseenter:g}=e;g&&g({event:d,node:u})},Be=(d,u)=>{const{onMouseleave:g}=e;g&&g({event:d,node:u})},at=(d,u)=>{const{onRightClick:g}=e;g&&(d.preventDefault(),g({event:d,node:u}))},lt=d=>{const{onFocus:u}=e;A.value=!0,u&&u(d)},He=d=>{const{onBlur:u}=e;A.value=!1,p(null),u&&u(d)},Oe=(d,u)=>{let g=x.value;const{onExpand:w,loadData:T}=e,{expanded:P}=u,S=u[_.value.key];if($.value)return;g.indexOf(S);const M=!P;if(M?g=Se(g,S):g=ge(g,S),he(g),w&&w(g,{node:u,expanded:M,nativeEvent:d}),M&&T){const V=Me(u);V&&V.then(()=>{}).catch(L=>{const B=ge(x.value,S);he(B),Promise.reject(L)})}},rt=()=>{$.value=!0},i=()=>{setTimeout(()=>{$.value=!1})},p=d=>{const{onActiveChange:u}=e;I.value!==d&&(e.activeKey!==void 0&&(I.value=d),d!==null&&ie({key:d}),u&&u(d))},R=D(()=>I.value===null?null:H.value.find(d=>{let{key:u}=d;return u===I.value})||null),Y=d=>{let u=H.value.findIndex(w=>{let{key:T}=w;return T===I.value});u===-1&&d<0&&(u=H.value.length),u=(u+d+H.value.length)%H.value.length;const g=H.value[u];if(g){const{key:w}=g;p(w)}else p(null)},Q=D(()=>Ve(O(O({},ze(I.value,N.value)),{data:R.value.data,active:!0}))),ee=d=>{const{onKeydown:u,checkable:g,selectable:w}=e;switch(d.which){case De.UP:{Y(-1),d.preventDefault();break}case De.DOWN:{Y(1),d.preventDefault();break}}const T=R.value;if(T&&T.data){const P=T.data.isLeaf===!1||!!(T.data.children||[]).length,S=Q.value;switch(d.which){case De.LEFT:{P&&F.value.has(I.value)?Oe({},S):T.parent&&p(T.parent.key),d.preventDefault();break}case De.RIGHT:{P&&!F.value.has(I.value)?Oe({},S):T.children&&T.children.length&&p(T.children[0].key),d.preventDefault();break}case De.ENTER:case De.SPACE:{g&&!S.disabled&&S.checkable!==!1&&!S.disableCheckbox?Fe({},S,!te.value.has(I.value)):!g&&w&&!S.disabled&&S.selectable!==!1&&je({},S);break}}}u&&u(d)};return a({onNodeExpand:Oe,scrollTo:ie,onKeydown:ee,selectedKeys:D(()=>h.value),checkedKeys:D(()=>v.value),halfCheckedKeys:D(()=>b.value),loadedKeys:D(()=>f.value),loadingKeys:D(()=>k.value),expandedKeys:D(()=>x.value)}),Ln(()=>{window.removeEventListener("dragend",_e),r.value=!0}),no({expandedKeys:x,selectedKeys:h,loadedKeys:f,loadingKeys:k,checkedKeys:v,halfCheckedKeys:b,expandedKeysSet:F,selectedKeysSet:J,loadedKeysSet:q,loadingKeysSet:oe,checkedKeysSet:te,halfCheckedKeysSet:ke,flattenNodes:H}),()=>{const{draggingNodeKey:d,dropLevelOffset:u,dropContainerKey:g,dropTargetKey:w,dropPosition:T,dragOverNodeKey:P}=m,{prefixCls:S,showLine:M,focusable:V,tabindex:L=0,selectable:B,showIcon:z,icon:ae=o.icon,switcherIcon:pe,draggable:de,checkable:le,checkStrictly:xe,disabled:Te,motion:it,loadData:yn,filterTreeNode:hn,height:pn,itemHeight:gn,virtual:bn,dropIndicatorRender:mn,onContextmenu:Kn,onScroll:kn,direction:xn,rootClassName:Sn,rootStyle:wn}=e,{class:On,style:Cn}=n,En=nn(O(O({},e),n),{aria:!0,data:!0});let Ie;return de?typeof de=="object"?Ie=de:typeof de=="function"?Ie={nodeDraggable:de}:Ie={}:Ie=!1,E(to,{value:{prefixCls:S,selectable:B,showIcon:z,icon:ae,switcherIcon:pe,draggable:Ie,draggingNodeKey:d,checkable:le,customCheckable:o.checkable,checkStrictly:xe,disabled:Te,keyEntities:K.value,dropLevelOffset:u,dropContainerKey:g,dropTargetKey:w,dropPosition:T,dragOverNodeKey:P,dragging:d!==null,indent:s.value,direction:xn,dropIndicatorRender:mn,loadData:yn,filterTreeNode:hn,onNodeClick:tt,onNodeDoubleClick:nt,onNodeExpand:Oe,onNodeSelect:je,onNodeCheck:Fe,onNodeLoad:Me,onNodeMouseEnter:ot,onNodeMouseLeave:Be,onNodeContextMenu:at,onNodeDragStart:Ye,onNodeDragEnter:Je,onNodeDragOver:Ze,onNodeDragLeave:Qe,onNodeDragEnd:Ne,onNodeDrop:et,slots:o}},{default:()=>[E("div",{role:"tree",class:fe(S,On,Sn,{[`${S}-show-line`]:M,[`${S}-focused`]:A.value,[`${S}-active-focused`]:I.value!==null}),style:wn},[E(So,Z({ref:W,prefixCls:S,style:Cn,disabled:Te,selectable:B,checkable:!!le,motion:it,height:pn,itemHeight:gn,virtual:bn,focusable:V,focused:A.value,tabindex:L,activeItem:R.value,onFocus:lt,onBlur:He,onKeydown:ee,onActiveChange:p,onListChangeStart:rt,onListChangeEnd:i,onContextmenu:Kn,onScroll:kn},En),null)])]})}}});var Eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){No(e,a,n[a])})}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(t,n){var o=Ht({},t,n.attrs);return E($e,Ht({},o,{icon:Eo}),null)};Xe.displayName="FileOutlined";Xe.inheritAttrs=!1;var Do={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Po(e,a,n[a])})}return e}function Po(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xt=function(t,n){var o=Rt({},t,n.attrs);return E($e,Rt({},o,{icon:Do}),null)};xt.displayName="MinusSquareOutlined";xt.inheritAttrs=!1;var $o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){_o(e,a,n[a])})}return e}function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=function(t,n){var o=zt({},t,n.attrs);return E($e,zt({},o,{icon:$o}),null)};St.displayName="PlusSquareOutlined";St.inheritAttrs=!1;var To={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Io(e,a,n[a])})}return e}function Io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(t,n){var o=Vt({},t,n.attrs);return E($e,Vt({},o,{icon:To}),null)};wt.displayName="CaretDownFilled";wt.inheritAttrs=!1;function Ao(e,t,n,o,a){const{isLeaf:r,expanded:l,loading:s}=n;let h=t;if(s)return E(jn,{class:`${e}-switcher-loading-icon`},null);let v;a&&typeof a=="object"&&(v=a.showLeafIcon);let b=null;const f=`${e}-switcher-icon`;return r?a?v&&o?o(n):(typeof a=="object"&&!v?b=E("span",{class:`${e}-switcher-leaf-line`},null):b=E(Xe,{class:`${e}-switcher-line-icon`},null),b):null:(b=E(wt,{class:f},null),a&&(b=l?E(xt,{class:`${e}-switcher-line-icon`},null):E(St,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?h=t(O(O({},n),{defaultIcon:b,switcherCls:f})):Fn(h)&&(h=Mn(h,{class:f})),h||b)}const Ut=4;function Lo(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:o,indent:a,direction:r="ltr"}=e,l=r==="ltr"?"left":"right",s=r==="ltr"?"right":"left",h={[l]:`${-n*a+Ut}px`,[s]:0};switch(t){case-1:h.top="-3px";break;case 1:h.bottom="-3px";break;default:h.bottom="-3px",h[l]=`${a+Ut}px`;break}return E("div",{style:h,class:`${o}-drop-indicator`},null)}const jo=new Vn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Fo=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Mo=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Bo=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:r}=t,l=(r-t.fontSizeLG)/2,s=t.paddingXS;return{[n]:O(O({},zn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:O({},Dt(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:jo,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:O({},Dt(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:r,lineHeight:`${r}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:r}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:O(O({},Fo(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:r,margin:0,lineHeight:`${r}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:r/2*.8,height:r/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:s,marginBlockStart:l},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:r,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${r}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:r,height:r,lineHeight:`${r}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:O({lineHeight:`${r}px`,userSelect:"none"},Mo(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:r/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${r/2}px !important`}}}}})}},Ho=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},Ro=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,r=t.controlHeightSM,l=Rn(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:r});return[Bo(e,l),Ho(l)]},zo=Bn("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Qn(`${n}-checkbox`,e)},Ro(n,e),Hn(e)]}),vn=()=>{const e=sn();return O(O({},e),{showLine:ft([Boolean,Object]),multiple:ce(),autoExpandParent:ce(),checkStrictly:ce(),checkable:ce(),disabled:ce(),defaultExpandAll:ce(),defaultExpandParent:ce(),defaultExpandedKeys:Pe(),expandedKeys:Pe(),checkedKeys:ft([Array,Object]),defaultCheckedKeys:Pe(),selectedKeys:Pe(),defaultSelectedKeys:Pe(),selectable:ce(),loadedKeys:Pe(),draggable:ce(),showIcon:ce(),icon:Re(),switcherIcon:me.any,prefixCls:String,replaceFields:qn(),blockNode:ce(),openAnimation:me.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Re(),"onUpdate:checkedKeys":Re(),"onUpdate:expandedKeys":Re()})},Ue=Ke({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:mt(vn(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:Object,setup(e,t){let{attrs:n,expose:o,emit:a,slots:r}=t;Yt(!(e.treeData===void 0&&r.default));const{prefixCls:l,direction:s,virtual:h}=en("tree",e),[v,b]=zo(l),f=se();o({treeRef:f,onNodeExpand:function(){var c;(c=f.value)===null||c===void 0||c.onNodeExpand(...arguments)},scrollTo:c=>{var K;(K=f.value)===null||K===void 0||K.scrollTo(c)},selectedKeys:D(()=>{var c;return(c=f.value)===null||c===void 0?void 0:c.selectedKeys}),checkedKeys:D(()=>{var c;return(c=f.value)===null||c===void 0?void 0:c.checkedKeys}),halfCheckedKeys:D(()=>{var c;return(c=f.value)===null||c===void 0?void 0:c.halfCheckedKeys}),loadedKeys:D(()=>{var c;return(c=f.value)===null||c===void 0?void 0:c.loadedKeys}),loadingKeys:D(()=>{var c;return(c=f.value)===null||c===void 0?void 0:c.loadingKeys}),expandedKeys:D(()=>{var c;return(c=f.value)===null||c===void 0?void 0:c.expandedKeys})}),Ce(()=>{Un(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});const x=(c,K)=>{a("update:checkedKeys",c),a("check",c,K)},C=(c,K)=>{a("update:expandedKeys",c),a("expand",c,K)},m=(c,K)=>{a("update:selectedKeys",c),a("select",c,K)};return()=>{const{showIcon:c,showLine:K,switcherIcon:A=r.switcherIcon,icon:I=r.icon,blockNode:$,checkable:_,selectable:W,fieldNames:G=e.replaceFields,motion:j=e.openAnimation,itemHeight:y=28,onDoubleclick:N,onDblclick:F}=e,J=O(O(O({},n),gt(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{showLine:!!K,dropIndicatorRender:Lo,fieldNames:G,icon:I,itemHeight:y}),q=r.default?Ge(r.default()):void 0;return v(E(Co,Z(Z({},J),{},{virtual:h.value,motion:j,ref:f,prefixCls:l.value,class:fe({[`${l.value}-icon-hide`]:!c,[`${l.value}-block-node`]:$,[`${l.value}-unselectable`]:!W,[`${l.value}-rtl`]:s.value==="rtl"},n.class,b.value),direction:s.value,checkable:_,selectable:W,switcherIcon:oe=>Ao(l.value,A,oe,r.leafIcon,K),onCheck:x,onExpand:C,onSelect:m,onDblclick:F||N,children:q}),O(O({},r),{checkable:()=>E("span",{class:`${l.value}-checkbox-inner`},null)})))}}});var Vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Uo(e,a,n[a])})}return e}function Uo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(t,n){var o=qt({},t,n.attrs);return E($e,qt({},o,{icon:Vo}),null)};Ot.displayName="FolderOpenOutlined";Ot.inheritAttrs=!1;var qo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Go(e,a,n[a])})}return e}function Go(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=function(t,n){var o=Gt({},t,n.attrs);return E($e,Gt({},o,{icon:qo}),null)};Ct.displayName="FolderOutlined";Ct.inheritAttrs=!1;var be;(function(e){e[e.None=0]="None",e[e.Start=1]="Start",e[e.End=2]="End"})(be||(be={}));function Et(e,t,n){function o(a){const r=a[t.key],l=a[t.children];n(r,a)!==!1&&Et(l||[],t,n)}e.forEach(o)}function Wo(e){let{treeData:t,expandedKeys:n,startKey:o,endKey:a,fieldNames:r={title:"title",key:"key",children:"children"}}=e;const l=[];let s=be.None;if(o&&o===a)return[o];if(!o||!a)return[];function h(v){return v===o||v===a}return Et(t,r,v=>{if(s===be.End)return!1;if(h(v)){if(l.push(v),s===be.None)s=be.Start;else if(s===be.Start)return s=be.End,!1}else s===be.Start&&l.push(v);return n.includes(v)}),l}function ct(e,t,n){const o=[...t],a=[];return Et(e,n,(r,l)=>{const s=o.indexOf(r);return s!==-1&&(a.push(l),o.splice(s,1)),!!o.length}),a}var Xo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const Yo=()=>O(O({},vn()),{expandAction:ft([Boolean,String])});function Jo(e){const{isLeaf:t,expanded:n}=e;return t?E(Xe,null,null):n?E(Ot,null,null):E(Ct,null,null)}const qe=Ke({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:mt(Yo(),{showIcon:!0,expandAction:"click"}),slots:Object,setup(e,t){let{attrs:n,slots:o,emit:a,expose:r}=t;var l;const s=se(e.treeData||ht(Ge((l=o.default)===null||l===void 0?void 0:l.call(o))));ve(()=>e.treeData,()=>{s.value=e.treeData}),Qt(()=>{bt(()=>{var y;e.treeData===void 0&&o.default&&(s.value=ht(Ge((y=o.default)===null||y===void 0?void 0:y.call(o))))})});const h=se(),v=se(),b=D(()=>We(e.fieldNames)),f=se();r({scrollTo:y=>{var N;(N=f.value)===null||N===void 0||N.scrollTo(y)},selectedKeys:D(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.selectedKeys}),checkedKeys:D(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.checkedKeys}),halfCheckedKeys:D(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.halfCheckedKeys}),loadedKeys:D(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.loadedKeys}),loadingKeys:D(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.loadingKeys}),expandedKeys:D(()=>{var y;return(y=f.value)===null||y===void 0?void 0:y.expandedKeys})});const x=()=>{const{keyEntities:y}=cn(s.value,{fieldNames:b.value});let N;return e.defaultExpandAll?N=Object.keys(y):e.defaultExpandParent?N=yt(e.expandedKeys||e.defaultExpandedKeys||[],y):N=e.expandedKeys||e.defaultExpandedKeys,N},C=se(e.selectedKeys||e.defaultSelectedKeys||[]),m=se(x());ve(()=>e.selectedKeys,()=>{e.selectedKeys!==void 0&&(C.value=e.selectedKeys)},{immediate:!0}),ve(()=>e.expandedKeys,()=>{e.expandedKeys!==void 0&&(m.value=e.expandedKeys)},{immediate:!0});const K=Jn((y,N)=>{const{isLeaf:F}=N;F||y.shiftKey||y.metaKey||y.ctrlKey||f.value.onNodeExpand(y,N)},200,{leading:!0}),A=(y,N)=>{e.expandedKeys===void 0&&(m.value=y),a("update:expandedKeys",y),a("expand",y,N)},I=(y,N)=>{const{expandAction:F}=e;F==="click"&&K(y,N),a("click",y,N)},$=(y,N)=>{const{expandAction:F}=e;(F==="dblclick"||F==="doubleclick")&&K(y,N),a("doubleclick",y,N),a("dblclick",y,N)},_=(y,N)=>{const{multiple:F}=e,{node:J,nativeEvent:q}=N,oe=J[b.value.key],te=O(O({},N),{selected:!0}),ke=(q==null?void 0:q.ctrlKey)||(q==null?void 0:q.metaKey),re=q==null?void 0:q.shiftKey;let H;F&&ke?(H=y,h.value=oe,v.value=H,te.selectedNodes=ct(s.value,H,b.value)):F&&re?(H=Array.from(new Set([...v.value||[],...Wo({treeData:s.value,expandedKeys:m.value,startKey:oe,endKey:h.value,fieldNames:b.value})])),te.selectedNodes=ct(s.value,H,b.value)):(H=[oe],h.value=oe,v.value=H,te.selectedNodes=ct(s.value,H,b.value)),a("update:selectedKeys",H),a("select",H,te),e.selectedKeys===void 0&&(C.value=H)},W=(y,N)=>{a("update:checkedKeys",y),a("check",y,N)},{prefixCls:G,direction:j}=en("tree",e);return()=>{const y=fe(`${G.value}-directory`,{[`${G.value}-directory-rtl`]:j.value==="rtl"},n.class),{icon:N=o.icon,blockNode:F=!0}=e,J=Xo(e,["icon","blockNode"]);return E(Ue,Z(Z(Z({},n),{},{icon:N||Jo,ref:f,blockNode:F},J),{},{prefixCls:G.value,class:y,expandedKeys:m.value,selectedKeys:C.value,onSelect:_,onClick:I,onDblclick:$,onExpand:A,onCheck:W}),o)}}}),ut=vt;O(Ue,{DirectoryTree:qe,TreeNode:ut,install:e=>(e.component(Ue.name,Ue),e.component(ut.name,ut),e.component(qe.name,qe),e)});const Zo=Ke({__name:"index",setup(e){const t=se(["0-0","0-1"]),n=se([]),o=[{title:"parent 0",key:"0-0",children:[{title:"parent 0-0",key:"0-0-0",isLeaf:!1,children:[{title:"leaf 0-0-0",key:"0-0-0-0",isLeaf:!0}]},{title:"leaf 0-1",key:"0-0-1",isLeaf:!0}]},{title:"parent 1",key:"0-1",children:[{title:"leaf 1-0",key:"0-1-0",isLeaf:!0},{title:"leaf 1-1",key:"0-1-1",isLeaf:!0}]}];return(a,r)=>{const l=qe;return tn(),Gn(l,{expandedKeys:t.value,"onUpdate:expandedKeys":r[0]||(r[0]=s=>t.value=s),selectedKeys:n.value,"onUpdate:selectedKeys":r[1]||(r[1]=s=>n.value=s),multiple:"","tree-data":o},null,8,["expandedKeys","selectedKeys"])}}}),Qo={class:"repository"},ca=Ke({__name:"index",setup(e){return(t,n)=>{const o=eo;return tn(),Wn("div",Qo,[E(o,{level:2},{default:Xn(()=>n[0]||(n[0]=[Yn("Repository Detail")])),_:1}),E(Zo)])}}});export{ca as default};
