import{G as P}from"./Glassmorphism-DQrumAUf.js";import{d as S,a3 as U,c as B,aO as C,a4 as q,a5 as I,b as o,ai as r,a6 as i,a7 as l,aQ as L,aP as N,aN as u,aR as R,af as h}from"./index-Bkva_4QA.js";import{A}from"./auth.service-BoZjLvnI.js";import{L as d}from"./loading-AKYUUE4h.js";import{I as V,a as E}from"./index-C1Ljg8Gy.js";import{C as G}from"./index-C-7SwSPf.js";import{B as O}from"./index-D96tQXur.js";import{_ as T,F as D}from"./index-pX09Tsbs.js";import"./request-CAHUC_tE.js";import"./index-lUIYzjzK.js";import"./isSymbol-LHpKateK.js";import"./TextArea-CX6guwJy.js";import"./compact-item-Bz9rI9db.js";import"./SearchOutlined-C5ZgqH4f.js";import"./Checkbox-t6ymH25S.js";import"./index-BJn_DKEA.js";import"./debounce-C8MRqobG.js";const J={class:"login"},M=S({__name:"index",setup(Q){const f=L(),p=N(),_=A.getInstance(),s=U({username:"",password:"",remember:!0}),c=n=>{d.show(),_.login(n.username,n.password).then(e=>{if(e.success){u.success("login successfully");let t="/";p.query.from&&(t=p.query.from.toString()),setTimeout(()=>{f.push({path:t})},R)}else u.error(e.error);d.hide()})},g=n=>{for(let e of n.errorFields)for(let t of e.errors)u.error(t)},b=B(()=>!(s.username&&s.password));return(n,e)=>{const t=V,a=T,w=E,v=G,x=O,y=C("router-link"),k=D,F=P;return q(),I("div",J,[o(F,{opacity:.6,"border-radius":5},{default:r(()=>[o(k,{model:s,name:"normal_login",class:"login-form",onFinish:c,onFinishFailed:g},{default:r(()=>[e[10]||(e[10]=i("h2",{class:"login-form-title"},"Sign in",-1)),o(a,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}]},{default:r(()=>[o(t,{value:s.username,"onUpdate:value":e[0]||(e[0]=m=>s.username=m),placeholder:"Username"},{prefix:r(()=>e[3]||(e[3]=[i("i",{class:"iconfont"},"",-1)])),_:1},8,["value"])]),_:1}),o(a,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},{default:r(()=>[o(w,{value:s.password,"onUpdate:value":e[1]||(e[1]=m=>s.password=m),placeholder:"Password"},{prefix:r(()=>e[4]||(e[4]=[i("i",{class:"iconfont"},"",-1)])),_:1},8,["value"])]),_:1}),o(a,null,{default:r(()=>[o(a,{name:"remember","no-style":""},{default:r(()=>[o(v,{checked:s.remember,"onUpdate:checked":e[2]||(e[2]=m=>s.remember=m)},{default:r(()=>e[5]||(e[5]=[l("Remember me")])),_:1},8,["checked"])]),_:1}),e[6]||(e[6]=i("a",{class:"login-form-forgot",href:""},"Forgot password",-1))]),_:1}),o(a,null,{default:r(()=>[o(x,{disabled:b.value,type:"primary","html-type":"submit",class:"login-form-button"},{default:r(()=>e[7]||(e[7]=[l(" Log in ")])),_:1},8,["disabled"]),e[9]||(e[9]=l(" Or ")),o(y,{to:"/register"},{default:r(()=>e[8]||(e[8]=[l("Sign up now!")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}}),ie=h(M,[["__scopeId","data-v-6be0114f"]]);export{ie as default};
