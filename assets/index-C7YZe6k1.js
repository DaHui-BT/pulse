var Ft=Object.defineProperty;var jt=(e,n,t)=>n in e?Ft(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var se=(e,n,t)=>jt(e,typeof n!="symbol"?n+"":n,t);import{aD as rt,aI as $t,aJ as _t,G as L,g as $e,m as _e,_ as I,r as pe,ap as qt,d as V,i as ze,u as te,J as he,D as be,o as Pe,k as Ce,au as X,c as i,a as H,b as Wt,W as Ct,h as M,n as U,aW as it,j as Vt,aX as Gt,ad as Yt,aa as q,a5 as Xt,ae as we,a1 as St,an as Zt,aN as We,af as De,A as Ee,B as Me,ag as Le,w as wt,a2 as Ut,aY as Jt,a0 as Qt,aZ as Kt,a_ as en,a$ as tn,b0 as nn,b1 as on,b2 as an,am as xt,b3 as lt,$ as ie,b4 as Bt,a9 as rn,av as Ot,ac as ve,V as Ie,e as ln,f as ye,F as ge,b5 as sn,Z as Ne,b6 as cn,b7 as un,b8 as dn,b9 as mn,ba as fn,I as Ve,p as R,P as W,K as O,t as ae,C as oe,O as j,bb as Re,q as me,L as fe,y as Ge,x as Z,M as z,Q as Ye,E as It,aw as pn,ax as gn,a7 as hn,ay as vn,aU as bn,az as yn,R as $n}from"./index-CsOaHWZQ.js";import{d as st}from"./dayjs.min-Dzxo81jm.js";import{A as kt}from"./ArticleService-D4JvvKcv.js";import{L as _n,U as Cn}from"./UserService-Dilay4Pq.js";import{R as Tt}from"./request-zUbwgvDi.js";import{h as ct}from"./moment-C5S46NFB.js";import{L as Sn}from"./LikeOutlined-CMGjdO_r.js";import{D as wn,T as xn}from"./index-BCVWfUXc.js";import{R as Bn}from"./RightOutlined-BSKPiX3E.js";import{A as At,T as zt}from"./Text-y7tKTZQ3.js";import{B as Xe}from"./index-BfPHKHhH.js";import{S as Ze,_ as On}from"./index-DC9JQhQ7.js";import{s as In,_ as kn,F as Tn,Q as An}from"./index-DZX6ZFdi.js";import{_ as zn,a as Pn,b as Dn}from"./index-DciyHouH.js";import{i as En}from"./fade-wIH46IAm.js";import{u as Mn}from"./Base-uFvm4X4A.js";import"./Col-BAkveVXM.js";import"./Dropdown-DuIXQ8-m.js";import"./ActionButton-CHxIZdPV.js";import"./index-DWKhQI0h.js";function Ln(e,n,t,o){const a=t-n;return e/=o/2,e<1?a/2*e*e*e+n:a/2*((e-=2)*e*e+2)+n}function Fe(e){return e!=null&&e===e.window}function Ue(e,n){var t,o;if(typeof window>"u")return 0;const a="scrollTop";let r=0;return Fe(e)?r=e.scrollY:e instanceof Document?r=e.documentElement[a]:(e instanceof HTMLElement||e)&&(r=e[a]),e&&!Fe(e)&&typeof r!="number"&&(r=(o=((t=e.ownerDocument)!==null&&t!==void 0?t:e).documentElement)===null||o===void 0?void 0:o[a]),r}function Pt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{getContainer:t=()=>window,callback:o,duration:a=450}=n,r=t(),s=Ue(r),h=Date.now(),v=()=>{const c=Date.now()-h,g=Ln(c>a?a:c,s,e,a);Fe(r)?r.scrollTo(window.scrollX,g):r instanceof Document?r.documentElement.scrollTop=g:r.scrollTop=g,c<a?rt(v):typeof o=="function"&&o()};rt(v)}function xe(){}const Dt=Symbol("anchorContextKey"),Nn=e=>{$t(Dt,e)},Hn=()=>_t(Dt,{registerLink:xe,unregisterLink:xe,scrollTo:xe,activeLink:L(()=>""),handleClick:xe,direction:L(()=>"vertical")}),Rn=e=>{const{componentCls:n,holderOffsetBlock:t,motionDurationSlow:o,lineWidthBold:a,colorPrimary:r,lineType:s,colorSplit:h}=e;return{[`${n}-wrapper`]:{marginBlockStart:-t,paddingBlockStart:t,backgroundColor:"transparent",[n]:I(I({},pe(e)),{position:"relative",paddingInlineStart:a,[`${n}-link`]:{paddingBlock:e.anchorPaddingBlock,paddingInline:`${e.anchorPaddingInline}px 0`,"&-title":I(I({},qt),{position:"relative",display:"block",marginBlockEnd:e.anchorTitleBlock,color:e.colorText,transition:`all ${e.motionDurationSlow}`,"&:only-child":{marginBlockEnd:0}}),[`&-active > ${n}-link-title`]:{color:e.colorPrimary},[`${n}-link`]:{paddingBlock:e.anchorPaddingBlockSecondary}}}),[`&:not(${n}-wrapper-horizontal)`]:{[n]:{"&::before":{position:"absolute",left:{_skip_check_:!0,value:0},top:0,height:"100%",borderInlineStart:`${a}px ${s} ${h}`,content:'" "'},[`${n}-ink`]:{position:"absolute",left:{_skip_check_:!0,value:0},display:"none",transform:"translateY(-50%)",transition:`top ${o} ease-in-out`,width:a,backgroundColor:r,[`&${n}-ink-visible`]:{display:"inline-block"}}}},[`${n}-fixed ${n}-ink ${n}-ink`]:{display:"none"}}}},Fn=e=>{const{componentCls:n,motionDurationSlow:t,lineWidthBold:o,colorPrimary:a}=e;return{[`${n}-wrapper-horizontal`]:{position:"relative","&::before":{position:"absolute",left:{_skip_check_:!0,value:0},right:{_skip_check_:!0,value:0},bottom:0,borderBottom:`1px ${e.lineType} ${e.colorSplit}`,content:'" "'},[n]:{overflowX:"scroll",position:"relative",display:"flex",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},[`${n}-link:first-of-type`]:{paddingInline:0},[`${n}-ink`]:{position:"absolute",bottom:0,transition:`left ${t} ease-in-out, width ${t} ease-in-out`,height:o,backgroundColor:a}}}}},jn=$e("Anchor",e=>{const{fontSize:n,fontSizeLG:t,padding:o,paddingXXS:a}=e,r=_e(e,{holderOffsetBlock:a,anchorPaddingBlock:a,anchorPaddingBlockSecondary:a/2,anchorPaddingInline:o,anchorTitleBlock:n/14*3,anchorBallSize:t/2});return[Rn(r),Fn(r)]}),qn=()=>({prefixCls:String,href:String,title:Wt(),target:String,customTitleProps:Ct()}),Et=V({compatConfig:{MODE:3},name:"AAnchorLink",inheritAttrs:!1,props:ze(qn(),{href:"#"}),slots:Object,setup(e,n){let{slots:t,attrs:o}=n,a=null;const{handleClick:r,scrollTo:s,unregisterLink:h,registerLink:v,activeLink:p}=Hn(),{prefixCls:c}=te("anchor",e),g=u=>{const{href:$}=e;r(u,{title:a,href:$}),s($)};return he(()=>e.href,(u,$)=>{be(()=>{h($),v(u)})}),Pe(()=>{v(e.href)}),Ce(()=>{h(e.href)}),()=>{var u;const{href:$,target:B,title:w=t.title,customTitleProps:S={}}=e,d=c.value;a=typeof w=="function"?w(S):w;const _=p.value===$,P=X(`${d}-link`,{[`${d}-link-active`]:_},o.class),A=X(`${d}-link-title`,{[`${d}-link-title-active`]:_});return i("div",H(H({},o),{},{class:P}),[i("a",{class:A,href:$,title:typeof a=="string"?a:"",target:B,onClick:g},[t.customTitle?t.customTitle(S):a]),(u=t.default)===null||u===void 0?void 0:u.call(t)])}}});function Wn(){return window}function ut(e,n){if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect();return t.width||t.height?n===window?(n=e.ownerDocument.documentElement,t.top-n.clientTop):t.top-n.getBoundingClientRect().top:t.top}const dt=/#([\S ]+)$/,Vn=()=>({prefixCls:String,offsetTop:Number,bounds:Number,affix:{type:Boolean,default:!0},showInkInFixed:{type:Boolean,default:!1},getContainer:Function,wrapperClass:String,wrapperStyle:{type:Object,default:void 0},getCurrentAnchor:Function,targetOffset:Number,items:Yt(),direction:q.oneOf(["vertical","horizontal"]).def("vertical"),onChange:Function,onClick:Function}),ce=V({compatConfig:{MODE:3},name:"AAnchor",inheritAttrs:!1,props:Vn(),setup(e,n){let{emit:t,attrs:o,slots:a,expose:r}=n;const{prefixCls:s,getTargetContainer:h,direction:v}=te("anchor",e),p=L(()=>{var l;return(l=e.direction)!==null&&l!==void 0?l:"vertical"}),c=M(null),g=M(),u=U({links:[],scrollContainer:null,scrollEvent:null,animating:!1}),$=M(null),B=L(()=>{const{getContainer:l}=e;return l||(h==null?void 0:h.value)||Wn}),w=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;const m=[],b=B.value();return u.links.forEach(f=>{const T=dt.exec(f.toString());if(!T)return;const D=document.getElementById(T[1]);if(D){const k=ut(D,b);k<l+y&&m.push({link:f,top:k})}}),m.length?m.reduce((T,D)=>D.top>T.top?D:T).link:""},S=l=>{const{getCurrentAnchor:y}=e;$.value!==l&&($.value=typeof y=="function"?y(l):l,t("change",l))},d=l=>{const{offsetTop:y,targetOffset:m}=e;S(l);const b=dt.exec(l);if(!b)return;const f=document.getElementById(b[1]);if(!f)return;const T=B.value(),D=Ue(T),k=ut(f,T);let E=D+k;E-=m!==void 0?m:y||0,u.animating=!0,Pt(E,{callback:()=>{u.animating=!1},getContainer:B.value})};r({scrollTo:d});const _=()=>{if(u.animating)return;const{offsetTop:l,bounds:y,targetOffset:m}=e,b=w(m!==void 0?m:l||0,y);S(b)},P=()=>{const l=g.value.querySelector(`.${s.value}-link-title-active`);if(l&&c.value){const y=p.value==="horizontal";c.value.style.top=y?"":`${l.offsetTop+l.clientHeight/2}px`,c.value.style.height=y?"":`${l.clientHeight}px`,c.value.style.left=y?`${l.offsetLeft}px`:"",c.value.style.width=y?`${l.clientWidth}px`:"",y&&In(l,{scrollMode:"if-needed",block:"nearest"})}};Nn({registerLink:l=>{u.links.includes(l)||u.links.push(l)},unregisterLink:l=>{const y=u.links.indexOf(l);y!==-1&&u.links.splice(y,1)},activeLink:$,scrollTo:d,handleClick:(l,y)=>{t("click",l,y)},direction:p}),Pe(()=>{be(()=>{const l=B.value();u.scrollContainer=l,u.scrollEvent=it(u.scrollContainer,"scroll",_),_()})}),Ce(()=>{u.scrollEvent&&u.scrollEvent.remove()}),Vt(()=>{if(u.scrollEvent){const l=B.value();u.scrollContainer!==l&&(u.scrollContainer=l,u.scrollEvent.remove(),u.scrollEvent=it(u.scrollContainer,"scroll",_),_())}P()});const A=l=>Array.isArray(l)?l.map(y=>{const{children:m,key:b,href:f,target:T,class:D,style:k,title:E}=y;return i(Et,{key:b,href:f,target:T,class:D,style:k,title:E,customTitleProps:y},{default:()=>[p.value==="vertical"?A(m):null],customTitle:a.customTitle})}):null,[x,C]=jn(s);return()=>{var l;const{offsetTop:y,affix:m,showInkInFixed:b}=e,f=s.value,T=X(`${f}-ink`,{[`${f}-ink-visible`]:$.value}),D=X(C.value,e.wrapperClass,`${f}-wrapper`,{[`${f}-wrapper-horizontal`]:p.value==="horizontal",[`${f}-rtl`]:v.value==="rtl"}),k=X(f,{[`${f}-fixed`]:!m&&!b}),E=I({maxHeight:y?`calc(100vh - ${y}px)`:"100vh"},e.wrapperStyle),F=i("div",{class:D,style:E,ref:g},[i("div",{class:k},[i("span",{class:T,ref:c},null),Array.isArray(e.items)?A(e.items):(l=a.default)===null||l===void 0?void 0:l.call(a)])]);return x(m?i(Gt,H(H({},o),{},{offsetTop:y,target:B.value}),{default:()=>[F]}):F)}}});ce.Link=Et;ce.install=function(e){return e.component(ce.name,ce),e.component(ce.Link.name,ce.Link),e};const Be=(e,n,t,o,a)=>({backgroundColor:e,border:`${o.lineWidth}px ${o.lineType} ${n}`,[`${a}-icon`]:{color:t}}),Gn=e=>{const{componentCls:n,motionDurationSlow:t,marginXS:o,marginSM:a,fontSize:r,fontSizeLG:s,lineHeight:h,borderRadiusLG:v,motionEaseInOutCirc:p,alertIconSizeLG:c,colorText:g,paddingContentVerticalSM:u,alertPaddingHorizontal:$,paddingMD:B,paddingContentHorizontalLG:w}=e;return{[n]:I(I({},pe(e)),{position:"relative",display:"flex",alignItems:"center",padding:`${u}px ${$}px`,wordWrap:"break-word",borderRadius:v,[`&${n}-rtl`]:{direction:"rtl"},[`${n}-content`]:{flex:1,minWidth:0},[`${n}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:r,lineHeight:h},"&-message":{color:g},[`&${n}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${t} ${p}, opacity ${t} ${p},
        padding-top ${t} ${p}, padding-bottom ${t} ${p},
        margin-bottom ${t} ${p}`},[`&${n}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${n}-with-description`]:{alignItems:"flex-start",paddingInline:w,paddingBlock:B,[`${n}-icon`]:{marginInlineEnd:a,fontSize:c,lineHeight:0},[`${n}-message`]:{display:"block",marginBottom:o,color:g,fontSize:s},[`${n}-description`]:{display:"block"}},[`${n}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},Yn=e=>{const{componentCls:n,colorSuccess:t,colorSuccessBorder:o,colorSuccessBg:a,colorWarning:r,colorWarningBorder:s,colorWarningBg:h,colorError:v,colorErrorBorder:p,colorErrorBg:c,colorInfo:g,colorInfoBorder:u,colorInfoBg:$}=e;return{[n]:{"&-success":Be(a,o,t,e,n),"&-info":Be($,u,g,e,n),"&-warning":Be(h,s,r,e,n),"&-error":I(I({},Be(c,p,v,e,n)),{[`${n}-description > pre`]:{margin:0,padding:0}})}}},Xn=e=>{const{componentCls:n,iconCls:t,motionDurationMid:o,marginXS:a,fontSizeIcon:r,colorIcon:s,colorIconHover:h}=e;return{[n]:{"&-action":{marginInlineStart:a},[`${n}-close-icon`]:{marginInlineStart:a,padding:0,overflow:"hidden",fontSize:r,lineHeight:`${r}px`,backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${t}-close`]:{color:s,transition:`color ${o}`,"&:hover":{color:h}}},"&-close-text":{color:s,transition:`color ${o}`,"&:hover":{color:h}}}}},Zn=e=>[Gn(e),Yn(e),Xn(e)],Un=$e("Alert",e=>{const{fontSizeHeading3:n}=e,t=_e(e,{alertIconSizeLG:n,alertPaddingHorizontal:12});return[Zn(t)]}),Jn={success:Ut,info:Jt,error:Qt,warning:Kt},Qn={success:en,info:tn,error:nn,warning:on},Kn=Xt("success","info","warning","error"),eo=()=>({type:q.oneOf(Kn),closable:{type:Boolean,default:void 0},closeText:q.any,message:q.any,description:q.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:q.any,closeIcon:q.any,onClose:Function}),to=V({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:eo(),setup(e,n){let{slots:t,emit:o,attrs:a,expose:r}=n;const{prefixCls:s,direction:h}=te("alert",e),[v,p]=Un(s),c=we(!1),g=we(!1),u=we(),$=d=>{d.preventDefault();const _=u.value;_.style.height=`${_.offsetHeight}px`,_.style.height=`${_.offsetHeight}px`,c.value=!0,o("close",d)},B=()=>{var d;c.value=!1,g.value=!0,(d=e.afterClose)===null||d===void 0||d.call(e)},w=L(()=>{const{type:d}=e;return d!==void 0?d:e.banner?"warning":"info"});r({animationEnd:B});const S=we({});return()=>{var d,_,P,A,x,C,l,y,m,b;const{banner:f,closeIcon:T=(d=t.closeIcon)===null||d===void 0?void 0:d.call(t)}=e;let{closable:D,showIcon:k}=e;const E=(_=e.closeText)!==null&&_!==void 0?_:(P=t.closeText)===null||P===void 0?void 0:P.call(t),F=(A=e.description)!==null&&A!==void 0?A:(x=t.description)===null||x===void 0?void 0:x.call(t),J=(C=e.message)!==null&&C!==void 0?C:(l=t.message)===null||l===void 0?void 0:l.call(t),Q=(y=e.icon)!==null&&y!==void 0?y:(m=t.icon)===null||m===void 0?void 0:m.call(t),ne=(b=t.action)===null||b===void 0?void 0:b.call(t);k=f&&k===void 0?!0:k;const le=(F?Qn:Jn)[w.value]||null;E&&(D=!0);const N=s.value,G=X(N,{[`${N}-${w.value}`]:!0,[`${N}-closing`]:c.value,[`${N}-with-description`]:!!F,[`${N}-no-icon`]:!k,[`${N}-banner`]:!!f,[`${N}-closable`]:D,[`${N}-rtl`]:h.value==="rtl",[p.value]:!0}),K=D?i("button",{type:"button",onClick:$,class:`${N}-close-icon`,tabindex:0},[E?i("span",{class:`${N}-close-text`},[E]):T===void 0?i(St,null,null):T]):null,ee=Q&&(Zt(Q)?We(Q,{class:`${N}-icon`}):i("span",{class:`${N}-icon`},[Q]))||i(le,{class:`${N}-icon`},null),Se=De(`${N}-motion`,{appear:!1,css:!0,onAfterLeave:B,onBeforeLeave:Y=>{Y.style.maxHeight=`${Y.offsetHeight}px`},onLeave:Y=>{Y.style.maxHeight="0px"}});return v(g.value?null:i(Le,Se,{default:()=>[Ee(i("div",H(H({role:"alert"},a),{},{style:[a.style,S.value],class:[a.class,G],"data-show":!c.value,ref:u}),[k?ee:null,i("div",{class:`${N}-content`},[J?i("div",{class:`${N}-message`},[J]):null,F?i("div",{class:`${N}-description`},[F]):null]),ne?i("div",{class:`${N}-action`},[ne]):null,K]),[[Me,!c.value]])]}))}}}),no=wt(to);function mt(e){let{prefixCls:n,value:t,current:o,offset:a=0}=e,r;return a&&(r={position:"absolute",top:`${a}00%`,left:0}),i("p",{style:r,class:X(`${n}-only-unit`,{current:o})},[t])}function oo(e,n,t){let o=e,a=0;for(;(o+10)%10!==n;)o+=t,a+=t;return a}const ao=V({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup(e){const n=L(()=>Number(e.value)),t=L(()=>Math.abs(e.count)),o=U({prevValue:n.value,prevCount:t.value}),a=()=>{o.prevValue=n.value,o.prevCount=t.value},r=M();return he(n,()=>{clearTimeout(r.value),r.value=setTimeout(()=>{a()},1e3)},{flush:"post"}),an(()=>{clearTimeout(r.value)}),()=>{let s,h={};const v=n.value;if(o.prevValue===v||Number.isNaN(v)||Number.isNaN(o.prevValue))s=[mt(I(I({},e),{current:!0}))],h={transition:"none"};else{s=[];const p=v+10,c=[];for(let $=v;$<=p;$+=1)c.push($);const g=c.findIndex($=>$%10===o.prevValue);s=c.map(($,B)=>{const w=$%10;return mt(I(I({},e),{value:w,offset:B-g,current:B===g}))});const u=o.prevCount<t.value?1:-1;h={transform:`translateY(${-oo(o.prevValue,v,u)}00%)`}}return i("span",{class:`${e.prefixCls}-only`,style:h,onTransitionend:()=>a()},[s])}}});var ro=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]]);return t};const io={prefixCls:String,count:q.any,component:String,title:q.any,show:Boolean},lo=V({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:io,setup(e,n){let{attrs:t,slots:o}=n;const{prefixCls:a}=te("scroll-number",e);return()=>{var r;const s=I(I({},e),t),{prefixCls:h,count:v,title:p,show:c,component:g="sup",class:u,style:$}=s,B=ro(s,["prefixCls","count","title","show","component","class","style"]),w=I(I({},B),{style:$,"data-show":e.show,class:X(a.value,u),title:p});let S=v;if(v&&Number(v)%1===0){const _=String(v).split("");S=_.map((P,A)=>i(ao,{prefixCls:a.value,count:Number(v),value:P,key:_.length-A},null))}$&&$.borderColor&&(w.style=I(I({},$),{boxShadow:`0 0 0 1px ${$.borderColor} inset`}));const d=xt((r=o.default)===null||r===void 0?void 0:r.call(o));return d&&d.length?We(d,{class:X(`${a.value}-custom-component`)},!1):i(g,w,{default:()=>[S]})}}}),so=new ie("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),co=new ie("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),uo=new ie("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),mo=new ie("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),fo=new ie("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),po=new ie("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),go=e=>{const{componentCls:n,iconCls:t,antCls:o,badgeFontHeight:a,badgeShadowSize:r,badgeHeightSm:s,motionDurationSlow:h,badgeStatusSize:v,marginXS:p,badgeRibbonOffset:c}=e,g=`${o}-scroll-number`,u=`${o}-ribbon`,$=`${o}-ribbon-wrapper`,B=lt(e,(S,d)=>{let{darkColor:_}=d;return{[`&${n} ${n}-color-${S}`]:{background:_,[`&:not(${n}-count)`]:{color:_}}}}),w=lt(e,(S,d)=>{let{darkColor:_}=d;return{[`&${u}-color-${S}`]:{background:_,color:_}}});return{[n]:I(I(I(I({},pe(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${n}-count`]:{zIndex:e.badgeZIndex,minWidth:e.badgeHeight,height:e.badgeHeight,color:e.badgeTextColor,fontWeight:e.badgeFontWeight,fontSize:e.badgeFontSize,lineHeight:`${e.badgeHeight}px`,whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:e.badgeHeight/2,boxShadow:`0 0 0 ${r}px ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${n}-count-sm`]:{minWidth:s,height:s,fontSize:e.badgeFontSizeSm,lineHeight:`${s}px`,borderRadius:s/2},[`${n}-multiple-words`]:{padding:`0 ${e.paddingXS}px`},[`${n}-dot`]:{zIndex:e.badgeZIndex,width:e.badgeDotSize,minWidth:e.badgeDotSize,height:e.badgeDotSize,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${r}px ${e.badgeShadowColor}`},[`${n}-dot${g}`]:{transition:`background ${h}`},[`${n}-count, ${n}-dot, ${g}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${t}-spin`]:{animationName:po,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${n}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${n}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:v,height:v,verticalAlign:"middle",borderRadius:"50%"},[`${n}-status-success`]:{backgroundColor:e.colorSuccess},[`${n}-status-processing`]:{overflow:"visible",color:e.colorPrimary,backgroundColor:e.colorPrimary,"&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:r,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:so,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${n}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${n}-status-error`]:{backgroundColor:e.colorError},[`${n}-status-warning`]:{backgroundColor:e.colorWarning},[`${n}-status-text`]:{marginInlineStart:p,color:e.colorText,fontSize:e.fontSize}}}),B),{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:co,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${n}-zoom-leave`]:{animationName:uo,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${n}-not-a-wrapper`]:{[`${n}-zoom-appear, ${n}-zoom-enter`]:{animationName:mo,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${n}-zoom-leave`]:{animationName:fo,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${n}-status)`]:{verticalAlign:"middle"},[`${g}-custom-component, ${n}-count`]:{transform:"none"},[`${g}-custom-component, ${g}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[`${g}`]:{overflow:"hidden",[`${g}-only`]:{position:"relative",display:"inline-block",height:e.badgeHeight,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${g}-only-unit`]:{height:e.badgeHeight,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${g}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${n}-count, ${n}-dot, ${g}-custom-component`]:{transform:"translate(-50%, -50%)"}}}),[`${$}`]:{position:"relative"},[`${u}`]:I(I(I(I({},pe(e)),{position:"absolute",top:p,padding:`0 ${e.paddingXS}px`,color:e.colorPrimary,lineHeight:`${a}px`,whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${u}-text`]:{color:e.colorTextLightSolid},[`${u}-corner`]:{position:"absolute",top:"100%",width:c,height:c,color:"currentcolor",border:`${c/2}px solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),w),{[`&${u}-placement-end`]:{insetInlineEnd:-c,borderEndEndRadius:0,[`${u}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${u}-placement-start`]:{insetInlineStart:-c,borderEndStartRadius:0,[`${u}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}},Mt=$e("Badge",e=>{const{fontSize:n,lineHeight:t,fontSizeSM:o,lineWidth:a,marginXS:r,colorBorderBg:s}=e,h=Math.round(n*t),v=a,p="auto",c=h-2*v,g=e.colorBgContainer,u="normal",$=o,B=e.colorError,w=e.colorErrorHover,S=n,d=o/2,_=o,P=o/2,A=_e(e,{badgeFontHeight:h,badgeShadowSize:v,badgeZIndex:p,badgeHeight:c,badgeTextColor:g,badgeFontWeight:u,badgeFontSize:$,badgeColor:B,badgeColorHover:w,badgeShadowColor:s,badgeHeightSm:S,badgeDotSize:d,badgeFontSizeSm:_,badgeStatusSize:P,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"});return[go(A)]});var ho=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]]);return t};const vo=()=>({prefix:String,color:{type:String},text:q.any,placement:{type:String,default:"end"}}),je=V({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:vo(),slots:Object,setup(e,n){let{attrs:t,slots:o}=n;const{prefixCls:a,direction:r}=te("ribbon",e),[s,h]=Mt(a),v=L(()=>Bt(e.color,!1)),p=L(()=>[a.value,`${a.value}-placement-${e.placement}`,{[`${a.value}-rtl`]:r.value==="rtl",[`${a.value}-color-${e.color}`]:v.value}]);return()=>{var c,g;const{class:u,style:$}=t,B=ho(t,["class","style"]),w={},S={};return e.color&&!v.value&&(w.background=e.color,S.color=e.color),s(i("div",H({class:`${a.value}-wrapper ${h.value}`},B),[(c=o.default)===null||c===void 0?void 0:c.call(o),i("div",{class:[p.value,u,h.value],style:I(I({},w),$)},[i("span",{class:`${a.value}-text`},[e.text||((g=o.text)===null||g===void 0?void 0:g.call(o))]),i("div",{class:`${a.value}-corner`,style:S},null)])]))}}}),bo=e=>!isNaN(parseFloat(e))&&isFinite(e),yo=()=>({count:q.any.def(null),showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:q.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}),Oe=V({compatConfig:{MODE:3},name:"ABadge",Ribbon:je,inheritAttrs:!1,props:yo(),slots:Object,setup(e,n){let{slots:t,attrs:o}=n;const{prefixCls:a,direction:r}=te("badge",e),[s,h]=Mt(a),v=L(()=>e.count>e.overflowCount?`${e.overflowCount}+`:e.count),p=L(()=>v.value==="0"||v.value===0),c=L(()=>e.count===null||p.value&&!e.showZero),g=L(()=>(e.status!==null&&e.status!==void 0||e.color!==null&&e.color!==void 0)&&c.value),u=L(()=>e.dot&&!p.value),$=L(()=>u.value?"":v.value),B=L(()=>($.value===null||$.value===void 0||$.value===""||p.value&&!e.showZero)&&!u.value),w=M(e.count),S=M($.value),d=M(u.value);he([()=>e.count,$,u],()=>{B.value||(w.value=e.count,S.value=$.value,d.value=u.value)},{immediate:!0});const _=L(()=>Bt(e.color,!1)),P=L(()=>({[`${a.value}-status-dot`]:g.value,[`${a.value}-status-${e.status}`]:!!e.status,[`${a.value}-color-${e.color}`]:_.value})),A=L(()=>e.color&&!_.value?{background:e.color,color:e.color}:{}),x=L(()=>({[`${a.value}-dot`]:d.value,[`${a.value}-count`]:!d.value,[`${a.value}-count-sm`]:e.size==="small",[`${a.value}-multiple-words`]:!d.value&&S.value&&S.value.toString().length>1,[`${a.value}-status-${e.status}`]:!!e.status,[`${a.value}-color-${e.color}`]:_.value}));return()=>{var C,l;const{offset:y,title:m,color:b}=e,f=o.style,T=rn(t,e,"text"),D=a.value,k=w.value;let E=Ot((C=t.default)===null||C===void 0?void 0:C.call(t));E=E.length?E:null;const F=!!(!B.value||t.count),J=(()=>{if(!y)return I({},f);const ee={marginTop:bo(y[1])?`${y[1]}px`:y[1]};return r.value==="rtl"?ee.left=`${parseInt(y[0],10)}px`:ee.right=`${-parseInt(y[0],10)}px`,I(I({},ee),f)})(),Q=m??(typeof k=="string"||typeof k=="number"?k:void 0),ne=F||!T?null:i("span",{class:`${D}-status-text`},[T]),le=typeof k=="object"||k===void 0&&t.count?We(k??((l=t.count)===null||l===void 0?void 0:l.call(t)),{style:J},!1):null,N=X(D,{[`${D}-status`]:g.value,[`${D}-not-a-wrapper`]:!E,[`${D}-rtl`]:r.value==="rtl"},o.class,h.value);if(!E&&g.value){const ee=J.color;return s(i("span",H(H({},o),{},{class:N,style:J}),[i("span",{class:P.value,style:A.value},null),i("span",{style:{color:ee},class:`${D}-status-text`},[T])]))}const G=De(E?`${D}-zoom`:"",{appear:!1});let K=I(I({},J),e.numberStyle);return b&&!_.value&&(K=K||{},K.background=b),s(i("span",H(H({},o),{},{class:N}),[E,i(Le,G,{default:()=>[Ee(i(lo,{prefixCls:e.scrollNumberPrefixCls,show:F,class:x.value,count:S.value,title:Q,style:K,key:"scrollNumber"},{default:()=>[le]}),[[Me,F]])]}),ne]))}}});Oe.install=function(e){return e.component(Oe.name,Oe),e.component(je.name,je),e};const $o=e=>{const{componentCls:n,commentBg:t,commentPaddingBase:o,commentNestIndent:a,commentFontSizeBase:r,commentFontSizeSm:s,commentAuthorNameColor:h,commentAuthorTimeColor:v,commentActionColor:p,commentActionHoverColor:c,commentActionsMarginBottom:g,commentActionsMarginTop:u,commentContentDetailPMarginBottom:$}=e;return{[n]:{position:"relative",backgroundColor:t,[`${n}-inner`]:{display:"flex",padding:o},[`${n}-avatar`]:{position:"relative",flexShrink:0,marginRight:e.marginSM,cursor:"pointer",img:{width:"32px",height:"32px",borderRadius:"50%"}},[`${n}-content`]:{position:"relative",flex:"1 1 auto",minWidth:"1px",fontSize:r,wordWrap:"break-word","&-author":{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",marginBottom:e.marginXXS,fontSize:r,"& > a,& > span":{paddingRight:e.paddingXS,fontSize:s,lineHeight:"18px"},"&-name":{color:h,fontSize:r,transition:`color ${e.motionDurationSlow}`,"> *":{color:h,"&:hover":{color:h}}},"&-time":{color:v,whiteSpace:"nowrap",cursor:"auto"}},"&-detail p":{marginBottom:$,whiteSpace:"pre-wrap"}},[`${n}-actions`]:{marginTop:u,marginBottom:g,paddingLeft:0,"> li":{display:"inline-block",color:p,"> span":{marginRight:"10px",color:p,fontSize:s,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,userSelect:"none","&:hover":{color:c}}}},[`${n}-nested`]:{marginLeft:a},"&-rtl":{direction:"rtl"}}}},_o=$e("Comment",e=>{const n=_e(e,{commentBg:"inherit",commentPaddingBase:`${e.paddingMD}px 0`,commentNestIndent:"44px",commentFontSizeBase:e.fontSize,commentFontSizeSm:e.fontSizeSM,commentAuthorNameColor:e.colorTextTertiary,commentAuthorTimeColor:e.colorTextPlaceholder,commentActionColor:e.colorTextTertiary,commentActionHoverColor:e.colorTextSecondary,commentActionsMarginBottom:"inherit",commentActionsMarginTop:e.marginSM,commentContentDetailPMarginBottom:"inherit"});return[$o(n)]}),Co=()=>({actions:Array,author:q.any,avatar:q.any,content:q.any,prefixCls:String,datetime:q.any}),So=V({compatConfig:{MODE:3},name:"AComment",inheritAttrs:!1,props:Co(),slots:Object,setup(e,n){let{slots:t,attrs:o}=n;const{prefixCls:a,direction:r}=te("comment",e),[s,h]=_o(a),v=(c,g)=>i("div",{class:`${c}-nested`},[g]),p=c=>!c||!c.length?null:c.map((u,$)=>i("li",{key:`action-${$}`},[u]));return()=>{var c,g,u,$,B,w,S,d,_,P,A;const x=a.value,C=(c=e.actions)!==null&&c!==void 0?c:(g=t.actions)===null||g===void 0?void 0:g.call(t),l=(u=e.author)!==null&&u!==void 0?u:($=t.author)===null||$===void 0?void 0:$.call(t),y=(B=e.avatar)!==null&&B!==void 0?B:(w=t.avatar)===null||w===void 0?void 0:w.call(t),m=(S=e.content)!==null&&S!==void 0?S:(d=t.content)===null||d===void 0?void 0:d.call(t),b=(_=e.datetime)!==null&&_!==void 0?_:(P=t.datetime)===null||P===void 0?void 0:P.call(t),f=i("div",{class:`${x}-avatar`},[typeof y=="string"?i("img",{src:y,alt:"comment-avatar"},null):y]),T=C?i("ul",{class:`${x}-actions`},[p(Array.isArray(C)?C:[C])]):null,D=i("div",{class:`${x}-content-author`},[l&&i("span",{class:`${x}-content-author-name`},[l]),b&&i("span",{class:`${x}-content-author-time`},[b])]),k=i("div",{class:`${x}-content`},[D,i("div",{class:`${x}-content-detail`},[m]),T]),E=i("div",{class:`${x}-inner`},[f,k]),F=Ot((A=t.default)===null||A===void 0?void 0:A.call(t));return s(i("div",H(H({},o),{},{class:[x,{[`${x}-rtl`]:r.value==="rtl"},o.class,h.value]}),[E,F&&F.length?v(x,F):null]))}}}),Lt=wt(So);var wo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"};function ft(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){xo(e,a,t[a])})}return e}function xo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var He=function(n,t){var o=ft({},n,t.attrs);return i(ve,ft({},o,{icon:wo}),null)};He.displayName="FileTextOutlined";He.inheritAttrs=!1;const Je=()=>({prefixCls:String,description:q.any,type:Ie("default"),shape:Ie("circle"),tooltip:q.any,href:String,target:String,badge:Ct(),onClick:ye()}),Bo=()=>({prefixCls:Ie()}),Oo=()=>I(I({},Je()),{trigger:Ie(),open:ln(),onOpenChange:ye(),"onUpdate:open":ye()}),Io=()=>I(I({},Je()),{prefixCls:String,duration:Number,target:ye(),visibilityHeight:Number,onClick:ye()}),ko=V({compatConfig:{MODE:3},name:"AFloatButtonContent",inheritAttrs:!1,props:Bo(),setup(e,n){let{attrs:t,slots:o}=n;return()=>{var a;const{prefixCls:r}=e,s=xt((a=o.description)===null||a===void 0?void 0:a.call(o));return i("div",H(H({},t),{},{class:[t.class,`${r}-content`]}),[o.icon||s.length?i(ge,null,[o.icon&&i("div",{class:`${r}-icon`},[o.icon()]),s.length?i("div",{class:`${r}-description`},[s]):null]):i("div",{class:`${r}-icon`},[i(He,null,null)])])}}}),Nt=Symbol("floatButtonGroupContext"),To=e=>($t(Nt,e),e),Ht=()=>_t(Nt,{shape:M()}),pt=e=>e===0?0:e-Math.sqrt(Math.pow(e,2)/2),Ao=e=>{const{componentCls:n,floatButtonSize:t,motionDurationSlow:o,motionEaseInOutCirc:a}=e,r=`${n}-group`,s=new ie("antFloatButtonMoveDownIn",{"0%":{transform:`translate3d(0, ${t}px, 0)`,transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),h=new ie("antFloatButtonMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:`translate3d(0, ${t}px, 0)`,transformOrigin:"0 0",opacity:0}});return[{[`${r}-wrap`]:I({},sn(`${r}-wrap`,s,h,o,!0))},{[`${r}-wrap`]:{[`
          &${r}-wrap-enter,
          &${r}-wrap-appear
        `]:{opacity:0,animationTimingFunction:a},[`&${r}-wrap-leave`]:{animationTimingFunction:a}}}]},zo=e=>{const{antCls:n,componentCls:t,floatButtonSize:o,margin:a,borderRadiusLG:r,borderRadiusSM:s,badgeOffset:h,floatButtonBodyPadding:v}=e,p=`${t}-group`;return{[p]:I(I({},pe(e)),{zIndex:99,display:"block",border:"none",position:"fixed",width:o,height:"auto",boxShadow:"none",minHeight:o,insetInlineEnd:e.floatButtonInsetInlineEnd,insetBlockEnd:e.floatButtonInsetBlockEnd,borderRadius:r,[`${p}-wrap`]:{zIndex:-1,display:"block",position:"relative",marginBottom:a},[`&${p}-rtl`]:{direction:"rtl"},[t]:{position:"static"}}),[`${p}-circle`]:{[`${t}-circle:not(:last-child)`]:{marginBottom:e.margin,[`${t}-body`]:{width:o,height:o,borderRadius:"50%"}}},[`${p}-square`]:{[`${t}-square`]:{borderRadius:0,padding:0,"&:first-child":{borderStartStartRadius:r,borderStartEndRadius:r},"&:last-child":{borderEndStartRadius:r,borderEndEndRadius:r},"&:not(:last-child)":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${n}-badge`]:{[`${n}-badge-count`]:{top:-(v+h),insetInlineEnd:-(v+h)}}},[`${p}-wrap`]:{display:"block",borderRadius:r,boxShadow:e.boxShadowSecondary,[`${t}-square`]:{boxShadow:"none",marginTop:0,borderRadius:0,padding:v,"&:first-child":{borderStartStartRadius:r,borderStartEndRadius:r},"&:last-child":{borderEndStartRadius:r,borderEndEndRadius:r},"&:not(:last-child)":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize}}}},[`${p}-circle-shadow`]:{boxShadow:"none"},[`${p}-square-shadow`]:{boxShadow:e.boxShadowSecondary,[`${t}-square`]:{boxShadow:"none",padding:v,[`${t}-body`]:{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:s}}}}},Po=e=>{const{antCls:n,componentCls:t,floatButtonBodyPadding:o,floatButtonIconSize:a,floatButtonSize:r,borderRadiusLG:s,badgeOffset:h,dotOffsetInSquare:v,dotOffsetInCircle:p}=e;return{[t]:I(I({},pe(e)),{border:"none",position:"fixed",cursor:"pointer",zIndex:99,display:"block",justifyContent:"center",alignItems:"center",width:r,height:r,insetInlineEnd:e.floatButtonInsetInlineEnd,insetBlockEnd:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"},[`${n}-badge`]:{width:"100%",height:"100%",[`${n}-badge-count`]:{transform:"translate(0, 0)",transformOrigin:"center",top:-h,insetInlineEnd:-h}},[`${t}-body`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:`all ${e.motionDurationMid}`,[`${t}-content`]:{overflow:"hidden",textAlign:"center",minHeight:r,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:`${o/2}px ${o}px`,[`${t}-icon`]:{textAlign:"center",margin:"auto",width:a,fontSize:a,lineHeight:1}}}}),[`${t}-rtl`]:{direction:"rtl"},[`${t}-circle`]:{height:r,borderRadius:"50%",[`${n}-badge`]:{[`${n}-badge-dot`]:{top:p,insetInlineEnd:p}},[`${t}-body`]:{borderRadius:"50%"}},[`${t}-square`]:{height:"auto",minHeight:r,borderRadius:s,[`${n}-badge`]:{[`${n}-badge-dot`]:{top:v,insetInlineEnd:v}},[`${t}-body`]:{height:"auto",borderRadius:s}},[`${t}-default`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,[`${t}-body`]:{backgroundColor:e.floatButtonBackgroundColor,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorFillContent},[`${t}-content`]:{[`${t}-icon`]:{color:e.colorText},[`${t}-description`]:{display:"flex",alignItems:"center",lineHeight:`${e.fontSizeLG}px`,color:e.colorText,fontSize:e.fontSizeSM}}}},[`${t}-primary`]:{backgroundColor:e.colorPrimary,[`${t}-body`]:{backgroundColor:e.colorPrimary,transition:`background-color ${e.motionDurationMid}`,"&:hover":{backgroundColor:e.colorPrimaryHover},[`${t}-content`]:{[`${t}-icon`]:{color:e.colorTextLightSolid},[`${t}-description`]:{display:"flex",alignItems:"center",lineHeight:`${e.fontSizeLG}px`,color:e.colorTextLightSolid,fontSize:e.fontSizeSM}}}}}},Qe=$e("FloatButton",e=>{const{colorTextLightSolid:n,colorBgElevated:t,controlHeightLG:o,marginXXL:a,marginLG:r,fontSize:s,fontSizeIcon:h,controlItemBgHover:v,paddingXXS:p,borderRadiusLG:c}=e,g=_e(e,{floatButtonBackgroundColor:t,floatButtonColor:n,floatButtonHoverBackgroundColor:v,floatButtonFontSize:s,floatButtonIconSize:h*1.5,floatButtonSize:o,floatButtonInsetBlockEnd:a,floatButtonInsetInlineEnd:r,floatButtonBodySize:o-p*2,floatButtonBodyPadding:p,badgeOffset:p*1.5,dotOffsetInCircle:pt(o/2),dotOffsetInSquare:pt(c)});return[zo(g),Po(g),En(e),Ao(g)]});var Do=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]]);return t};const Ke="float-btn",re=V({compatConfig:{MODE:3},name:"AFloatButton",inheritAttrs:!1,props:ze(Je(),{type:"default",shape:"circle"}),setup(e,n){let{attrs:t,slots:o}=n;const{prefixCls:a,direction:r}=te(Ke,e),[s,h]=Qe(a),{shape:v}=Ht(),p=M(null),c=L(()=>(v==null?void 0:v.value)||e.shape);return()=>{var g;const{prefixCls:u,type:$="default",shape:B="circle",description:w=(g=o.description)===null||g===void 0?void 0:g.call(o),tooltip:S,badge:d={}}=e,_=Do(e,["prefixCls","type","shape","description","tooltip","badge"]),P=X(a.value,`${a.value}-${$}`,`${a.value}-${c.value}`,{[`${a.value}-rtl`]:r.value==="rtl"},t.class,h.value),A=i(Ne,{placement:"left"},{title:o.tooltip||S?()=>o.tooltip&&o.tooltip()||S:void 0,default:()=>i(Oe,d,{default:()=>[i("div",{class:`${a.value}-body`},[i(ko,{prefixCls:a.value},{icon:o.icon,description:()=>w})])]})});return s(e.href?i("a",H(H(H({ref:p},t),_),{},{class:P}),[A]):i("button",H(H(H({ref:p},t),_),{},{class:P,type:"button"}),[A]))}}}),ke=V({compatConfig:{MODE:3},name:"AFloatButtonGroup",inheritAttrs:!1,props:ze(Oo(),{type:"default",shape:"circle"}),setup(e,n){let{attrs:t,slots:o,emit:a}=n;const{prefixCls:r,direction:s}=te(Ke,e),[h,v]=Qe(r),[p,c]=Mn(!1,{value:L(()=>e.open)}),g=M(null),u=M(null);To({shape:L(()=>e.shape)});const $={onMouseenter(){var d;c(!0),a("update:open",!0),(d=e.onOpenChange)===null||d===void 0||d.call(e,!0)},onMouseleave(){var d;c(!1),a("update:open",!1),(d=e.onOpenChange)===null||d===void 0||d.call(e,!1)}},B=L(()=>e.trigger==="hover"?$:{}),w=()=>{var d;const _=!p.value;a("update:open",_),(d=e.onOpenChange)===null||d===void 0||d.call(e,_),c(_)},S=d=>{var _,P,A;if(!((_=g.value)===null||_===void 0)&&_.contains(d.target)){!((P=un(u.value))===null||P===void 0)&&P.contains(d.target)&&w();return}c(!1),a("update:open",!1),(A=e.onOpenChange)===null||A===void 0||A.call(e,!1)};return he(L(()=>e.trigger),d=>{cn()&&(document.removeEventListener("click",S),d==="click"&&document.addEventListener("click",S))},{immediate:!0}),Ce(()=>{document.removeEventListener("click",S)}),()=>{var d;const{shape:_="circle",type:P="default",tooltip:A,description:x,trigger:C}=e,l=`${r.value}-group`,y=X(l,v.value,t.class,{[`${l}-rtl`]:s.value==="rtl",[`${l}-${_}`]:_,[`${l}-${_}-shadow`]:!C}),m=X(v.value,`${l}-wrap`),b=De(`${l}-wrap`);return h(i("div",H(H({ref:g},t),{},{class:y},B.value),[C&&["click","hover"].includes(C)?i(ge,null,[i(Le,b,{default:()=>[Ee(i("div",{class:m},[o.default&&o.default()]),[[Me,p.value]])]}),i(re,{ref:u,type:P,shape:_,tooltip:A,description:x},{icon:()=>{var f,T;return p.value?((f=o.closeIcon)===null||f===void 0?void 0:f.call(o))||i(St,null,null):((T=o.icon)===null||T===void 0?void 0:T.call(o))||i(He,null,null)},tooltip:o.tooltip,description:o.description})]):(d=o.default)===null||d===void 0?void 0:d.call(o)]))}}});var Eo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};function gt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){Mo(e,a,t[a])})}return e}function Mo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var et=function(n,t){var o=gt({},n,t.attrs);return i(ve,gt({},o,{icon:Eo}),null)};et.displayName="VerticalAlignTopOutlined";et.inheritAttrs=!1;const Te=V({compatConfig:{MODE:3},name:"ABackTop",inheritAttrs:!1,props:ze(Io(),{visibilityHeight:400,target:()=>window,duration:450,type:"default",shape:"circle"}),setup(e,n){let{slots:t,attrs:o,emit:a}=n;const{prefixCls:r,direction:s}=te(Ke,e),[h]=Qe(r),v=M(),p=U({visible:e.visibilityHeight===0,scrollEvent:null}),c=()=>v.value&&v.value.ownerDocument?v.value.ownerDocument:window,g=S=>{const{target:d=c,duration:_}=e;Pt(0,{getContainer:d,duration:_}),a("click",S)},u=fn(S=>{const{visibilityHeight:d}=e,_=Ue(S.target);p.visible=_>=d}),$=()=>{const{target:S}=e,_=(S||c)();u({target:_}),_==null||_.addEventListener("scroll",u)},B=()=>{const{target:S}=e,_=(S||c)();u.cancel(),_==null||_.removeEventListener("scroll",u)};he(()=>e.target,()=>{B(),be(()=>{$()})}),Pe(()=>{be(()=>{$()})}),dn(()=>{be(()=>{$()})}),mn(()=>{B()}),Ce(()=>{B()});const w=Ht();return()=>{const{description:S,type:d,shape:_,tooltip:P,badge:A}=e,x=I(I({},o),{shape:(w==null?void 0:w.shape.value)||_,onClick:g,class:{[`${r.value}`]:!0,[`${o.class}`]:o.class,[`${r.value}-rtl`]:s.value==="rtl"},description:S,type:d,tooltip:P,badge:A}),C=De("fade");return h(i(Le,C,{default:()=>[Ee(i(re,H(H({},x),{},{ref:v}),{icon:()=>{var l;return((l=t.icon)===null||l===void 0?void 0:l.call(t))||i(et,null,null)}}),[[Me,p.visible]])]}))}}});re.Group=ke;re.BackTop=Te;re.install=function(e){return e.component(re.name,re),e.component(ke.name,ke),e.component(Te.name,Te),e};var Lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H273v428h.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM112 132v364c0 17.7 14.3 32 32 32h65V100h-65c-17.7 0-32 14.3-32 32z"}}]},name:"dislike",theme:"filled"};function ht(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){No(e,a,t[a])})}return e}function No(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var tt=function(n,t){var o=ht({},n,t.attrs);return i(ve,ht({},o,{icon:Lo}),null)};tt.displayName="DislikeFilled";tt.inheritAttrs=!1;var Ho={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4a66.1 66.1 0 00-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81zm627.2 160.4H496.8l9.6 198.4c.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7a44.28 44.28 0 01-42.2-32.3L329 459.2V172h415.4a56.85 56.85 0 0133.6 51.8c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19a56.76 56.76 0 0119.6 43c0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19a56.76 56.76 0 0119.6 43c0 19.1-11 37.5-28.8 48.4z"}}]},name:"dislike",theme:"outlined"};function vt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){Ro(e,a,t[a])})}return e}function Ro(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var nt=function(n,t){var o=vt({},n,t.attrs);return i(ve,vt({},o,{icon:Ho}),null)};nt.displayName="DislikeOutlined";nt.inheritAttrs=!1;var Fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 00-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4A106.62 106.62 0 00471 99.9c-52 0-98 35-111.8 85.1l-85.9 311h-.3v428h472.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-.2-12.6-2-25.1-5.6-37.1zM112 528v364c0 17.7 14.3 32 32 32h65V496h-65c-17.7 0-32 14.3-32 32z"}}]},name:"like",theme:"filled"};function bt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){jo(e,a,t[a])})}return e}function jo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ot=function(n,t){var o=bt({},n,t.attrs);return i(ve,bt({},o,{icon:Fo}),null)};ot.displayName="LikeFilled";ot.inheritAttrs=!1;var qo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function yt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),o.forEach(function(a){Wo(e,a,t[a])})}return e}function Wo(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var at=function(n,t){var o=yt({},n,t.attrs);return i(ve,yt({},o,{icon:qo}),null)};at.displayName="SendOutlined";at.inheritAttrs=!1;const Vo=(e,n)=>{const t=[],a=new DOMParser().parseFromString(e,"text/html"),r=Array.from(a.querySelectorAll("h1, h2, h3, h4, h5, h6"));let s=1;const h=[];return r.forEach(v=>{const p=parseInt(v.tagName.slice(1)),c={key:s++,title:v.textContent,href:"#"+v.getAttribute("data-v-md-line"),lineIndex:v.getAttribute("data-v-md-line"),children:[]};for(;h.length>0&&h[h.length-1].level>=p;)h.pop();h.length===0?t.push(c):h[h.length-1].item.children.push(c),h.push({level:p,item:c})}),t},ue=class ue{constructor(){se(this,"collection","comment");se(this,"request");this.request=new Tt}static getInstance(){return ue.instance||(ue.instance=new ue),ue.instance}async findCommentById(n){try{const t=await this.request.get(`/comment/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async findComments(n={},t={current:1,size:10}){try{const o=await this.request.get("/comment",{params:{...n,...t}});return o.code==200?{success:!0,data:{comments:o.data.data,pagination:o.data.pagination}}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async findChildComments(n,t={current:1,size:10}){try{const o=await this.request.get("/comment/child",{params:{...n,...t}});return o.code==200?{success:!0,data:{comments:o.data.data,pagination:o.data.pagination}}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async createComment(n){try{const t=await this.request.post("/comment",{data:n});return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async updateComment(n,t){try{const o=await this.request.put(`/comment/${n}`,{data:t});return o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async like(n,t){try{let o=null;return t===1?o=await this.request.put(`/comment/like/${n}`):o=await this.request.put(`/comment/cancel-like/${n}`),o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async dislike(n,t){try{let o=null;return t===1?o=await this.request.put(`/comment/dislike/${n}`):o=await this.request.put(`/comment/cancel-dislike/${n}`),o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async deleteById(n){try{const t=await this.request.delete(`/comment/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}};se(ue,"instance");let Ae=ue;const Go=["href"],Yo={key:"comment-basic-like"},Xo={style:{"padding-left":"8px",cursor:"auto"}},Zo={key:"comment-basic-dislike"},Uo={style:{"padding-left":"8px",cursor:"auto"}},Jo={key:0},Rt=V({__name:"index",props:{comment:{type:Object,default:{}},comment_interaction_list:{type:Object,default:[]}},emits:["replay","like","dislike","delete"],setup(e,{emit:n}){const t=n,o=e,a=Ve(),r=U({...o.comment,children:[]}),s=M(!1),h=M(!1),v=Ae.getInstance(),p=M(!1),c=U({current:1,size:3,total:0,pages:0}),g=(x,C=!1)=>{x&&t("like",x,C)},u=(x,C=!1)=>{x&&t("dislike",x,C)};function $(x){t("replay",x)}const B=L(()=>ct(o.comment.updatedAt).format("YYYY-MM-DD: HH-mm-ss")),w=L(()=>ct(o.comment.createdAt).fromNow()),S=x=>{for(let C of o.comment_interaction_list)if(C.commentId===x)return C.action==="like";return!1},d=x=>{for(let C of o.comment_interaction_list)if(C.commentId===x)return C.action==="dislike";return!1};function _(x){x&&t("delete",x)}function P(x){p.value?(c.current=1,x.children.splice(0,x.children.length)):(h.value=!0,v.findChildComments({parentComment:x._id},{current:c.current,size:c.size}).then(C=>{C.data&&(c.current=C.data.pagination.current,c.size=C.data.pagination.size,c.total=C.data.pagination.total,Array.isArray(x.children)||(x.children=[]),x.children.push(...C.data.comments.map(l=>({...l,children:[]}))))}).catch(C=>{z.error(C.message)}).finally(()=>h.value=!1)),p.value=!p.value}function A(x){c.current+=1,s.value=!0,v.findChildComments({parentComment:x._id},{current:c.current,size:c.size}).then(C=>{C.data&&(c.current=C.data.pagination.current,c.size=C.data.pagination.size,c.total=C.data.pagination.total,x.children.push(...C.data.comments.map(l=>({...l,children:[]}))))}).catch(C=>{z.error(C.message)}).finally(()=>s.value=!1)}return(x,C)=>{const l=At,y=Ne,m=Xe,b=no,f=Ze,T=Ye,D=Lt;return R(),W(D,{class:"comment"},{author:O(()=>{var k,E;return[ae("a",{href:`#/user-info?use_id=${(k=r==null?void 0:r.author)==null?void 0:k.userId}`},oe((E=r==null?void 0:r.author)==null?void 0:E.username),9,Go)]}),avatar:O(()=>{var k,E;return[i(l,{src:(k=r.author)==null?void 0:k.avatar,alt:(E=r==null?void 0:r.author)==null?void 0:E.username},null,8,["src","alt"])]}),datetime:O(()=>[i(y,{title:B.value},{default:O(()=>[ae("span",null,oe(w.value),1)]),_:1},8,["title"])]),actions:O(()=>{var k;return[ae("span",Yo,[i(y,{title:"Like"},{default:O(()=>[S(r._id)?(R(),W(j(ot),{key:0,onClick:C[0]||(C[0]=()=>g(r._id,!0))})):(R(),W(j(Sn),{key:1,onClick:C[1]||(C[1]=()=>g(r._id))}))]),_:1}),ae("span",Xo,oe(r.like),1)]),ae("span",Zo,[i(y,{title:"Dislike"},{default:O(()=>[d(r._id)?(R(),W(j(tt),{key:0,onClick:C[2]||(C[2]=()=>u(r._id,!0))})):(R(),W(j(nt),{key:1,onClick:C[3]||(C[3]=()=>u(r._id))}))]),_:1}),ae("span",Uo,oe(r.dislike),1)]),ae("span",{key:"comment-nested-reply-to",onClick:C[4]||(C[4]=Re(E=>$(r),["prevent"]))},""),j(a).user._id===((k=r.author)==null?void 0:k.userId)?(R(),me("span",{key:"comment-nested-delete",onClick:C[5]||(C[5]=Re(E=>_(r._id),["prevent"]))},"")):fe("",!0)]}),content:O(()=>[ae("p",null,oe(r==null?void 0:r.content),1)]),default:O(()=>[i(f,{spinning:h.value},{default:O(()=>[r.childrenLen?(R(),W(b,{key:0,style:{color:"#666"},message:`Total replay: ${r.childrenLen}`,type:"info"},{action:O(()=>[i(m,{size:"small",type:"text",onClick:C[6]||(C[6]=()=>P(r))},{default:O(()=>[p.value?(R(),W(j(wn),{key:0})):(R(),W(j(Bn),{key:1}))]),_:1})]),_:1},8,["message"])):fe("",!0)]),_:1},8,["spinning"]),r.children&&r.children.length?(R(),me("div",Jo,[(R(!0),me(ge,null,Ge(r.children,k=>(R(),W(Rt,{key:k._id,comment:k,comment_interaction_list:e.comment_interaction_list,onReplay:$,onLike:g,onDislike:u},null,8,["comment","comment_interaction_list"]))),128)),i(f,{spinning:s.value},{default:O(()=>[r.children.length<c.total?(R(),W(T,{key:0,justify:"center"},{default:O(()=>[i(m,{type:"link",onClick:C[7]||(C[7]=k=>A(r))},{default:O(()=>C[8]||(C[8]=[Z("")])),_:1})]),_:1})):fe("",!0)]),_:1},8,["spinning"])])):fe("",!0)]),_:1})}}}),de=class de{constructor(){se(this,"collection","commentInteraction");se(this,"request");this.request=new Tt}static getInstance(){return de.instance||(de.instance=new de),de.instance}async findCommentInteractionById(n){try{const t=await this.request.get(`/commentInteraction/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async findCommentInteractions(n={},t={current:1,size:10}){try{const o=await this.request.get("/commentInteraction",{params:{...n,...t}});return o.code==200?{success:!0,data:{commentInteractions:o.data.data,pagination:o.data.pagination}}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async findAllCommentInteractionsByFilter(n={}){try{const t=await this.request.get("/commentInteraction-all",{params:{...n}});return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async countCommentInteractionByArticleId(n){try{const t=await this.request.post(`/commentInteraction/count-article/${n}`);return t.code==200?{success:!0,data:t.data,message:t.message}:{success:!1,error:t.message,message:t.message}}catch(t){return{success:!1,error:t.message,message:t.message}}}async createCommentInteraction(n){try{const t=await this.request.post("/commentInteraction",{data:n});return t.code==200?{success:!0,data:t.data,message:t.message}:{success:!1,error:t.message,message:t.message}}catch(t){return{success:!1,error:t.message,message:t.message}}}async updateCommentInteraction(n,t){try{const o=await this.request.put(`/commentInteraction/${n}`,{data:t});return o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async deleteByCommentIdAndAction(n,t){try{const o=await this.request.delete(`/commentInteraction/${n}/${t}`);return o.code==200?{success:!0,data:o.data}:{success:!1,error:o.message}}catch(o){return{success:!1,error:o.message}}}async deleteById(n){try{const t=await this.request.delete(`/commentInteraction/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}};se(de,"instance");let qe=de;const Qo=V({__name:"index",props:{articleId:{type:String,required:!0}},setup(e){const n=e,t=Ve(),o=kt.getInstance(),a=Ae.getInstance(),r=qe.getInstance(),s=U([]),h=M(!0),v=M(!1),p=M(null),c=M(null),g=M(null),u=U([]),$=M(null),B=M(!1),w=U({current:1,size:3,total:0,pages:0});function S(m=!1){m&&s.splice(0,s.length),h.value=!0,a.findChildComments({article:n.articleId,parentComment:""},{current:w.current,size:w.size}).then(b=>{var f,T;b.success?(s.push(...((f=b.data)==null?void 0:f.comments)||[]),(T=b.data)!=null&&T.pagination&&(w.current=b.data.pagination.current,w.size=b.data.pagination.size,w.total=b.data.pagination.total,w.pages=b.data.pagination.pages)):z.error(b.error)}).catch(b=>z.error(b.message)).finally(()=>h.value=!1)}function d(){u.splice(0,u.length),r.findAllCommentInteractionsByFilter({articleId:n.articleId,userId:t.user._id}).then(m=>{u.push(...m.data||[])})}Pe(()=>{S(!0),d()});function _(){w.current+=1,S()}function P(m){var b,f;g.value=m._id||null,$.value=((b=m==null?void 0:m.author)==null?void 0:b.username)||null,(f=c.value)==null||f.focus()}async function A(m,b){if(b)await a.like(m,-1).catch(f=>z.error(f.message)),r.deleteByCommentIdAndAction(m,"like").then(f=>{f.data?(z.success("Cancel like successfully!"),d(),S(!0)):z.error(f.message)}).catch(f=>z.error(f.message));else{for(let f of u)f.commentId===m&&f.action==="dislike"&&(await a.dislike(m,-1).catch(T=>z.error(T.message)),await r.deleteByCommentIdAndAction(m,"dislike"));await a.like(m,1),r.createCommentInteraction({userId:t.user._id,articleId:n.articleId,commentId:m,action:"like"}).then(f=>{f.data?(z.success(f.message),d(),S(!0)):z.error(f.message)}).catch(f=>z.error(f.message))}}async function x(m,b){if(b)await a.dislike(m,-1).catch(f=>z.error(f.message)),r.deleteByCommentIdAndAction(m,"dislike").then(f=>{f.data?(z.success("Cancel dislike successfully!"),d(),S(!0)):z.error(f.message)}).catch(f=>z.error(f.message));else{for(let f of u)f.commentId===m&&f.action==="like"&&(await a.like(m,-1).catch(T=>z.error(T.message)),await r.deleteByCommentIdAndAction(m,"like"));await a.dislike(m,1).catch(f=>z.error(f.message)),r.createCommentInteraction({userId:t.user._id,articleId:n.articleId,commentId:m,action:"dislike"}).then(f=>{f.data?(z.success("Dislike successfully!"),d(),S(!0)):z.error(f.message)}).catch(f=>z.error(f.message))}}async function C(m){a.deleteById(m).then(b=>{b.data?(o.deleteArticleCommentCount(n.articleId),z.success(b.message)):z.error(b.message)}).catch(b=>z.error(b.message))}function l(){$.value=null}function y(){p.value?(B.value=!0,a.createComment({article:n.articleId,content:p.value,parentComment:g.value||void 0,author:{userId:t.user._id,username:t.user.username,avatar:t.user.avatar||void 0}}).then(m=>{m.data?(o.addArticleCommentCount(n.articleId),z.success(m.message),$.value=null,p.value=null,g.value=null,S(!0)):z.error(m.message)}).catch(m=>z.error(m.message)).finally(()=>B.value=!1)):z.error("Please input your comment first before submit")}return(m,b)=>{const f=Xe,T=Ye,D=Ze,k=At,E=zt,F=_n,J=On,Q=kn,ne=Ne,le=Tn,N=Lt;return R(),me(ge,null,[(R(!0),me(ge,null,Ge(s,G=>(R(),W(Rt,{key:G._id+"",comment:G,comment_interaction_list:u,onReplay:P,onLike:A,onDislike:x,onDelete:C},null,8,["comment","comment_interaction_list"]))),128)),i(D,{spinning:h.value},{default:O(()=>[s.length<w.total?(R(),W(T,{key:0,justify:"center"},{default:O(()=>[i(f,{type:"link",onClick:_},{default:O(()=>b[1]||(b[1]=[Z("")])),_:1})]),_:1})):fe("",!0)]),_:1},8,["spinning"]),i(N,{class:"comment-input-container"},{avatar:O(()=>{var G,K;return[i(k,{src:(G=j(t).user)==null?void 0:G.avatar,alt:(K=j(t).user)==null?void 0:K.username},null,8,["src","alt"])]}),content:O(()=>[$.value?(R(),W(T,{key:0,justify:"space-between",gap:10,class:"replay-placeholder"},{default:O(()=>[i(E,{type:"secondary"},{default:O(()=>[Z(": "+oe($.value),1)]),_:1}),i(F,{type:"secondary",class:"close",onClick:l},{default:O(()=>b[2]||(b[2]=[Z("x")])),_:1})]),_:1})):fe("",!0),i(D,{spinning:B.value},{default:O(()=>[i(le,null,{default:O(()=>[i(Q,null,{default:O(()=>[i(J,{value:p.value,"onUpdate:value":b[0]||(b[0]=G=>p.value=G),rows:4,placeholder:j(t).isAuthenticated?"Input your comment":"Login for comment",ref_key:"comment_ref",ref:c,disabled:!j(t).isAuthenticated},null,8,["value","placeholder","disabled"])]),_:1}),i(Q,null,{default:O(()=>[i(ne,{title:j(t).isAuthenticated?"comment":"login for comment"},{default:O(()=>[i(f,{"html-type":"submit",loading:v.value,type:"primary",onClick:y,disabled:!j(t).isAuthenticated},{default:O(()=>b[3]||(b[3]=[Z("  ")])),_:1},8,["loading","disabled"])]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["spinning"])]),_:1})],64)}}}),Ko=It(Qo,[["__scopeId","data-v-f6df1fa7"]]),ea={key:0,class:"article-detail"},ta=V({__name:"index",setup(e){var C;const n=pn(),t=gn(),o=Ve(),a=Cn.getInstance(),r=kt.getInstance(),s=M(null),h=M(),v=M(o.user),p=U(o.tags),c=U([]),g=M(),u=U([]);let $=M(!0);const B=U([{path:"/",breadcrumbName:"Home"},{path:"/article",breadcrumbName:"Article"},{path:"/article-info",breadcrumbName:((C=s.value)==null?void 0:C.title)||""}]),w=M("");hn(async()=>{await r.findArticleById(n.query._id+"").then(l=>{var y;l.success&&l.data&&(s.value=l.data,B[2].breadcrumbName=((y=s.value)==null?void 0:y.title)||"",c.push(...p.filter(m=>{var b;return(b=s.value)==null?void 0:b.tags.includes(m._id)})||[])),l.success||z.error(l.error)}).catch(l=>{z.error(l.message)}).finally(()=>$.value=!1),s.value&&a.findUserInfoById(s.value.createdBy).then(l=>{l.success?h.value=l.data:z.error(l.error)}).catch(l=>z.error(l.message))}),he(g,(l,y)=>{var m;if(l){n.fullPath,u.push(...Vo(l.html));let b=(m=l.$el.children[0])==null?void 0:m.firstChild;b&&(w.value="#"+b.getAttribute("data-v-md-line"))}}),window.onscroll=()=>{var b,f;const l=window.scrollY,y=Array.from(((b=g.value)==null?void 0:b.$el.querySelectorAll("h1, h2, h3, h4, h5, h6"))||[]);let m=(f=y[0])==null?void 0:f.getAttribute("data-v-md-line");y.forEach(T=>{T.offsetTop<=l+50&&(m="#"+T.getAttribute("data-v-md-line"))}),w.value=m||""},Ce(()=>{window.onscroll=null});const S=()=>w.value;function d(l){var m;w.value=l.target.getAttribute("href")||"";const y=l.target.getAttribute("href")||"";if(y){const b=y.slice(1,y.length),f=(m=g.value)==null?void 0:m.$el.querySelector(`[data-v-md-line="${b}"]`);window.scrollTo({top:f.offsetTop,behavior:"smooth"})}}function _(){var l;t.push({path:"/publish",query:{_id:((l=s.value)==null?void 0:l._id)+"",type:"Article"}})}const P=()=>new Promise(async l=>{var y,m;(y=s.value)!=null&&y._id&&await r.deleteById((m=s.value)==null?void 0:m._id).then(b=>{console.log(b),b.success?(z.success("Delete article successfully!"),setTimeout(()=>{t.push("/article")},yn),l(!0)):l(!1)}).catch(b=>{l(b)})}),A=l=>{z.warning("Delete operation canceled")},x=()=>{navigator.clipboard.writeText(location.href),z.success("Copied the link")};return(l,y)=>{const m=Xe,b=zn,f=xn,T=Pn,D=zt,k=Ne,E=Ye,F=ce,J=vn("v-md-preview"),Q=Dn,ne=re,le=Te,N=ke,G=$n,K=Ze;return R(),W(K,{spinning:j($)},{default:O(()=>{var ee,Se;return[s.value?(R(),me("div",ea,[i(T,{title:s.value.title,class:"article-detail-header",avatar:{src:(ee=h.value)==null?void 0:ee.avatar},breadcrumb:{routes:B},onBack:y[0]||(y[0]=()=>l.$router.go(-1))},bn({tags:O(()=>[(R(!0),me(ge,null,Ge(c,Y=>(R(),W(f,{color:"blue",key:Y._id},{default:O(()=>[Z(oe(Y.name),1)]),_:2},1024))),128))]),_:2},[s.value.createdBy==((Se=v.value)==null?void 0:Se._id)?{name:"extra",fn:O(()=>[i(m,{type:"primary",onClick:_},{default:O(()=>y[1]||(y[1]=[Z("")])),_:1}),i(b,{title:"Ready to delete?",onConfirm:P,onCancel:A},{default:O(()=>[i(m,{type:"primary",danger:""},{default:O(()=>y[2]||(y[2]=[Z("")])),_:1})]),_:1})]),key:"0"}:void 0]),1032,["title","avatar","breadcrumb"]),i(E,{gap:"20",wrap:"wrap",class:"repository-function",justify:"flex-end"},{default:O(()=>[i(k,null,{title:O(()=>y[3]||(y[3]=[Z("")])),default:O(()=>[i(D,{type:"secondary"},{default:O(()=>{var Y;return[Z(": "+oe(j(st)((Y=s.value)==null?void 0:Y.createdAt).format("YYYY-MM-DD")),1)]}),_:1})]),_:1}),i(k,null,{title:O(()=>y[4]||(y[4]=[Z("")])),default:O(()=>[i(D,{type:"secondary"},{default:O(()=>{var Y;return[Z(": "+oe(j(st)((Y=s.value)==null?void 0:Y.updatedAt).format("YYYY-MM-DD")),1)]}),_:1})]),_:1})]),_:1}),i(F,{items:u,affix:!1,wrapperClass:"article-toc",onClick:Re(d,["prevent"]),"get-current-anchor":S},null,8,["items"]),i(J,{text:s.value.content,ref_key:"preview",ref:g},null,8,["text"]),i(Q,{style:{height:"2px"}}),i(Ko,{"article-id":s.value._id+""},null,8,["article-id"]),i(N,{shape:"circle",style:{right:"24px"}},{default:O(()=>[i(ne,null,{icon:O(()=>[i(j(An))]),_:1}),i(ne,{onClick:x},{icon:O(()=>[i(j(at))]),_:1}),i(le,{"visibility-height":0})]),_:1})])):(R(),W(G,{key:1}))]}),_:1},8,["spinning"])}}}),Sa=It(ta,[["__scopeId","data-v-f42e4fc0"]]);export{Sa as default};
