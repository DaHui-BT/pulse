import{d as N,ah as j,r as T,a3 as A,g as E,aN as L,a4 as r,a5 as y,b as o,ai as n,ak as _,aT as q,a6 as d,aU as h,al as v,a7 as m,ad as u,a8 as x,a9 as G,am as H}from"./index-Bkva_4QA.js";import{A as J,T as K}from"./ArticleService-C_OPP36K.js";import{S as Q,M as R}from"./StarOutlined-DAVISiVD.js";import{L as W}from"./LikeOutlined-DqWt2T_b.js";import{_ as X}from"./index-C1Ljg8Gy.js";import{_ as Y,F as Z}from"./index-pX09Tsbs.js";import{P as tt,_ as et,S as at,a as nt,L as ot,b as st}from"./Paragraph-D5psN4RP.js";import{T as it}from"./Title-BczGzJTQ.js";import"./index-D96tQXur.js";import"./compact-item-Bz9rI9db.js";import"./request-CAHUC_tE.js";import"./TextArea-CX6guwJy.js";import"./SearchOutlined-C5ZgqH4f.js";import"./index-lUIYzjzK.js";import"./isSymbol-LHpKateK.js";import"./debounce-C8MRqobG.js";import"./RightOutlined-DJyffj0C.js";import"./index-LUYdhRMf.js";import"./List-CvcIeR6o.js";import"./Base-Chi73uKV.js";import"./eagerComputed-SBhwqVVv.js";const rt=["href"],lt=N({__name:"index",setup(P){const S=j(),l=T(!0),f=J.getInstance(),c=A([]),p=T(""),t=A({current:1,size:10,total:0,pages:1});E(g);async function g(i={}){var s;l.value=!0,(!i.title||((s=i.title)==null?void 0:s.length)===0)&&delete i.title,c.splice(0,c.length),c.push(...Array(t.size).fill({})),f.findArticles(i,{current:t.current,size:t.size}).then(e=>{e.success&&e.data?(c.splice(0,c.length),c.push(...e.data.articles||[]),t.total=e.data.pagination.total,t.current=e.data.pagination.current,t.size=e.data.pagination.size,t.pages=e.data.pagination.pages):L.error(e.error)}).catch(e=>L.error(e.message)).finally(()=>l.value=!1)}function w(){t.current=1,p.value.length===0?g():g({title:p.value})}function B(i){t.current=i,g({title:p.value})}const C=i=>{for(let s of S.tags)if(i==s._id)return s.name};return(i,s)=>{const e=X,M=Y,V=Z,b=K,k=H,D=tt,F=et,O=at,U=nt,$=ot,I=st;return r(),y(x,null,[o(V,null,{default:n(()=>[o(M,null,{default:n(()=>[o(e,{value:p.value,"onUpdate:value":s[0]||(s[0]=a=>p.value=a),valueModifiers:{trim:!0},placeholder:"input search text",onSearch:w},null,8,["value"])]),_:1})]),_:1}),o($,{"item-layout":"vertical",size:"large","data-source":c},{renderItem:n(({item:a})=>[(r(),_(U,{key:a.title,class:"content-item"},q({default:n(()=>[o(O,{loading:l.value,active:""},{default:n(()=>[o(F,null,{title:n(()=>[o(k,{justify:"space-between",gap:"10",class:"title-container"},{default:n(()=>[d("a",{href:`#/article-detail?_id=${a._id}`},u(a.title),9,rt),o(k,{gap:20},{default:n(()=>[(r(!0),y(x,null,G(a.tags,z=>(r(),_(b,{color:"cyan",key:z},{default:n(()=>[m(u(C(z)),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),description:n(()=>[o(D,{ellipsis:{rows:3},content:a.description},null,8,["content"])]),_:2},1024)]),_:2},1032,["loading"])]),_:2},[l.value?void 0:{name:"actions",fn:n(()=>[d("span",null,[(r(),_(h(v(Q)),{style:{"margin-right":"8px"}})),m(" "+u(a.statistics.collections),1)]),d("span",null,[(r(),_(h(v(W)),{style:{"margin-right":"8px"}})),m(" "+u(a.statistics.stars),1)]),d("span",null,[(r(),_(h(v(R)),{style:{"margin-right":"8px"}})),m(" "+u(a.statistics.comments),1)])]),key:"0"}]),1024))]),_:1},8,["data-source"]),o(I,{class:"article-pagination",current:t.current,"onUpdate:current":s[1]||(s[1]=a=>t.current=a),defaultPageSize:t.size,total:t.total,"show-less-items":"",onChange:B},null,8,["current","defaultPageSize","total"])],64)}}}),Bt=N({__name:"index",setup(P){return(S,l)=>{const f=it;return r(),y(x,null,[o(f,{level:2},{default:n(()=>l[0]||(l[0]=[m("Article")])),_:1}),o(lt)],64)}}});export{Bt as default};
