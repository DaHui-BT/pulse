var he=Object.defineProperty;var Se=(e,n,t)=>n in e?he(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var j=(e,n,t)=>Se(e,typeof n!="symbol"?n+"":n,t);import{b8 as ye,K as ae,a5 as w,ab as re,E as oe,G as se,x as S,H as ie,aH as $e,aG as xe,d as F,I as W,v as B,U as X,W as q,V as le,Z as ce,a as y,aJ as Ce,y as C,a0 as V,bX as be,co as ze,cp as Pe,N as we,C as Ae,bg as Be,z as K,b6 as Te,ao as ue,bi as Ee,X as Ie,D as Re,bj as Oe,l as Y,ag as U,F as de,ap as ke,aK as Ne,a3 as pe,ba as Me,bl as Fe,B as Le,m as De,cq as Ge,cr as Z,P as ee,j as He}from"./index-Ba7BTyn2.js";import{u as We}from"./moment-BoqZY70G.js";import{r as _e}from"./index-tyPRltW9.js";import{u as je}from"./FormItem-CSQuUzAA.js";import{R as qe}from"./request-thOeSjyk.js";const Xe=new ae("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),Ve=new ae("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),xt=function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:t}=e,a=`${t}-fade`,s=n?"&":"";return[ye(a,Xe,Ve,e.motionDurationMid,n),{[`
        ${s}${a}-enter,
        ${s}${a}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${s}${a}-leave`]:{animationTimingFunction:"linear"}}]};function Ke(e){const n=w();return re(()=>{n.value=e()},{flush:"sync"}),n}const Ue=e=>{const{antCls:n,componentCls:t,iconCls:a,avatarBg:s,avatarColor:p,containerSize:l,containerSizeLG:v,containerSizeSM:g,textFontSize:f,textFontSizeLG:d,textFontSizeSM:i,borderRadius:r,borderRadiusLG:o,borderRadiusSM:m,lineWidth:$,lineType:b}=e,c=(h,u,x)=>({width:h,height:h,lineHeight:`${h-$*2}px`,borderRadius:"50%",[`&${t}-square`]:{borderRadius:x},[`${t}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${t}-icon`]:{fontSize:u,[`> ${a}`]:{margin:0}}});return{[t]:S(S(S(S({},ie(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:p,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:s,border:`${$}px ${b} transparent`,"&-image":{background:"transparent"},[`${n}-image-img`]:{display:"block"}}),c(l,f,r)),{"&-lg":S({},c(v,d,o)),"&-sm":S({},c(g,i,m)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ze=e=>{const{componentCls:n,groupBorderColor:t,groupOverlapping:a,groupSpace:s}=e;return{[`${n}-group`]:{display:"inline-flex",[`${n}`]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:a}},[`${n}-group-popover`]:{[`${n} + ${n}`]:{marginInlineStart:s}}}},ve=oe("Avatar",e=>{const{colorTextLightSolid:n,colorTextPlaceholder:t}=e,a=se(e,{avatarBg:t,avatarColor:n});return[Ue(a),Ze(a)]},e=>{const{controlHeight:n,controlHeightLG:t,controlHeightSM:a,fontSize:s,fontSizeLG:p,fontSizeXL:l,fontSizeHeading3:v,marginXS:g,marginXXS:f,colorBorderBg:d}=e;return{containerSize:n,containerSizeLG:t,containerSizeSM:a,textFontSize:Math.round((p+l)/2),textFontSizeLG:v,textFontSizeSM:s,groupSpace:f,groupOverlapping:-g,groupBorderColor:d}}),ge=Symbol("AvatarContextKey"),Je=()=>$e(ge,{}),Qe=e=>xe(ge,e),Ye=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:V.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),M=F({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:Ye(),slots:Object,setup(e,n){let{slots:t,attrs:a}=n;const s=w(!0),p=w(!1),l=w(1),v=w(null),g=w(null),{prefixCls:f}=W("avatar",e),[d,i]=ve(f),r=Je(),o=B(()=>e.size==="default"?r.size:e.size),m=We(),$=Ke(()=>{if(typeof e.size!="object")return;const u=_e.find(P=>m.value[P]);return e.size[u]}),b=u=>$.value?{width:`${$.value}px`,height:`${$.value}px`,lineHeight:`${$.value}px`,fontSize:`${u?$.value/2:18}px`}:{},c=()=>{if(!v.value||!g.value)return;const u=v.value.offsetWidth,x=g.value.offsetWidth;if(u!==0&&x!==0){const{gap:P=4}=e;P*2<x&&(l.value=x-P*2<u?(x-P*2)/u:1)}},h=()=>{const{loadError:u}=e;(u==null?void 0:u())!==!1&&(s.value=!1)};return X(()=>e.src,()=>{q(()=>{s.value=!0,l.value=1})}),X(()=>e.gap,()=>{q(()=>{c()})}),le(()=>{q(()=>{c(),p.value=!0})}),()=>{var u,x;const{shape:P,src:E,alt:L,srcset:I,draggable:D,crossOrigin:G}=e,O=(u=r.shape)!==null&&u!==void 0?u:P,A=ce(t,e,"icon"),z=f.value,k={[`${a.class}`]:!!a.class,[z]:!0,[`${z}-lg`]:o.value==="large",[`${z}-sm`]:o.value==="small",[`${z}-${O}`]:!0,[`${z}-image`]:E&&s.value,[`${z}-icon`]:A,[i.value]:!0},R=typeof o.value=="number"?{width:`${o.value}px`,height:`${o.value}px`,lineHeight:`${o.value}px`,fontSize:A?`${o.value/2}px`:"18px"}:{},Q=(x=t.default)===null||x===void 0?void 0:x.call(t);let N;if(E&&s.value)N=y("img",{draggable:D,src:E,srcset:I,onError:h,alt:L,crossorigin:G},null);else if(A)N=A;else if(p.value||l.value!==1){const _=`scale(${l.value}) translateX(-50%)`,fe={msTransform:_,WebkitTransform:_,transform:_},me=typeof o.value=="number"?{lineHeight:`${o.value}px`}:{};N=y(Ce,{onResize:c},{default:()=>[y("span",{class:`${z}-string`,ref:v,style:S(S({},me),fe)},[Q])]})}else N=y("span",{class:`${z}-string`,ref:v,style:{opacity:0}},[Q]);return d(y("span",C(C({},a),{},{ref:g,class:k,style:[R,b(!!A),a.style]}),[N]))}}}),et=e=>{const{componentCls:n,popoverBg:t,popoverColor:a,width:s,fontWeightStrong:p,popoverPadding:l,boxShadowSecondary:v,colorTextHeading:g,borderRadiusLG:f,zIndexPopup:d,marginXS:i,colorBgElevated:r}=e;return[{[n]:S(S({},ie(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":r,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:t,backgroundClip:"padding-box",borderRadius:f,boxShadow:v,padding:l},[`${n}-title`]:{minWidth:s,marginBottom:i,color:g,fontWeight:p},[`${n}-inner-content`]:{color:a}})},ze(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${n}-pure`]:{position:"relative",maxWidth:"none",[`${n}-content`]:{display:"inline-block"}}}]},tt=e=>{const{componentCls:n}=e;return{[n]:Pe.map(t=>{const a=e[`${t}-6`];return{[`&${n}-${t}`]:{"--antd-arrow-background-color":a,[`${n}-inner`]:{backgroundColor:a},[`${n}-arrow`]:{background:"transparent"}}}})}},nt=e=>{const{componentCls:n,lineWidth:t,lineType:a,colorSplit:s,paddingSM:p,controlHeight:l,fontSize:v,lineHeight:g,padding:f}=e,d=l-Math.round(v*g),i=d/2,r=d/2-t,o=f;return{[n]:{[`${n}-inner`]:{padding:0},[`${n}-title`]:{margin:0,padding:`${i}px ${o}px ${r}px`,borderBottom:`${t}px ${a} ${s}`},[`${n}-inner-content`]:{padding:`${p}px ${o}px`}}}},at=oe("Popover",e=>{const{colorBgElevated:n,colorText:t,wireframe:a}=e,s=se(e,{popoverBg:n,popoverColor:t,popoverPadding:12});return[et(s),tt(s),a&&nt(s),be(s,"zoom-big")]},e=>{let{zIndexPopupBase:n}=e;return{zIndexPopup:n+30,width:177}}),rt=()=>S(S({},Oe()),{content:Y(),title:Y()}),ot=F({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:Ae(rt(),S(S({},Be()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,n){let{expose:t,slots:a,attrs:s}=n;const p=K();Te(e.visible===void 0),t({getPopupDomNode:()=>{var r,o;return(o=(r=p.value)===null||r===void 0?void 0:r.getPopupDomNode)===null||o===void 0?void 0:o.call(r)}});const{prefixCls:l,configProvider:v}=W("popover",e),[g,f]=at(l),d=B(()=>v.getPrefixCls()),i=()=>{var r,o;const{title:m=U((r=a.title)===null||r===void 0?void 0:r.call(a)),content:$=U((o=a.content)===null||o===void 0?void 0:o.call(a))}=e,b=!!(Array.isArray(m)?m.length:m),c=!!(Array.isArray($)?$.length:m);return!b&&!c?null:y(de,null,[b&&y("div",{class:`${l.value}-title`},[m]),y("div",{class:`${l.value}-inner-content`},[$])])};return()=>{const r=ue(e.overlayClassName,f.value);return g(y(Re,C(C(C({},Ie(e,["title","content"])),s),{},{prefixCls:l.value,ref:p,overlayClassName:r,transitionName:Ee(d.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:i,default:a.default}))}}}),st=we(ot),it=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),J=F({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:it(),setup(e,n){let{slots:t,attrs:a}=n;const{prefixCls:s,direction:p}=W("avatar",e),l=B(()=>`${s.value}-group`),[v,g]=ve(s);return re(()=>{const f={size:e.size,shape:e.shape};Qe(f)}),()=>{const{maxPopoverPlacement:f="top",maxCount:d,maxStyle:i,maxPopoverTrigger:r="hover",shape:o}=e,m={[l.value]:!0,[`${l.value}-rtl`]:p.value==="rtl",[`${a.class}`]:!!a.class,[g.value]:!0},$=ce(t,e),b=ke($).map((h,u)=>Ne(h,{key:`avatar-key-${u}`})),c=b.length;if(d&&d<c){const h=b.slice(0,d),u=b.slice(d,c);return h.push(y(st,{key:"avatar-popover-key",content:u,trigger:r,placement:f,overlayClassName:`${l.value}-popover`},{default:()=>[y(M,{style:i,shape:o},{default:()=>[`+${c-d}`]})]})),v(y("div",C(C({},a),{},{class:m,style:a.style}),[h]))}return v(y("div",C(C({},a),{},{class:m,style:a.style}),[b]))}}});M.Group=J;M.install=function(e){return e.component(M.name,M),e.component(J.name,J),e};const lt=()=>{const e=w(!1);return pe(()=>{e.value=!0}),e},ct={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:De(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function te(e){return!!(e&&e.then)}const Ct=F({compatConfig:{MODE:3},name:"ActionButton",props:ct,setup(e,n){let{slots:t}=n;const a=w(!1),s=w(),p=w(!1);let l;const v=lt();le(()=>{e.autofocus&&(l=setTimeout(()=>{var i,r;return(r=(i=Me(s.value))===null||i===void 0?void 0:i.focus)===null||r===void 0?void 0:r.call(i)}))}),pe(()=>{clearTimeout(l)});const g=function(){for(var i,r=arguments.length,o=new Array(r),m=0;m<r;m++)o[m]=arguments[m];(i=e.close)===null||i===void 0||i.call(e,...o)},f=i=>{te(i)&&(p.value=!0,i.then(function(){v.value||(p.value=!1),g(...arguments),a.value=!1},r=>(v.value||(p.value=!1),a.value=!1,Promise.reject(r))))},d=i=>{const{actionFn:r}=e;if(a.value)return;if(a.value=!0,!r){g();return}let o;if(e.emitEvent){if(o=r(i),e.quitOnNullishReturnValue&&!te(o)){a.value=!1,g(i);return}}else if(r.length)o=r(e.close),a.value=!1;else if(o=r(),!o){g();return}f(o)};return()=>{const{type:i,prefixCls:r,buttonProps:o}=e;return y(Le,C(C(C({},Fe(i)),{},{onClick:d,loading:p.value,prefixCls:r},o),{},{ref:s}),t)}}}),ut={small:8,middle:16,large:24},dt=()=>({prefixCls:String,size:{type:[String,Number,Array]},direction:V.oneOf(ee("horizontal","vertical")).def("horizontal"),align:V.oneOf(ee("start","end","center","baseline")),wrap:He()});function pt(e){return typeof e=="string"?ut[e]:e||0}const H=F({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:dt(),slots:Object,setup(e,n){let{slots:t,attrs:a}=n;const{prefixCls:s,space:p,direction:l}=W("space",e),[v,g]=Ge(s),f=je(),d=B(()=>{var c,h,u;return(u=(c=e.size)!==null&&c!==void 0?c:(h=p==null?void 0:p.value)===null||h===void 0?void 0:h.size)!==null&&u!==void 0?u:"small"}),i=K(),r=K();X(d,()=>{[i.value,r.value]=(Array.isArray(d.value)?d.value:[d.value,d.value]).map(c=>pt(c))},{immediate:!0});const o=B(()=>e.align===void 0&&e.direction==="horizontal"?"center":e.align),m=B(()=>ue(s.value,g.value,`${s.value}-${e.direction}`,{[`${s.value}-rtl`]:l.value==="rtl",[`${s.value}-align-${o.value}`]:o.value})),$=B(()=>l.value==="rtl"?"marginLeft":"marginRight"),b=B(()=>{const c={};return f.value&&(c.columnGap=`${i.value}px`,c.rowGap=`${r.value}px`),S(S({},c),e.wrap&&{flexWrap:"wrap",marginBottom:`${-r.value}px`})});return()=>{var c,h;const{wrap:u,direction:x="horizontal"}=e,P=(c=t.default)===null||c===void 0?void 0:c.call(t),E=U(P),L=E.length;if(L===0)return null;const I=(h=t.split)===null||h===void 0?void 0:h.call(t),D=`${s.value}-item`,G=i.value,O=L-1;return y("div",C(C({},a),{},{class:[m.value,a.class],style:[b.value,a.style]}),[E.map((A,z)=>{let k=P.indexOf(A);k===-1&&(k=`$$space-${z}`);let R={};return f.value||(x==="vertical"?z<O&&(R={marginBottom:`${G/(I?2:1)}px`}):R=S(S({},z<O&&{[$.value]:`${G/(I?2:1)}px`}),u&&{paddingBottom:`${r.value}px`})),v(y(de,{key:k},[y("div",{class:D,style:R},[A]),z<O&&I&&y("span",{class:`${D}-split`,style:R},[I])]))})])}}});H.Compact=Z;H.install=function(e){return e.component(H.name,H),e.component(Z.name,Z),e};const T=class T{constructor(){j(this,"request");this.request=new qe}static getInstance(){return T.instance||(T.instance=new T),T.instance}async findInteractionById(n){try{const t=await this.request.get(`/interaction/${n}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async findInteractions(n={}){try{const t=await this.request.get("/interaction",{params:n});return t.code==200?{success:!0,data:{interactions:t.data,total:1}}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async createInteraction(n){try{const t=await this.request.post("/interaction",{data:n});return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async updateInteractionById(n,t){try{const a=await this.request.put(`/interaction/${n}`,{data:t});return a.code==200?{success:!0,data:a.data}:{success:!1,error:a.message}}catch(a){return{success:!1,error:a.message}}}async deleteInteractionById(n){try{const t=await this.request.delete(`/interaction/${n}`);return t.code==200?{success:!0}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async deleteInteractionByFilter(n){try{const t=await this.request.delete("/interaction",{params:n});return t.code==200?{success:!0}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}};j(T,"instance");let ne=T;var vt=(e=>(e.STAR="STAR",e.COLLECT="COLLECT",e.WATCH="WATCH",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e))(vt||{}),gt=(e=>(e.ARTICLE="ARTICLE",e.COMMENT="COMMENT",e))(gt||{});export{M as A,gt as C,ne as I,vt as O,st as P,H as S,Ct as a,Ke as e,xt as i,lt as u};
