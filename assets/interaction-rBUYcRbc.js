var me=Object.defineProperty;var he=(e,r,t)=>r in e?me(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var j=(e,r,t)=>he(e,typeof r!="symbol"?r+"":r,t);import{a5 as w,ab as ne,E as ae,G as oe,x as S,H as se,aH as Se,aG as ye,d as L,I as W,v as B,U as X,W as q,V as le,Z as ie,a as y,aJ as $e,y as C,a0 as V,bM as xe,cg as Ce,ch as be,N as ze,C as Pe,b5 as we,z as U,b1 as Ae,ao as ce,b7 as Be,X as Te,D as Ee,b8 as Ie,l as Y,ag as K,F as ue,ap as Re,aK as ke,a3 as de,ci as Ne,ba as Oe,B as Me,m as Le,cj as De,ck as Z,P as ee,j as Fe}from"./index-P0jP5IUd.js";import{u as Ge}from"./moment-DonWFfkO.js";import{r as He}from"./index-BHGI6ji-.js";import{u as We}from"./FormItem-DxiUMgeg.js";import{R as _e}from"./request-CxKKcrXY.js";function je(e){const r=w();return ne(()=>{r.value=e()},{flush:"sync"}),r}const qe=e=>{const{antCls:r,componentCls:t,iconCls:n,avatarBg:s,avatarColor:p,containerSize:i,containerSizeLG:v,containerSizeSM:g,textFontSize:f,textFontSizeLG:d,textFontSizeSM:l,borderRadius:a,borderRadiusLG:o,borderRadiusSM:m,lineWidth:$,lineType:b}=e,c=(h,u,x)=>({width:h,height:h,lineHeight:`${h-$*2}px`,borderRadius:"50%",[`&${t}-square`]:{borderRadius:x},[`${t}-string`]:{position:"absolute",left:{_skip_check_:!0,value:"50%"},transformOrigin:"0 center"},[`&${t}-icon`]:{fontSize:u,[`> ${n}`]:{margin:0}}});return{[t]:S(S(S(S({},se(e)),{position:"relative",display:"inline-block",overflow:"hidden",color:p,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:s,border:`${$}px ${b} transparent`,"&-image":{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),c(i,f,a)),{"&-lg":S({},c(v,d,o)),"&-sm":S({},c(g,l,m)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Xe=e=>{const{componentCls:r,groupBorderColor:t,groupOverlapping:n,groupSpace:s}=e;return{[`${r}-group`]:{display:"inline-flex",[`${r}`]:{borderColor:t},"> *:not(:first-child)":{marginInlineStart:n}},[`${r}-group-popover`]:{[`${r} + ${r}`]:{marginInlineStart:s}}}},pe=ae("Avatar",e=>{const{colorTextLightSolid:r,colorTextPlaceholder:t}=e,n=oe(e,{avatarBg:t,avatarColor:r});return[qe(n),Xe(n)]},e=>{const{controlHeight:r,controlHeightLG:t,controlHeightSM:n,fontSize:s,fontSizeLG:p,fontSizeXL:i,fontSizeHeading3:v,marginXS:g,marginXXS:f,colorBorderBg:d}=e;return{containerSize:r,containerSizeLG:t,containerSizeSM:n,textFontSize:Math.round((p+i)/2),textFontSizeLG:v,textFontSizeSM:s,groupSpace:f,groupOverlapping:-g,groupBorderColor:d}}),ve=Symbol("AvatarContextKey"),Ve=()=>Se(ve,{}),Ue=e=>ye(ve,e),Ke=()=>({prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:()=>"default"},src:String,srcset:String,icon:V.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}),M=L({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:Ke(),slots:Object,setup(e,r){let{slots:t,attrs:n}=r;const s=w(!0),p=w(!1),i=w(1),v=w(null),g=w(null),{prefixCls:f}=W("avatar",e),[d,l]=pe(f),a=Ve(),o=B(()=>e.size==="default"?a.size:e.size),m=Ge(),$=je(()=>{if(typeof e.size!="object")return;const u=He.find(P=>m.value[P]);return e.size[u]}),b=u=>$.value?{width:`${$.value}px`,height:`${$.value}px`,lineHeight:`${$.value}px`,fontSize:`${u?$.value/2:18}px`}:{},c=()=>{if(!v.value||!g.value)return;const u=v.value.offsetWidth,x=g.value.offsetWidth;if(u!==0&&x!==0){const{gap:P=4}=e;P*2<x&&(i.value=x-P*2<u?(x-P*2)/u:1)}},h=()=>{const{loadError:u}=e;(u==null?void 0:u())!==!1&&(s.value=!1)};return X(()=>e.src,()=>{q(()=>{s.value=!0,i.value=1})}),X(()=>e.gap,()=>{q(()=>{c()})}),le(()=>{q(()=>{c(),p.value=!0})}),()=>{var u,x;const{shape:P,src:E,alt:D,srcset:I,draggable:F,crossOrigin:G}=e,k=(u=a.shape)!==null&&u!==void 0?u:P,A=ie(t,e,"icon"),z=f.value,N={[`${n.class}`]:!!n.class,[z]:!0,[`${z}-lg`]:o.value==="large",[`${z}-sm`]:o.value==="small",[`${z}-${k}`]:!0,[`${z}-image`]:E&&s.value,[`${z}-icon`]:A,[l.value]:!0},R=typeof o.value=="number"?{width:`${o.value}px`,height:`${o.value}px`,lineHeight:`${o.value}px`,fontSize:A?`${o.value/2}px`:"18px"}:{},Q=(x=t.default)===null||x===void 0?void 0:x.call(t);let O;if(E&&s.value)O=y("img",{draggable:F,src:E,srcset:I,onError:h,alt:D,crossorigin:G},null);else if(A)O=A;else if(p.value||i.value!==1){const _=`scale(${i.value}) translateX(-50%)`,ge={msTransform:_,WebkitTransform:_,transform:_},fe=typeof o.value=="number"?{lineHeight:`${o.value}px`}:{};O=y($e,{onResize:c},{default:()=>[y("span",{class:`${z}-string`,ref:v,style:S(S({},fe),ge)},[Q])]})}else O=y("span",{class:`${z}-string`,ref:v,style:{opacity:0}},[Q]);return d(y("span",C(C({},n),{},{ref:g,class:N,style:[R,b(!!A),n.style]}),[O]))}}}),Ze=e=>{const{componentCls:r,popoverBg:t,popoverColor:n,width:s,fontWeightStrong:p,popoverPadding:i,boxShadowSecondary:v,colorTextHeading:g,borderRadiusLG:f,zIndexPopup:d,marginXS:l,colorBgElevated:a}=e;return[{[r]:S(S({},se(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:d,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":a,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${r}-content`]:{position:"relative"},[`${r}-inner`]:{backgroundColor:t,backgroundClip:"padding-box",borderRadius:f,boxShadow:v,padding:i},[`${r}-title`]:{minWidth:s,marginBottom:l,color:g,fontWeight:p},[`${r}-inner-content`]:{color:n}})},Ce(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${r}-pure`]:{position:"relative",maxWidth:"none",[`${r}-content`]:{display:"inline-block"}}}]},Je=e=>{const{componentCls:r}=e;return{[r]:be.map(t=>{const n=e[`${t}-6`];return{[`&${r}-${t}`]:{"--antd-arrow-background-color":n,[`${r}-inner`]:{backgroundColor:n},[`${r}-arrow`]:{background:"transparent"}}}})}},Qe=e=>{const{componentCls:r,lineWidth:t,lineType:n,colorSplit:s,paddingSM:p,controlHeight:i,fontSize:v,lineHeight:g,padding:f}=e,d=i-Math.round(v*g),l=d/2,a=d/2-t,o=f;return{[r]:{[`${r}-inner`]:{padding:0},[`${r}-title`]:{margin:0,padding:`${l}px ${o}px ${a}px`,borderBottom:`${t}px ${n} ${s}`},[`${r}-inner-content`]:{padding:`${p}px ${o}px`}}}},Ye=ae("Popover",e=>{const{colorBgElevated:r,colorText:t,wireframe:n}=e,s=oe(e,{popoverBg:r,popoverColor:t,popoverPadding:12});return[Ze(s),Je(s),n&&Qe(s),xe(s,"zoom-big")]},e=>{let{zIndexPopupBase:r}=e;return{zIndexPopup:r+30,width:177}}),et=()=>S(S({},Ie()),{content:Y(),title:Y()}),tt=L({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:Pe(et(),S(S({},we()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,r){let{expose:t,slots:n,attrs:s}=r;const p=U();Ae(e.visible===void 0),t({getPopupDomNode:()=>{var a,o;return(o=(a=p.value)===null||a===void 0?void 0:a.getPopupDomNode)===null||o===void 0?void 0:o.call(a)}});const{prefixCls:i,configProvider:v}=W("popover",e),[g,f]=Ye(i),d=B(()=>v.getPrefixCls()),l=()=>{var a,o;const{title:m=K((a=n.title)===null||a===void 0?void 0:a.call(n)),content:$=K((o=n.content)===null||o===void 0?void 0:o.call(n))}=e,b=!!(Array.isArray(m)?m.length:m),c=!!(Array.isArray($)?$.length:m);return!b&&!c?null:y(ue,null,[b&&y("div",{class:`${i.value}-title`},[m]),y("div",{class:`${i.value}-inner-content`},[$])])};return()=>{const a=ce(e.overlayClassName,f.value);return g(y(Ee,C(C(C({},Te(e,["title","content"])),s),{},{prefixCls:i.value,ref:p,overlayClassName:a,transitionName:Be(d.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:l,default:n.default}))}}}),rt=ze(tt),nt=()=>({prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"},shape:{type:String,default:"circle"}}),J=L({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:nt(),setup(e,r){let{slots:t,attrs:n}=r;const{prefixCls:s,direction:p}=W("avatar",e),i=B(()=>`${s.value}-group`),[v,g]=pe(s);return ne(()=>{const f={size:e.size,shape:e.shape};Ue(f)}),()=>{const{maxPopoverPlacement:f="top",maxCount:d,maxStyle:l,maxPopoverTrigger:a="hover",shape:o}=e,m={[i.value]:!0,[`${i.value}-rtl`]:p.value==="rtl",[`${n.class}`]:!!n.class,[g.value]:!0},$=ie(t,e),b=Re($).map((h,u)=>ke(h,{key:`avatar-key-${u}`})),c=b.length;if(d&&d<c){const h=b.slice(0,d),u=b.slice(d,c);return h.push(y(rt,{key:"avatar-popover-key",content:u,trigger:a,placement:f,overlayClassName:`${i.value}-popover`},{default:()=>[y(M,{style:l,shape:o},{default:()=>[`+${c-d}`]})]})),v(y("div",C(C({},n),{},{class:m,style:n.style}),[h]))}return v(y("div",C(C({},n),{},{class:m,style:n.style}),[b]))}}});M.Group=J;M.install=function(e){return e.component(M.name,M),e.component(J.name,J),e};const at=()=>{const e=w(!1);return de(()=>{e.value=!0}),e},ot={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Le(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function te(e){return!!(e&&e.then)}const ht=L({compatConfig:{MODE:3},name:"ActionButton",props:ot,setup(e,r){let{slots:t}=r;const n=w(!1),s=w(),p=w(!1);let i;const v=at();le(()=>{e.autofocus&&(i=setTimeout(()=>{var l,a;return(a=(l=Ne(s.value))===null||l===void 0?void 0:l.focus)===null||a===void 0?void 0:a.call(l)}))}),de(()=>{clearTimeout(i)});const g=function(){for(var l,a=arguments.length,o=new Array(a),m=0;m<a;m++)o[m]=arguments[m];(l=e.close)===null||l===void 0||l.call(e,...o)},f=l=>{te(l)&&(p.value=!0,l.then(function(){v.value||(p.value=!1),g(...arguments),n.value=!1},a=>(v.value||(p.value=!1),n.value=!1,Promise.reject(a))))},d=l=>{const{actionFn:a}=e;if(n.value)return;if(n.value=!0,!a){g();return}let o;if(e.emitEvent){if(o=a(l),e.quitOnNullishReturnValue&&!te(o)){n.value=!1,g(l);return}}else if(a.length)o=a(e.close),n.value=!1;else if(o=a(),!o){g();return}f(o)};return()=>{const{type:l,prefixCls:a,buttonProps:o}=e;return y(Me,C(C(C({},Oe(l)),{},{onClick:d,loading:p.value,prefixCls:a},o),{},{ref:s}),t)}}}),st={small:8,middle:16,large:24},lt=()=>({prefixCls:String,size:{type:[String,Number,Array]},direction:V.oneOf(ee("horizontal","vertical")).def("horizontal"),align:V.oneOf(ee("start","end","center","baseline")),wrap:Fe()});function it(e){return typeof e=="string"?st[e]:e||0}const H=L({compatConfig:{MODE:3},name:"ASpace",inheritAttrs:!1,props:lt(),slots:Object,setup(e,r){let{slots:t,attrs:n}=r;const{prefixCls:s,space:p,direction:i}=W("space",e),[v,g]=De(s),f=We(),d=B(()=>{var c,h,u;return(u=(c=e.size)!==null&&c!==void 0?c:(h=p==null?void 0:p.value)===null||h===void 0?void 0:h.size)!==null&&u!==void 0?u:"small"}),l=U(),a=U();X(d,()=>{[l.value,a.value]=(Array.isArray(d.value)?d.value:[d.value,d.value]).map(c=>it(c))},{immediate:!0});const o=B(()=>e.align===void 0&&e.direction==="horizontal"?"center":e.align),m=B(()=>ce(s.value,g.value,`${s.value}-${e.direction}`,{[`${s.value}-rtl`]:i.value==="rtl",[`${s.value}-align-${o.value}`]:o.value})),$=B(()=>i.value==="rtl"?"marginLeft":"marginRight"),b=B(()=>{const c={};return f.value&&(c.columnGap=`${l.value}px`,c.rowGap=`${a.value}px`),S(S({},c),e.wrap&&{flexWrap:"wrap",marginBottom:`${-a.value}px`})});return()=>{var c,h;const{wrap:u,direction:x="horizontal"}=e,P=(c=t.default)===null||c===void 0?void 0:c.call(t),E=K(P),D=E.length;if(D===0)return null;const I=(h=t.split)===null||h===void 0?void 0:h.call(t),F=`${s.value}-item`,G=l.value,k=D-1;return y("div",C(C({},n),{},{class:[m.value,n.class],style:[b.value,n.style]}),[E.map((A,z)=>{let N=P.indexOf(A);N===-1&&(N=`$$space-${z}`);let R={};return f.value||(x==="vertical"?z<k&&(R={marginBottom:`${G/(I?2:1)}px`}):R=S(S({},z<k&&{[$.value]:`${G/(I?2:1)}px`}),u&&{paddingBottom:`${a.value}px`})),v(y(ue,{key:N},[y("div",{class:F,style:R},[A]),z<k&&I&&y("span",{class:`${F}-split`,style:R},[I])]))})])}}});H.Compact=Z;H.install=function(e){return e.component(H.name,H),e.component(Z.name,Z),e};const T=class T{constructor(){j(this,"request");this.request=new _e}static getInstance(){return T.instance||(T.instance=new T),T.instance}async findInteractionById(r){try{const t=await this.request.get(`/interaction/${r}`);return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async findInteractions(r={}){try{const t=await this.request.get("/interaction",{params:r});return t.code==200?{success:!0,data:{interactions:t.data,total:1}}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async createInteraction(r){try{const t=await this.request.post("/interaction",{data:r});return t.code==200?{success:!0,data:t.data}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async updateInteractionById(r,t){try{const n=await this.request.put(`/interaction/${r}`,{data:t});return n.code==200?{success:!0,data:n.data}:{success:!1,error:n.message}}catch(n){return{success:!1,error:n.message}}}async deleteInteractionById(r){try{const t=await this.request.delete(`/interaction/${r}`);return t.code==200?{success:!0}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}async deleteInteractionByFilter(r){try{const t=await this.request.delete("/interaction",{params:r});return t.code==200?{success:!0}:{success:!1,error:t.message}}catch(t){return{success:!1,error:t.message}}}};j(T,"instance");let re=T;var ct=(e=>(e.STAR="STAR",e.COLLECT="COLLECT",e.WATCH="WATCH",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE",e))(ct||{}),ut=(e=>(e.ARTICLE="ARTICLE",e.COMMENT="COMMENT",e))(ut||{});export{M as A,ut as C,re as I,ct as O,rt as P,H as S,ht as a,je as e,at as u};
